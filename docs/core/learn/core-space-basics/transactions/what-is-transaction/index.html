<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-core/learn/core-space-basics/transactions/what-is-transaction">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Conflux Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Conflux Docs Atom Feed"><title data-rh="true">What is Transaction? | Conflux Docs</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://docs.conflux123.xyz//docs/core/learn/core-space-basics/transactions/what-is-transaction"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="What is Transaction? | Conflux Docs"><meta data-rh="true" name="description" content="Sending a transaction is the only way to store or update data on the blockchain. Whether it is sending CFX or updating a contract state, it can only be achieved through transactions."><meta data-rh="true" property="og:description" content="Sending a transaction is the only way to store or update data on the blockchain. Whether it is sending CFX or updating a contract state, it can only be achieved through transactions."><meta data-rh="true" name="keywords" content="transaction"><link data-rh="true" rel="icon" href="/img/logo.svg"><link data-rh="true" rel="canonical" href="https://docs.conflux123.xyz//docs/core/learn/core-space-basics/transactions/what-is-transaction"><link data-rh="true" rel="alternate" href="https://docs.conflux123.xyz//docs/core/learn/core-space-basics/transactions/what-is-transaction" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.conflux123.xyz//docs/core/learn/core-space-basics/transactions/what-is-transaction" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.7a7a77ee.css">
<link rel="preload" href="/assets/js/runtime~main.17c11985.js" as="script">
<link rel="preload" href="/assets/js/main.035bc87b.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Conflux Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="Conflux Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">CONFLUXDOCS</b></a><a class="navbar__item navbar__link" href="/docs/category/general">General</a><a class="navbar__item navbar__link" href="/docs/category/core">Core</a><a class="navbar__item navbar__link" href="/docs/category/espace">eSpace</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/Conflux-Chain/conflux-documentation" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/general">General</a><button aria-label="Toggle the collapsible sidebar category &#x27;General&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/core">Core</a><button aria-label="Toggle the collapsible sidebar category &#x27;Core&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/category/learn">Learn</a><button aria-label="Toggle the collapsible sidebar category &#x27;Learn&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/getting-started">Getting Started</a><button aria-label="Toggle the collapsible sidebar category &#x27;Getting Started&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/category/core-space-basics">Core Space Basics</a><button aria-label="Toggle the collapsible sidebar category &#x27;Core Space Basics&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/core/learn/core-space-basics/addresses">Addresses</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/category/transactions">Transactions</a><button aria-label="Toggle the collapsible sidebar category &#x27;Transactions&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/core/learn/core-space-basics/transactions/what-is-transaction">What is Transaction?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/core/learn/core-space-basics/transactions/common-errors">Common Errors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/core/learn/core-space-basics/transactions/why-transaction-is-pending">Why Transaction is Pending?</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-5 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/core/learn/core-space-basics/transactions/FAQ">FAQs</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/core/learn/core-space-basics/storage">Storage</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-4 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/internal-contracts">Internal Contracts</a><button aria-label="Toggle the collapsible sidebar category &#x27;Internal Contracts&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/core/learn/core-space-basics/sponsor-mechanism">Sponsor Mechanism</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/build">Build</a><button aria-label="Toggle the collapsible sidebar category &#x27;Build&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/category/tutorials">Tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/espace">eSpace</a><button aria-label="Toggle the collapsible sidebar category &#x27;eSpace&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/core"><span itemprop="name">Core</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/learn"><span itemprop="name">Learn</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/core-space-basics"><span itemprop="name">Core Space Basics</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/transactions"><span itemprop="name">Transactions</span></a><meta itemprop="position" content="4"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">What is Transaction?</span><meta itemprop="position" content="5"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>What is Transaction?</h1></header><p>Sending a transaction is the only way to store or update data on the blockchain. Whether it is sending CFX or updating a contract state, it can only be achieved through transactions.
Sending a transaction involves three phases: transaction construction, signing, and sending. Usually, the SDK of each language will provide a packaged method that can be called directly.
However, if you want to know more low-level details, or if you encounter problems when sending transactions, this article may be helpful.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-construct-a-transaction">How to construct a transaction<a class="hash-link" href="#how-to-construct-a-transaction" title="Direct link to heading">​</a></h2><p>To construct a transaction, first, you need to prepare the various fields of the transaction, including:</p><ul><li><code>from</code></li><li><code>to</code></li><li><code>value</code></li><li><code>nonce</code></li><li><code>data</code></li><li><code>gas</code></li><li><code>gasPrice</code></li><li><code>storageLimit</code></li><li><code>chainId</code></li><li><code>epochHeight</code></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="basic-fields">Basic fields<a class="hash-link" href="#basic-fields" title="Direct link to heading">​</a></h3><p><code>from</code>, <code>to</code>, <code>value</code> are basic fields of a transaction that correspond to the <code>originating account</code>, <code>destination account</code>, and <code>amount</code> of the transaction, respectively.</p><p><code>from</code> is fairly easy to determine. You can simply select an external account (non-contract account) address with CFX balance. If the destination account of the transaction is a contract that is sponsored, the initiating account does not even require a CFX balance. The balance of the account can be queried through the RPC <code>cfx_getBalance</code> RPC method.</p><p><code>to</code> is the destination account of the transaction: if you just want to initiate a CFX transfer, then <code>to</code> can be directly set as the CFX destination account; if you need to change the contract status, <code>to</code> needs to be set as the contract address; if you are deploying a new contract, <code>to</code> is left blank.</p><p><code>value</code> represents the CFX transfer amount of a transaction, and it needs to set an integer with the unit of Drip.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="nonce">nonce<a class="hash-link" href="#nonce" title="Direct link to heading">​</a></h3><p><code>nonce</code> is the number of transactions sent by an account. In other words, it is the execution sequence number of transactions sent by an account. It can be queried through the RPC method <code>cfx_getNextNonce</code>. It has the following characteristics:</p><ol><li>The execution of transactions on the blockchain is in the order of nonce from small to large.</li><li>The initial value of nonce is 0, and the nonce will be increased by 1 for every transaction execution.</li><li>The nonce cannot be reused.</li><li>Nonce cannot be skipped: Assume that the current nonce of an account is n. If the nonce of the transaction is m such that m &gt; n, then the transaction will not be executed until all transactions with nonce &lt; m have been executed.</li><li>After the transaction is sent through the <code>cfx_sendRawTransaction</code> method, it will not be executed immediately. You need to wait for the miner to pack it first. After being packed, it will be executed after a delay of 5 Epochs. After the transaction is executed, the nonce of the account will increase by one.</li></ol><p>Setting the nonce correctly is the key to a smooth transaction execution. Many developers will encounter the situation when the transaction is sent successfully but the execution result (receipt) does not exist. (This suggests that the transaction has not been executed. In most cases, this is due to inadvertently skipping a nonce. A skipped nonce will cause the transaction to be stuck in the transaction pool while awaiting for the previous transaction to be executed.</p><p>When using the SDK to construct a transaction, the nonce does not need to be set manually. The SDK will automatically call <code>cfx_getNonce</code> to obtain the nonce. However, if you want to send transactions in batches, using <code>cfx_getNonce</code> to obtain nonce will cause the reuse of nonce due to the difference in time consumed for transaction send and execution. This means that, if you send multiple transactions through the SDK simultaneously, they will all use the same nonce and only one of them will be executed. (It takes a while for the transaction to be executed after it is sent while sending the transactions doesn&#x27;t require much time to process.) In this case, the developer needs to manage the nonce manually: record the hash of the transaction for each transaction sent, add one to the nonce, and use the updated nonce to construct the transaction.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="fee-related-fields">Fee-related fields<a class="hash-link" href="#fee-related-fields" title="Direct link to heading">​</a></h3><p>After the transactions are sent to the network, they are packaged and executed by miners. Miners will charge a service fee for packaging transactions. This provides incentives for miners to participate in mining and keep the network running.
In the Conflux network, transaction fees are paid in CFX. Fees are specified by the transaction initiator through the <code>gas</code> and <code>gasPrice</code> fields of the transaction.</p><p>The <code>gas</code> field is used to specify the upper limit of the maximum amount of gas that can be paid when a transaction is executed. This can be understood as the <code>limit</code> of the gas that can be consumed by the transaction execution, that is, <code>gasLimit</code>. When a miner executes a transaction, many instructions are executed internally, and different instructions consume different amounts of gas. If the total amount of gas consumed by the transaction exceeds the <code>gasLimit</code> specified by the transaction,  the execution of the transaction will fail. Regular CFX transfer transactions consume <code>21000</code> gas. If interacting with a contract, the gas consumption will depend on the complexity of the contract&#x27;s corresponding bytecode, which can be estimated using the <code>cfx_estimateGasAndCollateral</code> method. This method will return two gas-related fields:  gasUsed and <code>gasLimit</code>. The gasUsed is the actual amount of gas consumed by the transaction execution at the time of estimation. The <code>gasLimit</code> is the <code>gas</code> value set by transaction sending recommendation (slightly larger than <code>gasUsed</code>) to avoid transaction failure caused by inaccurate (smaller) estimation. Only 25% of the exceeding actual gas (compared to the <code>gasLimit</code> value) will be returned. Therefore it is important to set the transaction <code>gasLimit</code> appropriately.</p><p>To help miners estimate their revenue with reasonable accuracy, at most 25% of the overall <code>gas</code> provided will be refunded. In other words, <strong>the sender needs to pay at least 75% of the gas costs, even if the actual transaction execution consumed much less gas</strong>. Therefore it is important to set the transaction gas limit appropriately.</p><p><code>gasPrice</code> is the amount of CFX that the transaction initiator is willing to pay per gas. The unit is Drip. Thus, the calculation of the upfront gas fee charged for transaction execution is gas * gasPrice. As mentioned before, up to 25% of this fee can be refunded to the sender.</p><p>Miners will pack transactions with higher payouts first. If the network is congested, you can speed up the packing of transactions by increasing the <code>gasPrice</code> value. If the transaction is stuck for some reason, or if you want to speed up the packing of the transaction, try raising <code>gasPrice</code> and resending the transaction with the same nonce. Fullnode provides an RPC method <code>cfx_gasPrice</code> that returns a reasonable <code>gasPrice</code> value based on the current network conditions.</p><p>In addition to transaction fees, in the Conflux network, if new storage space is occupied during the transaction&#x27;s execution, some CFX are pledged for that space occupation. The annualized %4 interest generated by the pledged CFX will be paid to the miners to subsidize their storage costs. If the occupied space is released, the pledged CFX will be released and returned to the sender of the transaction. For every 1KB of new space taken, 1 CFX is pledged. The <code>storageLimit</code> field is used to specify the upper limit of the space (in bytes) occupied by a transaction execution. If the transaction tries to occupy more storage than allowed by the storageLimit field, the transaction fails and no CFX is pledged.</p><p>Therefore, when sending a transaction, you need to ensure the sending account has enough balance to pay: <code>value + storageLimit * (10^18/1024) + gas * gasPrice</code>. If the balance is insufficient, instead of failing directly, the transaction may get stuck in the transaction pool and get executed once the sender&#x27;s balance is sufficient. If the transaction is interacting with the contract, and the contract has a sponsor, you only need to ensure that the balance is enough to pay for value.</p><p>The current SDK automatically calls the <code>cfx_estimateGasAndCollateral</code> method to set reasonable <code>gas</code>, <code>storageLimit</code> values for the transaction and the <code>cfx_gasPrice</code> method to set a reasonable <code>gasPrice</code> value. Of course, the users can also specify more reasonable values manually.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="data">data<a class="hash-link" href="#data" title="Direct link to heading">​</a></h3><p>The data field of the transaction can be left blank or set to a hex-encoded byte array. This can be roughly categorized into three situations:</p><ul><li>Regular CFX transfer transaction: The <code>data</code> field is usually blank, but hex-encoded data can be set as a transaction remark or postscript.</li><li>Contract deployment transaction: <code>data</code> needs to be set as the contract&#x27;s bytecode and the parameters of the constructor (if any)</li><li>Contract call transaction: The <code>data</code> field is used to store the input data for the contract to call. The data is usually the contract method and data after parameter abi encoding. (When sending CFX to a contract, the data field is usually left blank)</li></ul><p>Smart contracts are usually written in high-level contract development languages (Solidity, vyper). You can use a compiler to obtain bytecode and abi. SDK will provide abi encoding methods for the encoding of the contract method call (encoding the method name and parameters).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="other">Other<a class="hash-link" href="#other" title="Direct link to heading">​</a></h3><p><code>chainId</code> is used to identify a chain. The current chainId of the Conflux Tethys network is <code>1029</code>, while that of the Conflux testnet is <code>1</code>. The chainId is included in the transaction mainly to prevent transaction replay attacks.  This field usually does not need to be filled manually. SDK will automatically obtain the current RPC chainId through the <code>cfx_getStatus</code> method.</p><p><code>epochHeight</code> is used to specify the target Epoch range for a transaction. Transactions will only be executed in the range of <!-- -->[Te − 100000, Te + 100000]<!-- -->. If the Epoch of the current chain exceeds that range, the transaction will be discarded. SDK also sets this field to the current Epoch obtained by the <code>cfx_epochNumber</code> method automatically.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="transaction-encoding-and-signature">Transaction encoding and signature<a class="hash-link" href="#transaction-encoding-and-signature" title="Direct link to heading">​</a></h2><p>After the fields of the transaction are determined, transactions need to be rlp encoded in a specific format, and the encoded keccak256 hash will be signed by the private key of the sending account. Finally, a rawTransaction will be assembled. The rawTransaction can be sent to the Conflux network through the <code>cfx_sendRawTransaction</code> method, awaiting to be packaged and executed by the miners.</p><p>The specific steps are as follows (take js-conflux-sdk as an example):</p><ol><li>Parse each field of the transaction into buffer</li><li>Assemble each field into an array or tuple in the order of <code>(nonce, gasPrice, gas, to, value, storageLimit, epochHeight, chainId, data)</code> and perform rlp encoding.</li><li>Perform the <code>keccak256</code> operation on the encoded result to obtain a hash</li><li>Use the private key of the sending account to perform the ecdsaSign signature operation to the hash obtained in the previous step. After that, r, s, v are obtained.</li><li>Assemble all the information according to <code>((nonce, gasPrice, gas, to, value, storageLimit, epochHeight, chainId, data), v, r, s)</code> and perform rlp encoding.</li><li>Finally, convert the encoded buffer in the previous step into a hex string, and then, you will get a rawTransaction that can be sent directly.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-check-transaction-details-and-status">How to check transaction details and status<a class="hash-link" href="#how-to-check-transaction-details-and-status" title="Direct link to heading">​</a></h2><p>After the transaction is successfully sent, it will first be placed in the transaction pool. When the packaging conditions are met, the transaction will be packaged by the miner into the latest block. At this time, you can query the information and status of the transaction through <code>cfx_getTransactionByHash</code>
The <code>status</code> field of the returned result indicates the execution status of the transaction:</p><ul><li><code>null</code>: not executed</li><li><code>0x0</code>: Execution successful</li><li><code>0x1</code>: Execution failed, transaction was reverted</li><li><code>0x2</code>: The transaction was skipped</li></ul><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;jsonrpc&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2.0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;result&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;blockHash&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0x398879d9e7d37e2cc87af268fcd2207a689e2e84986e9251a5343dafca3d93b7&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;chainId&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0x405&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;contractCreated&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token null keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;data&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0x&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;epochHeight&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0xd03609&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;from&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;CFX:TYPE.USER:AAKETJH9TKJ5G2K4ZX3KFVB9VKKU8NR956N0EN4FHE&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;gas&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0x5208&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;gasPrice&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0x2540be400&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;hash&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0xa76efec071e0779785b6653aebb2382a5e460b60a163a1b166df3c8164cec6d9&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;nonce&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0xa08d9&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;r&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0x38e661ad41790c069a4795df21eade5ef9605dbcbdfd5dabbb0dc322e833e4c1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;s&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0x66ca875464c554261033f4522281d564bdba4f0189d357579dcbf2b1ed98936b&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;status&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0x0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;storageLimit&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0x0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;to&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;CFX:TYPE.USER:AATT0JGE4J70V4H0Z43VJ9M29ZJ7ASNS0YA238MGZC&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;transactionIndex&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0x1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;v&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0x0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;value&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0xde0b93b7d70bec0&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;15922956697249514502&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The transaction will not be executed immediately after it&#x27;s packaged, and the transaction&#x27;s <code>status</code> is <code>null</code> at that point. After a delay of 4 Epochs, the status of the transaction would change to <code>0x0</code>, <code>0x1</code>, or <code>0x2</code>. (<code>0x0</code> for success, <code>0x1</code> for failure, and <code>0x2</code> for skip.)</p><p>You can also get the transaction execution receipt through <code>cfx_getTransactionReceipt</code>. This can only be obtained after the transaction has been executed, otherwise, it will return <code>null</code>. The receipt contains a field <code>outcomeStatus</code> which can also be used to determine whether the transaction is executed successfully: <code>0x0</code> indicates success, others indicate failure.</p><div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;jsonrpc&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;2.0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;result&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;blockHash&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0x398879d9e7d37e2cc87af268fcd2207a689e2e84986e9251a5343dafca3d93b7&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;contractCreated&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token null keyword" style="color:#00009f">null</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;epochNumber&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0xd0360f&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;from&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;CFX:TYPE.USER:AAKETJH9TKJ5G2K4ZX3KFVB9VKKU8NR956N0EN4FHE&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;gasCoveredBySponsor&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;gasFee&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0xbefe6f672000&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;gasUsed&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0x5208&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;index&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0x1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;logs&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;logsBloom&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;outcomeStatus&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0x0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;stateRoot&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0x8c05b8eb6b9dc69f2e7bb235621487022e694ce3969202b94e76227673a0b86b&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;storageCollateralized&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0x0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;storageCoveredBySponsor&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;storageReleased&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;to&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;CFX:TYPE.USER:AATT0JGE4J70V4H0Z43VJ9M29ZJ7ASNS0YA238MGZC&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;transactionHash&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0xa76efec071e0779785b6653aebb2382a5e460b60a163a1b166df3c8164cec6d9&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">&quot;txExecErrorMsg&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token null keyword" style="color:#00009f">null</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">&quot;id&quot;</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;15922956697249514502&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-determine-if-a-transaction-is-confirmed">How to determine if a transaction is confirmed<a class="hash-link" href="#how-to-determine-if-a-transaction-is-confirmed" title="Direct link to heading">​</a></h2><p>In the blockchain, a block can be reverted after being executed. Accordingly, a transaction can also be reversed after being executed. The status of the transaction can only be considered final once the block has been confirmed.
There are two ways to determine whether a transaction (block) is confirmed in Conflux:</p><ol><li>If the latest <code>confirmed epochNumber</code> of the network is greater than the epochNumber of the transaction, the transaction is confirmed. By calling <code>cfx_epochNumber</code> method and passing <code>latest_confirmed</code> parameter, you can obtain the latest confirmed <code>epochNumber</code>. epochNumber of the transaction is in its receipt. </li><li>You can obtain a block&#x27;s confirmation risk value by calling the method <code>cfx_getConfirmationRiskByHash</code>. If <em>risk/MAX_UINT256 is less than 1e-8</em>, the block is confirmed and will not be reverted. The block hash of the transaction can be obtained through <code>cfx_getTransactionByHash</code>.</li></ol><p>In Conflux, usually, a block can be confirmed after 50 epochs (within one minute). If the transaction involves a large amount, you might need to wait for more epochs according to the situation.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="reasons-for-transaction-failure">Reasons for transaction failure<a class="hash-link" href="#reasons-for-transaction-failure" title="Direct link to heading">​</a></h2><p>Based on the stage in which the transaction fails, there are three categories of failures:</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="rejected-by-rpc">Rejected by RPC<a class="hash-link" href="#rejected-by-rpc" title="Direct link to heading">​</a></h3><p>The sending transaction is directly rejected by RPC. The reason for rejection can be found in the <code>message</code> field of RPC Response.</p><ol><li><code>Invalid parameters: tx&#x27;, &#x27;data&#x27;: &#x27;&quot;Failed imported to deferred pool: Tx with same nonce already inserted. To replace it, you need to specify a gas price &gt; 5</code> The error code indicates that the same nonce has been used in the transaction pool and cannot be reused. However, you can replace an existing transaction by sending a transaction with the same nonce but higher gas price.</li><li><code>&#x27;Invalid parameters: tx&#x27;, &#x27;data&#x27;: &#x27;&quot;Transaction 0x2004b0aea956e8cfad601cd6daad5630c1a95624bad446d1966895973325136c is discarded due to a too stale nonce</code> This indicates that the same nonce used has been used in history and cannot be used again.</li><li><code>Sending transactions to invalid address. The first four bits must be 0x0 (built-in/reserved), 0x1 (user-account), or 0x8 (contract).</code> This indicates that the receiving address of the transaction is wrong.</li><li><code>Transaction {:?} is discarded due to in too distant future</code> This indicates that the transaction is using a nonce that is too large for the account&#x27;s current nonce</li><li><code>tx already exist</code> This indicates that the transaction already exists.</li></ol><p>Sometimes, the <code>data</code> of Response will also contain some error information. （This field is a hex-encoded string. The parsing method is: hex -&gt; buffer -&gt; UTF8 string）</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="stuck-in-the-transaction-pool">Stuck in the transaction pool<a class="hash-link" href="#stuck-in-the-transaction-pool" title="Direct link to heading">​</a></h3><p>The transaction is sent successfully but not be packaged. There are two possible reasons:</p><ol><li>The skipped nonce is used, and the transaction of the previous nonce has not been generated or executed.</li><li>The account sending this transaction does not have enough balance to pay the transaction.</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="execution-failed">Execution failed<a class="hash-link" href="#execution-failed" title="Direct link to heading">​</a></h3><p>Execution failure is usually due to an error that occurred during the execution process of the contract, which then caused the transaction failure. Such errors are mostly caused by contract execution failures or errors returned when estimating gas cost through the estimate interface.
You can check the specific reason for the transaction failure in the <code>txExecErrorMsg</code> under receipt:</p><ol><li><code>VmError(OutOfGas)</code> The transaction specified gas fee is not enough</li><li><code>VmError(ExceedStorageLimit)</code> The transaction specified upper-limit storage is not enough</li><li><code>NotEnoughCash</code> Insufficient user balance</li><li><code>Vm reverted, Reason provided by the contract: xxxx</code> The contract execution failed with details provided. </li><li><code>VmError(BadInstruction xxxx)</code> Contract deployment failed</li><li><code>Vm reverted, xxxx</code> The contract execution failed with no details provided.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="differences-between-conflux-and-ethereum">Differences between Conflux and Ethereum<a class="hash-link" href="#differences-between-conflux-and-ethereum" title="Direct link to heading">​</a></h2><p>Compared to Ethereum <code>155 transaction</code>, transactions through Conflux have several differences:</p><ul><li>Two more fields: <code>storageLimit</code>, and <code>epochNumber</code>.</li><li>The RLP encoding assembly method of the transaction is different. <ol><li>When compute transaction hash the RLP structure is <code>[nonce, gasPrice, gas, to, value, storageLimit, epochHeight, chainId, data]</code></li><li>When assemble rawTx the RLP structure is <code>[[nonce, gasPrice, gas, to, value, storageLimit, epochHeight, chainId, data], v, r, s]</code></li></ol></li><li>The <code>v</code> value signed by ecdsaSign will not be specifically modified in Conflux; while In Ethereum, there will be some special treatments to the v value.</li><li>Finally, while Ethereum nodes directly reject transactions if the sender has insufficient balance, Conflux nodes accept such transactions but only pack them info blocks once the user&#x27;s balance can cover it</li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/category/transactions"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Transactions</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/core/learn/core-space-basics/transactions/common-errors"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Common Errors</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#how-to-construct-a-transaction" class="table-of-contents__link toc-highlight">How to construct a transaction</a><ul><li><a href="#basic-fields" class="table-of-contents__link toc-highlight">Basic fields</a></li><li><a href="#nonce" class="table-of-contents__link toc-highlight">nonce</a></li><li><a href="#fee-related-fields" class="table-of-contents__link toc-highlight">Fee-related fields</a></li><li><a href="#data" class="table-of-contents__link toc-highlight">data</a></li><li><a href="#other" class="table-of-contents__link toc-highlight">Other</a></li></ul></li><li><a href="#transaction-encoding-and-signature" class="table-of-contents__link toc-highlight">Transaction encoding and signature</a></li><li><a href="#how-to-check-transaction-details-and-status" class="table-of-contents__link toc-highlight">How to check transaction details and status</a></li><li><a href="#how-to-determine-if-a-transaction-is-confirmed" class="table-of-contents__link toc-highlight">How to determine if a transaction is confirmed</a></li><li><a href="#reasons-for-transaction-failure" class="table-of-contents__link toc-highlight">Reasons for transaction failure</a><ul><li><a href="#rejected-by-rpc" class="table-of-contents__link toc-highlight">Rejected by RPC</a></li><li><a href="#stuck-in-the-transaction-pool" class="table-of-contents__link toc-highlight">Stuck in the transaction pool</a></li><li><a href="#execution-failed" class="table-of-contents__link toc-highlight">Execution failed</a></li></ul></li><li><a href="#differences-between-conflux-and-ethereum" class="table-of-contents__link toc-highlight">Differences between Conflux and Ethereum</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/category/learn">Learn</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/learn">Mine</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/learn">Stake</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/learn">Build</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/category/contribute">Contribute</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/category/get-involved">Get Involved</a></li><li class="footer__item"><a href="https://github.com/documentation/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/footer_logo.svg" alt="Conflux Copyright Logo" class="themedImage_ToTc themedImage--light_HNdA footer__logo" width="32" height="16"><img src="/img/footer_logo.svg" alt="Conflux Copyright Logo" class="themedImage_ToTc themedImage--dark_i4oU footer__logo" width="32" height="16"></div><div class="footer__copyright">Copyright © 2023 ConfluxNetwork, Inc.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.17c11985.js"></script>
<script src="/assets/js/main.035bc87b.js"></script>
</body>
</html>