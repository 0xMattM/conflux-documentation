"use strict";(self.webpackChunkconflux_docs=self.webpackChunkconflux_docs||[]).push([[9420],{82023:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>s,metadata:()=>i,toc:()=>l});var o=t(85893),r=t(11151);const s={sidebar_position:3,title:"Developer Quickstart",description:"Quickstart for developers to Ethereum developers to build on eSpace",keywords:["Quickstart"],displayed_sidebar:"eSpaceSidebar"},c=void 0,i={id:"espace/DeveloperQuickstart",title:"Developer Quickstart",description:"Quickstart for developers to Ethereum developers to build on eSpace",source:"@site/i18n/es/docusaurus-plugin-content-docs/current/espace/DeveloperQuickstart.md",sourceDirName:"espace",slug:"/espace/DeveloperQuickstart",permalink:"/es/docs/espace/DeveloperQuickstart",draft:!1,unlisted:!1,editUrl:"https://crowdin.com/project/conflux/es",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,title:"Developer Quickstart",description:"Quickstart for developers to Ethereum developers to build on eSpace",keywords:["Quickstart"],displayed_sidebar:"eSpaceSidebar"},sidebar:"eSpaceSidebar",previous:{title:"User Guide",permalink:"/es/docs/espace/UserGuide"},next:{title:"Tutorials",permalink:"/es/docs/category/tutorials-1"}},a={},l=[{value:"Acquiring CFX",id:"acquiring-cfx",level:2},{value:"Network Configuration",id:"network-configuration",level:2},{value:"eSpace Mainnet",id:"espace-mainnet",level:3},{value:"eSpace Testnet",id:"espace-testnet",level:3},{value:"Configure your tooling",id:"configure-your-tooling",level:2},{value:"Hardhat",id:"hardhat",level:3},{value:"Foundry",id:"foundry",level:3},{value:"Remix Web IDE",id:"remix-web-ide",level:3},{value:"web3.py",id:"web3py",level:3},{value:"Brownie",id:"brownie",level:3},{value:"ethers.js",id:"ethersjs",level:3},{value:"scaffold-eth-2",id:"scaffold-eth-2",level:3},{value:"Configure the Frontend Wallet",id:"configure-the-frontend-wallet",level:4},{value:"Deploy onto Vercel",id:"deploy-onto-vercel",level:4}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"With Conflux eSpace, your favorite tools for building and testing smart contracts just work."}),"\n",(0,o.jsx)(n.p,{children:"Since eSpace is EVM-Compatible, you\u2019ll just need to point your favorite builder tools at a Conflux eSpace RPC Provider."}),"\n",(0,o.jsxs)(n.p,{children:["If you are not familiar with Ethereum development, you can start by learning the basics and understanding its stack through ",(0,o.jsx)(n.a,{href:"https://ethereum.org/en/developers/",children:"Ethereum's official documentation"})]}),"\n",(0,o.jsx)(n.h2,{id:"acquiring-cfx",children:"Acquiring CFX"}),"\n",(0,o.jsx)(n.p,{children:"eSpace also uses CFX as its native currency, which will be needed to pay transaction fees for deploying and interacting with the network."}),"\n",(0,o.jsxs)(n.p,{children:["To start building on eSpace, we suggest you begin with using eSpace testnet. You'll first need to acquire some testnet CFX through ",(0,o.jsx)(n.a,{href:"https://efaucet.confluxnetwork.org/",children:"faucet"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["Once you're ready to deploy on eSpace's mainnet, if you only have Core CFX, you can bridge over CFX from Core Space using ",(0,o.jsx)(n.a,{href:"/es/docs/general/tutorials/transferring-funds/transfer-funds-across-spaces",children:"our space bridge"}),"."]}),"\n",(0,o.jsx)(n.h2,{id:"network-configuration",children:"Network Configuration"}),"\n",(0,o.jsx)(n.h3,{id:"espace-mainnet",children:"eSpace Mainnet"}),"\n",(0,o.jsx)(n.p,{children:"Use the table below to configure your Ethereum tools to the eSpace mainnet."}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Network Name"}),(0,o.jsx)(n.th,{children:"Conflux eSpace"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"RPC URL"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.a,{href:"https://evm.confluxrpc.com",children:"https://evm.confluxrpc.com"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Chain ID"}),(0,o.jsx)(n.td,{children:"1030"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Currency Symbol"}),(0,o.jsx)(n.td,{children:"CFX"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Block Explorer URL"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.a,{href:"https://evm.confluxscan.io",children:"https://evm.confluxscan.io"})})]})]})]}),"\n",(0,o.jsx)(n.h3,{id:"espace-testnet",children:"eSpace Testnet"}),"\n",(0,o.jsx)(n.p,{children:"Use the table below to configure your Ethereum tools to the eSpace Testnet."}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Network Name"}),(0,o.jsx)(n.th,{children:"Conflux eSpace Testnet"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"RPC URL"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.a,{href:"https://evmtestnet.confluxrpc.com",children:"https://evmtestnet.confluxrpc.com"})})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Chain ID"}),(0,o.jsx)(n.td,{children:"71"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Currency Symbol"}),(0,o.jsx)(n.td,{children:"CFX"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Block Explorer URL"}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.a,{href:"https://evmtestnet.confluxscan.io",children:"https://evmtestnet.confluxscan.io"})})]})]})]}),"\n",(0,o.jsx)(n.h2,{id:"configure-your-tooling",children:"Configure your tooling"}),"\n",(0,o.jsxs)(n.p,{children:["For setting up tooling to verify a smart contract deployment, see ",(0,o.jsx)(n.a,{href:"/es/docs/espace/tutorials/VerifyContracts",children:"Verifying Smart Contracts"}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"hardhat",children:"Hardhat"}),"\n",(0,o.jsxs)(n.p,{children:["Modify your Hardhat config file ",(0,o.jsx)(n.code,{children:"hardhat.config.ts"})," to point at the eSpace Testnet public RPC."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:'...\n\nconst config: HardhatUserConfig = {\n  ...\n  networks: {\n    eSpaceTestnet: {\n      url: "https://evmtestnet.confluxrpc.com" || "",\n      accounts:\n        process.env.PRIVATE_KEY !== undefined ? [process.env.PRIVATE_KEY] : [],\n    },\n  },\n};\n\n...\n'})}),"\n",(0,o.jsxs)(n.p,{children:["A complete workflow for using Hardhat deploy contract is shown ",(0,o.jsx)(n.a,{href:"/es/docs/espace/tutorials/deployContract/hardhatAndFoundry",children:"here"})]}),"\n",(0,o.jsx)(n.h3,{id:"foundry",children:"Foundry"}),"\n",(0,o.jsx)(n.p,{children:"To deploy using the eSpace Testnet Public RPC, run:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"forge create ... --rpc-url=https://evmtestnet.confluxrpc.com --legacy\n"})}),"\n",(0,o.jsxs)(n.p,{children:["A complete workflow for using foundry deploy contract is shown ",(0,o.jsx)(n.a,{href:"/es/docs/espace/tutorials/deployContract/hardhatAndFoundry",children:"here"})]}),"\n",(0,o.jsx)(n.h3,{id:"remix-web-ide",children:"Remix Web IDE"}),"\n",(0,o.jsxs)(n.p,{children:["After compiling your contracts, the easiest way to deploy using Remix is by ",(0,o.jsx)(n.a,{href:"/es/docs/espace/UserGuide",children:"setting up Metamask"}),", then selecting the ",(0,o.jsx)(n.strong,{children:"Conflux eSpace Testnet"})," network."]}),"\n",(0,o.jsx)(n.p,{children:"Now, in the \u201cDeploy and Run Transactions\u201d tab, use the \u201cEnvironment\u201d drop-down and select \u201cInjected Provider - MetaMask.\u201d"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{src:t(98862).Z+"",width:"430",height:"174"})}),"\n",(0,o.jsxs)(n.p,{children:["Connect your wallet and select the Conflux eSpace Testnet. Your account should be selected automatically in Remix, and you can click \u201cDeploy.\u201d A complete workflow for Remix usage is shown ",(0,o.jsx)(n.a,{href:"/es/docs/espace/tutorials/deployContract/remix",children:"here"})]}),"\n",(0,o.jsx)(n.h3,{id:"web3py",children:"web3.py"}),"\n",(0,o.jsx)(n.admonition,{type:"tip",children:(0,o.jsxs)(n.p,{children:["It is recommended to create virtual environments before using ",(0,o.jsx)(n.code,{children:"web3.py"})," to avoid dependency conflicts, for example, by using ",(0,o.jsx)(n.a,{href:"https://docs.python.org/3/library/venv.html",children:"venv"})," or ",(0,o.jsx)(n.a,{href:"https://conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html#creating-an-environment-with-commands",children:"conda"}),"."]})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"web3.py"})," is one of the most widely used Python interfaces for interacting with the Ethereum blockchain and ecosystem. It can be installed using the command:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"pip install web3 # or pip3 install web3\n"})}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.code,{children:"web3.py"})," can also be used to interact with Conflux eSpace. The example code below shows how to connect to the Conflux eSpace testnet endpoint and check the connection:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-py",children:'>>> from web3 import Web3\n>>> w3 = Web3(Web3.HTTPProvider("https://evmtestnet.confluxrpc.com"))\n>>> w3.is_connected() \nTrue # should return True\n'})}),"\n",(0,o.jsxs)(n.p,{children:["It should be noted that the latest version of ",(0,o.jsx)(n.code,{children:"web3.py"})," populates ",(0,o.jsx)(n.code,{children:"maxFeePerGas"})," and ",(0,o.jsx)(n.code,{children:"maxPriorityFeePerGas"})," for transactions by default, while Conflux eSpace only supports the legacy transaction type prior to EIP-1559. Therefore, developers need to specify the ",(0,o.jsx)(n.code,{children:"gas_price"})," field in transactions or use the ",(0,o.jsx)(n.a,{href:"https://web3py.readthedocs.io/en/stable/gas_price.html",children:"gas price API"}),"."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:'from web3 import Web3\nfrom web3.middleware.signing import construct_sign_and_send_raw_middleware\nfrom web3.gas_strategies.rpc import rpc_gas_price_strategy\n\nw3 = Web3(Web3.HTTPProvider("https://evmtestnet.confluxrpc.com"))\nassert w3.is_connected()\nacct = w3.eth.account.from_key("xxxxxx") # your secret key\n\nw3.middleware_onion.add(construct_sign_and_send_raw_middleware(acct))\nw3.eth.default_account = acct.address\n\n# Set gas price strategy\nw3.eth.set_gas_price_strategy(rpc_gas_price_strategy)\n\nw3.eth.send_transaction({"from": acct.address, "value": 0, "to": acct.address})\n'})}),"\n",(0,o.jsx)(n.h3,{id:"brownie",children:"Brownie"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.a,{href:"https://eth-brownie.readthedocs.io/en/stable/",children:"Brownie"})," is a Python-based development and testing framework for smart contracts targeting the Ethereum Virtual Machine. To add the Conflux eSpace networks to Brownie, run the following command:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'brownie networks add "Conflux eSpace" conflux-espace-main name=Mainnet host=https://evm.confluxrpc.com explorer=https://evm.confluxscan.io chainid=1030\nbrownie networks add "Conflux eSpace" conflux-espace-test name=Testnet host=https://evmtestnet.confluxrpc.com explorer=https://evmtestnet.confluxscan.io chainid=71\n'})}),"\n",(0,o.jsxs)(n.p,{children:["To deploy on eSpace, specify the Conflux network by using the ",(0,o.jsx)(n.code,{children:"--network"})," option."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"brownie run scripts/token.py --network conflux-espace-test\n"})}),"\n",(0,o.jsxs)(n.p,{children:["The ",(0,o.jsx)(n.code,{children:"scripts/token.py"})," is the Brownie script you want to run on Conflux eSpace. In our ",(0,o.jsx)(n.a,{href:"/es/docs/espace/tutorials/deployContract/brownie",children:(0,o.jsx)(n.strong,{children:"Brownie tutorial"})}),", we show the complete workflow of how to configure a template Brownie project and how to run Brownie scripts on Conflux eSpace."]}),"\n",(0,o.jsx)(n.h3,{id:"ethersjs",children:"ethers.js"}),"\n",(0,o.jsxs)(n.p,{children:["Setting up a eSpace Testnet provider in an ",(0,o.jsx)(n.code,{children:"ethers"})," script:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:'import { ethers } from "ethers"\n\nconst provider = new ethers.providers.JsonRpcProvider("https://evmtestnet.confluxrpc.com")\n'})}),"\n",(0,o.jsx)(n.h3,{id:"scaffold-eth-2",children:"scaffold-eth-2"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.a,{href:"https://github.com/conflux-fans/conflux-scaffold",children:"Scaffold Conflux"})," is an adaptation of ",(0,o.jsx)(n.a,{href:"https://scaffoldeth.io/",children:"Scaffold-ETH-2"}),"."]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"We have adjusted the template to allow you to deploy the contract on Conflux eSpace."}),"\n",(0,o.jsx)(n.li,{children:"Conflux Scaffold offers users the ability to quickly leverage front-end react components that are commonly used to build web3 apps. These include pre-fabricated wallets with the ability to connect to Conflux eSpace, Conflux eSpace testnet, hardhat, etc. It also includes other components to display balance, and recieve address/value inputs."}),"\n",(0,o.jsx)(n.li,{children:"Hooks are available on Scaffold Conflux to interact with the smart contracts built on hardhat. This simplifies the process of reading contracts, writing contracts, and subscribe to events emitted by the smart contract."}),"\n",(0,o.jsxs)(n.li,{children:["You can visit our ",(0,o.jsx)(n.a,{href:"/es/docs/espace/tutorials/scaffoldCfx/scaffold",children:"tutorial"})," for more in-depth discussion how to set-up Scaffold Conflux and use some of the hooks/components."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"To deploy to Conflux eSpace using Scaffold-eth-2 (hardhat), specify the Conflux eSpace network when deploying."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"yarn deploy --network confluxESpace\n"})}),"\n",(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsxs)(n.p,{children:["The deployer of the contract and thereby the owner of the contract can be changed by re-labelling the ",(0,o.jsx)(n.code,{children:"./packages/hardhat/.env.example"})," to ",(0,o.jsx)(n.code,{children:"./packages/hardhat/.env"}),' and putting your private key in DEPLOYER_PRIVATE_KEY=. However, the default uses a default "public" private key for hardhat testing purposes.']})}),"\n",(0,o.jsx)(n.h4,{id:"configure-the-frontend-wallet",children:"Configure the Frontend Wallet"}),"\n",(0,o.jsx)(n.p,{children:"To configure your frontend, you will need to change the default wallet connection to Conflux eSpace. Currently it is set up to connect to hardhat which allows you to use default burner wallets. Changing the below allows the wallet to switch to Conflux eSpace."}),"\n",(0,o.jsxs)(n.p,{children:["To add the network, modify ",(0,o.jsx)(n.code,{children:"packages/nextjs/scaffold.config.ts"})]}),"\n",(0,o.jsx)(n.p,{children:"Change from"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:"const scaffoldConfig = {\n  targetNetworks: [chains.hardhat],\n"})}),"\n",(0,o.jsx)(n.p,{children:"to"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-jsx",children:"const scaffoldConfig = {\n  targetNetworks: [chains.confluxESpace],\n"})}),"\n",(0,o.jsx)(n.h4,{id:"deploy-onto-vercel",children:"Deploy onto Vercel"}),"\n",(0,o.jsx)(n.p,{children:"Preview the app. You should be able to connect to Conflux eSpace through your wallet."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"nvm use 18\nyarn start\n"})}),"\n",(0,o.jsx)(n.p,{children:"Once you are ready to deploy your app, simply run the following command."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"yarn vercel\n"})})]})}function h(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},98862:(e,n,t)=>{t.d(n,{Z:()=>o});const o=t.p+"assets/images/injectedprovidermm-5de4f4061b618f8fb8b0d235496b1e30.png"},11151:(e,n,t)=>{t.d(n,{Z:()=>i,a:()=>c});var o=t(67294);const r={},s=o.createContext(r);function c(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);