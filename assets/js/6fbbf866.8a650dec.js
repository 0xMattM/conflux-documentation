"use strict";(self.webpackChunkconflux_docs=self.webpackChunkconflux_docs||[]).push([[1606],{16529:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>i,contentTitle:()=>l,default:()=>r,frontMatter:()=>t,metadata:()=>d,toc:()=>h});var a=o(85893),s=o(11151);const t={sidebar_position:3,title:"Snapshot Tool",description:"Learn how to use the Conflux Snapshot Tool to quickly set up a Conflux node from a snapshot.",displayed_sidebar:"generalSidebar"},l=void 0,d={id:"general/run-a-node/snapshot-tool",title:"Snapshot Tool",description:"Learn how to use the Conflux Snapshot Tool to quickly set up a Conflux node from a snapshot.",source:"@site/docs/general/run-a-node/snapshot-tool.md",sourceDirName:"general/run-a-node",slug:"/general/run-a-node/snapshot-tool",permalink:"/docs/general/run-a-node/snapshot-tool",draft:!1,unlisted:!1,editUrl:"https://github.com/Conflux-Chain/conflux-documentation/edit/main/docs/general/run-a-node/snapshot-tool.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,title:"Snapshot Tool",description:"Learn how to use the Conflux Snapshot Tool to quickly set up a Conflux node from a snapshot.",displayed_sidebar:"generalSidebar"},sidebar:"generalSidebar",previous:{title:"Node Types",permalink:"/docs/general/run-a-node/node-types"},next:{title:"Upgrade a Node",permalink:"/docs/general/run-a-node/how-to-upgrad"}},i={},h=[{value:"Introduction",id:"introduction",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Download Snapshot Data",id:"download-snapshot-data",level:2},{value:"Unzip Snapshot Data",id:"unzip-snapshot-data",level:2},{value:"Resources",id:"resources",level:2},{value:"FAQs",id:"faqs",level:2},{value:"service is not available?",id:"service-is-not-available",level:3},{value:"What&#39;s the snapshot data size?",id:"whats-the-snapshot-data-size",level:3},{value:"Does the archive node snapshot data include the trace data?",id:"does-the-archive-node-snapshot-data-include-the-trace-data",level:3},{value:"Does the archive node snapshot data include the fullstate data?",id:"does-the-archive-node-snapshot-data-include-the-fullstate-data",level:3}];function c(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,a.jsxs)(n.p,{children:["The Conflux Blockchain Data Snapshot Tool (aka Archive-Tool) is designed to help users quickly set up a Conflux node from a snapshot. This tool provides the download links, and by default, it downloads the DB snapshot data of the current day. The Snapshot tool can help save weeks of time required to download and sync all the blockchain data at the moment of running a node. Using this tool is optional, ",(0,a.jsx)(n.strong,{children:"but highly recommended"}),". The tool supports ",(0,a.jsx)(n.strong,{children:"resuming downloads"})," from breakpoints using the curl command. If an error occurs during the process, users are advised to follow the script prompts."]}),"\n",(0,a.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,a.jsxs)(n.p,{children:["Ensure you have curl installed on your system. If not, you can download and install it from ",(0,a.jsx)(n.a,{href:"https://curl.se/",children:"here"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"download-snapshot-data",children:"Download Snapshot Data"}),"\n",(0,a.jsx)(n.p,{children:"Select the snapshot download link based on the node type and location:"}),"\n",(0,a.jsxs)(n.ol,{children:["\n",(0,a.jsx)(n.li,{children:"For Linux & Mac - Mainnet - Archive Node:"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"# Beijing\nwget https://conflux-blockchain-data.oss-cn-beijing.aliyuncs.com/archivenode-db/M/download.sh\n# US West\nwget https://conflux-blockchain-data-us.s3.us-west-1.amazonaws.com/archivenode-db/M/download.sh\n# EU Central\nwget https://conflux-blockchain-data-eu.s3.eu-central-1.amazonaws.com/archivenode-db/M/download.sh\n\nbash download.sh \n"})}),"\n",(0,a.jsxs)(n.ol,{start:"2",children:["\n",(0,a.jsx)(n.li,{children:"For Windows - Mainnet - Archive Node:"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"# Beijing\nwget https://conflux-blockchain-data.oss-cn-beijing.aliyuncs.com/archivenode-db/M/download.bat\n# US West\nwget https://conflux-blockchain-data-us.s3.us-west-1.amazonaws.com/archivenode-db/M/download.bat\n# EU Central\nwget https://conflux-blockchain-data-eu.s3.eu-central-1.amazonaws.com/archivenode-db/M/download.bat\n\ndownload.bat \n"})}),"\n",(0,a.jsxs)(n.ol,{start:"3",children:["\n",(0,a.jsx)(n.li,{children:"For Linux & Mac - Mainnet - Full Node:"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"wget https://conflux-blockchain-data.oss-cn-beijing.aliyuncs.com/fullnode-db/M/download.sh\nbash download.sh \n"})}),"\n",(0,a.jsxs)(n.ol,{start:"4",children:["\n",(0,a.jsx)(n.li,{children:"For Linux & Mac - Testnet - Archive Node:"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"wget https://conflux-blockchain-data.oss-cn-beijing.aliyuncs.com/archivenode-db/T/download.sh\nbash download.sh \n"})}),"\n",(0,a.jsxs)(n.ol,{start:"5",children:["\n",(0,a.jsx)(n.li,{children:"For Windows - Testnet - Archive Node:"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"wget https://conflux-blockchain-data.oss-cn-beijing.aliyuncs.com/archivenode-db/T/download.bat\ndownload.bat \n"})}),"\n",(0,a.jsx)(n.h2,{id:"unzip-snapshot-data",children:"Unzip Snapshot Data"}),"\n",(0,a.jsx)(n.p,{children:'Then, you\u2019ll need to unzip the file, and copy (or move) its content into your node folder, usually named "run".'}),"\n",(0,a.jsx)(n.p,{children:"For example:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-shell",children:"tar -xvzf conflux-fullnode-db-snapshot-2023-09-20.tgz -C ./run\n"})}),"\n",(0,a.jsxs)(n.p,{children:["The snapshot data also includes the ",(0,a.jsx)(n.code,{children:"pos_config"})," folder, and the Conflux client release will also include the ",(0,a.jsx)(n.code,{children:"pos_config"})," folder. You can use either one."]}),"\n",(0,a.jsx)(n.p,{children:"Then you can start your node."}),"\n",(0,a.jsx)(n.h2,{id:"resources",children:"Resources"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.a,{href:"https://github.com/conflux-fans/archive-tool",children:"Conflux Blockchain Data Snapshot Archive-tool"}),"."]}),"\n"]}),"\n",(0,a.jsx)(n.h2,{id:"faqs",children:"FAQs"}),"\n",(0,a.jsx)(n.h3,{id:"service-is-not-available",children:"service is not available?"}),"\n",(0,a.jsx)(n.p,{children:"Please download the latest version of the snapshot tool."}),"\n",(0,a.jsx)(n.h3,{id:"whats-the-snapshot-data-size",children:"What's the snapshot data size?"}),"\n",(0,a.jsx)(n.p,{children:"At the time of writing(2023.12.22), the fullnode snapshot data size is about 200G, the archivenode snapshot data size is 550G."}),"\n",(0,a.jsxs)(n.p,{children:["You can check the newest snapshot data size in ",(0,a.jsx)(n.code,{children:"download.sh"})," file."]}),"\n",(0,a.jsx)(n.h3,{id:"does-the-archive-node-snapshot-data-include-the-trace-data",children:"Does the archive node snapshot data include the trace data?"}),"\n",(0,a.jsx)(n.p,{children:"Yes, it does."}),"\n",(0,a.jsx)(n.h3,{id:"does-the-archive-node-snapshot-data-include-the-fullstate-data",children:"Does the archive node snapshot data include the fullstate data?"}),"\n",(0,a.jsx)(n.p,{children:"No, it doesn't. If you want to setup a fullstate archive node, you need sync the data from beginning."}),"\n",(0,a.jsx)(n.p,{children:"The Confura public RPC service is a fullstate archive node. You can use it to query the fullstate data."})]})}function r(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},11151:(e,n,o)=>{o.d(n,{Z:()=>d,a:()=>l});var a=o(67294);const s={},t=a.createContext(s);function l(e){const n=a.useContext(t);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),a.createElement(t.Provider,{value:n},e.children)}}}]);