"use strict";(self.webpackChunkconflux_docs=self.webpackChunkconflux_docs||[]).push([[6524],{88777:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>d,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>l});var n=o(85893),s=o(11151);const i={sidebar_position:1,title:"Become a Solo Validator",displayed_sidebar:"generalSidebar"},a=void 0,r={id:"general/mine-stake/stake/become-a-solo-validator",title:"Become a Solo Validator",description:"To become a solo validator, you\u2019ll need to:",source:"@site/docs/general/mine-stake/stake/become-a-solo-validator.md",sourceDirName:"general/mine-stake/stake",slug:"/general/mine-stake/stake/become-a-solo-validator",permalink:"/docs/general/mine-stake/stake/become-a-solo-validator",draft:!1,unlisted:!1,editUrl:"https://github.com/Conflux-Chain/conflux-documentation/edit/main/docs/general/mine-stake/stake/become-a-solo-validator.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1,title:"Become a Solo Validator",displayed_sidebar:"generalSidebar"},sidebar:"generalSidebar",previous:{title:"PoS Staking",permalink:"/docs/general/mine-stake/stake/"},next:{title:"Staking Through a PoS Pool",permalink:"/docs/general/mine-stake/stake/pos-pools-list"}},d={},l=[{value:"1. Run a Conflux node",id:"1-run-a-conflux-node",level:2},{value:"2. Register it in PoS",id:"2-register-it-in-pos",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Stake in PoW",id:"stake-in-pow",level:3},{value:"Register",id:"register",level:3},{value:"3. Stake CFX in this PoS node",id:"3-stake-cfx-in-this-pos-node",level:2},{value:"Stake more Votes",id:"stake-more-votes",level:3},{value:"Unstake votes",id:"unstake-votes",level:3},{value:"View validator&#39;s status in ConfluxScan",id:"view-validators-status-in-confluxscan",level:2},{value:"Mainnet &amp; Testnet ConfluxHub",id:"mainnet--testnet-confluxhub",level:2},{value:"FAQs",id:"faqs",level:2},{value:"Which Conflux Space does the register process take?",id:"which-conflux-space-does-the-register-process-take",level:3},{value:"How do I claim my rewards?",id:"how-do-i-claim-my-rewards",level:3},{value:"What&#39;s the expected reward rate?",id:"whats-the-expected-reward-rate",level:3},{value:"Why my node is not elected?",id:"why-my-node-is-not-elected",level:3},{value:"The risks to be aware of when running a node?",id:"the-risks-to-be-aware-of-when-running-a-node",level:3},{value:"How to regenerate the PoS private key?",id:"how-to-regenerate-the-pos-private-key",level:3},{value:"How long does it take for CFX to go from staking to withdrawal in PoS?",id:"how-long-does-it-take-for-cfx-to-go-from-staking-to-withdrawal-in-pos",level:3},{value:"How long does it take for unstaked PoS votes to be credited?",id:"how-long-does-it-take-for-unstaked-pos-votes-to-be-credited",level:3},{value:"Can the PoS node bound to a PoW account be modified?",id:"can-the-pos-node-bound-to-a-pow-account-be-modified",level:3},{value:"Can a PoS node be bound to a PoW account that is a contract account? Does the contract need to implement the receive or fallback functions?",id:"can-a-pos-node-be-bound-to-a-pow-account-that-is-a-contract-account-does-the-contract-need-to-implement-the-receive-or-fallback-functions",level:3}];function c(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.p,{children:"To become a solo validator, you\u2019ll need to:"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsx)(t.li,{children:"Run a Conflux node."}),"\n",(0,n.jsx)(t.li,{children:"Register it in PoS."}),"\n",(0,n.jsx)(t.li,{children:"Stake CFX in this PoS node."}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:"This guide will walk you through the process of setting up a solo validator."}),"\n",(0,n.jsx)(t.h2,{id:"1-run-a-conflux-node",children:"1. Run a Conflux node"}),"\n",(0,n.jsxs)(t.p,{children:["A PoS node is also a Conflux node. So you can run a PoS node following the ",(0,n.jsx)(t.a,{href:"/docs/general/run-a-node/Overview",children:"run a node"})," guide. Either a full node or a archive node is fine."]}),"\n",(0,n.jsxs)(t.p,{children:["The PoS configuration file for the node is located in the ",(0,n.jsx)(t.code,{children:"pos_config"})," directory within the downloaded node package. The ",(0,n.jsx)(t.code,{children:"pos_config.yaml"})," file in this directory is the PoS configuration file, and typically, the settings in this file do not need to be modified."]}),"\n",(0,n.jsxs)(t.p,{children:["When you first start the node, you will be prompted to set a password to protect the PoS private key of the node. Please remember this password carefully, as it cannot be recovered if forgotten. When the node is restarted later, you will be required to enter this password. The private key is stored in the ",(0,n.jsx)(t.code,{children:"pos_config/pos_key"})," file in the node directory, and it is recommended to create a backup of this file."]}),"\n",(0,n.jsxs)(t.p,{children:["When starting the node for the first time, it is recommended to use a blockchain data snapshot, as it can significantly accelerate the node synchronization speed. Please refer to ",(0,n.jsx)(t.a,{href:"/docs/general/run-a-node/snapshot-tool",children:"Blockchain Data Snapshot"})," for information on how to use the blockchain data snapshot."]}),"\n",(0,n.jsx)(t.p,{children:'Once the node data is synchronized to the latest block (and the "Catch-up mode" in the node logs changes to false), you can proceed with PoS registration.'}),"\n",(0,n.jsx)(t.h2,{id:"2-register-it-in-pos",children:"2. Register it in PoS"}),"\n",(0,n.jsx)(t.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,n.jsxs)(t.p,{children:["To become a validator, you need to register your node in PoS. To register a node, you need a ",(0,n.jsx)(t.strong,{children:"Conflux Core account"})," and the node's ",(0,n.jsx)(t.strong,{children:"PoS register data"}),"."]}),"\n",(0,n.jsx)(t.p,{children:"So first you should have Fluent Wallet installed, and have a account with at least 1000 CFX + gasFee in it. Because one PoS vote is 1000 CFX."}),"\n",(0,n.jsx)(t.p,{children:"The you can get the PoS register data by running the following command in your node directory:"}),"\n",(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-bash",children:'./conflux rpc local pos register --power 1\n# it will return something like this:\n[\n  "0xe335b451eb0d497f27d8d73d12d6c5f13b12b5c0ebad872dc59536341cd1f31c4ede98d8000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000001600000000000000000000000000000000000000000000000000000000000000030808c124f4a9b389f0c53a279cff171083c878437369189f03416836dfe7e10873b28db2df8109e226707388ac6588a6a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000210256c97da1270db8aad8dd7ed6785953c691b77dd9c0830c327ff3b4e637e9bb4200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000030b748cd4ed52f203e09a8299a5e29444a05fd0e8499de0a81ed4c00bb23ddd910f8eec13f0c67b8833f8bd4fbb1217f2b000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020455b9bb17f42f8f6cd14450acb13959a1ddf2302b2c5ecf25c82cee371c2cf1f",\n  "eb0d497f27d8d73d12d6c5f13b12b5c0ebad872dc59536341cd1f31c4ede98d8"\n]\n'})}),"\n",(0,n.jsxs)(t.p,{children:["It should return two strings, the first one is the register data, the second one is the ",(0,n.jsx)(t.strong,{children:"PoS node address"}),"."]}),"\n",(0,n.jsx)(t.h3,{id:"stake-in-pow",children:"Stake in PoW"}),"\n",(0,n.jsxs)(t.p,{children:["Before you can register your node in PoS, you need to stake some CFX in PoW, you can do it use ",(0,n.jsx)(t.a,{href:"https://confluxhub.io/governance/pow-stake",children:"ConfluxHub's PoW stake tool"}),"."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:o(22805).Z+"",width:"1368",height:"864"})}),"\n",(0,n.jsx)(t.p,{children:'It is very easy to use, just connect your Fluent wallet, input the amount of CFX you want to stake, and click the "Stake" button. Here we can choose to stake 1000 CFX.'}),"\n",(0,n.jsx)(t.h3,{id:"register",children:"Register"}),"\n",(0,n.jsxs)(t.p,{children:["Then we can use the ",(0,n.jsx)(t.a,{href:"https://confluxhub.io/pos/register",children:"ConfluxHub's PoS register tool"})," to register our node."]}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsx)(t.li,{children:'Paste the register data we got in the previous step into the "Full node data" input box.'}),"\n",(0,n.jsx)(t.li,{children:'Input 1 in the "Votes" input box.'}),"\n",(0,n.jsx)(t.li,{children:'Click the "Register and Bind" button.'}),"\n",(0,n.jsx)(t.li,{children:'It will pop up a window to confirm the transaction, click the "Confirm" button.'}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:o(53822).Z+"",width:"1315",height:"807"})}),"\n",(0,n.jsx)(t.p,{children:"After the transaction is executed, the register data will be synced to the PoS chain, and the sync process will take about 10 minute."}),"\n",(0,n.jsx)(t.h2,{id:"3-stake-cfx-in-this-pos-node",children:"3. Stake CFX in this PoS node"}),"\n",(0,n.jsxs)(t.p,{children:["After the register data is synced to the PoS chain, you can enter a ",(0,n.jsx)(t.a,{href:"https://confluxhub.io/pos/increase",children:"page like this"}),"."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:o(87609).Z+"",width:"1191",height:"598"})}),"\n",(0,n.jsx)(t.p,{children:"This is PoS validator dashboard, you can:"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsx)(t.li,{children:"See validator's status: PoS address, How many votes it has, How much reward it has got, etc."}),"\n",(0,n.jsx)(t.li,{children:"Stake more Votes to this validator, unstake votes from it."}),"\n",(0,n.jsx)(t.li,{children:"See the validator's Locking & Unlocking votes."}),"\n"]}),"\n",(0,n.jsx)(t.h3,{id:"stake-more-votes",children:"Stake more Votes"}),"\n",(0,n.jsxs)(t.p,{children:["You can stake more votes to this validator anytime you want, first you need ",(0,n.jsx)(t.a,{href:"#stake-in-pow",children:(0,n.jsx)(t.strong,{children:"stake more CFX in PoW"})}),', then input the amount of votes you want to stake in the "Votes" input box, and click the "Stake" button. Then these votes will be synced to PoS chain in about 10 minutes.']}),"\n",(0,n.jsxs)(t.p,{children:["Normally the new staked votes will be in ",(0,n.jsx)(t.strong,{children:"locking"})," status for 13 days. After 13 days, these votes will be in ",(0,n.jsx)(t.strong,{children:"locked"})," status. The votes in ",(0,n.jsx)(t.strong,{children:"Locking"})," status will also have rewards."]}),"\n",(0,n.jsx)(t.h3,{id:"unstake-votes",children:"Unstake votes"}),"\n",(0,n.jsx)(t.p,{children:'If you want to unstake some votes from this validator, you can input the amount of votes you want to unstake in the "Votes" input box, and click the "Unstake" button. Then these votes will be synced to PoS chain in about 10 minutes.'}),"\n",(0,n.jsxs)(t.p,{children:["Normally the unstaked votes will be in ",(0,n.jsx)(t.strong,{children:"unlocking"})," status for 1-14 days. After that, these votes will be in ",(0,n.jsx)(t.strong,{children:"unlocked"})," status, and can be withdrawn to your account use the ",(0,n.jsx)(t.a,{href:"#stake-in-pow",children:"ConfluxHub's Pow Stake Tool"})]}),"\n",(0,n.jsx)(t.h2,{id:"view-validators-status-in-confluxscan",children:"View validator's status in ConfluxScan"}),"\n",(0,n.jsxs)(t.p,{children:["You can also view validator's status in ",(0,n.jsx)(t.a,{href:"https://confluxscan.io/",children:"ConfluxScan"}),". By visiting this url ",(0,n.jsx)(t.strong,{children:(0,n.jsx)(t.code,{children:"https://confluxscan.io/pos/accounts/0x<your-pos-node-address>?tab=overview"})})]}),"\n",(0,n.jsx)(t.p,{children:"In this page you can view:"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsx)(t.li,{children:"Validator's status in detail."}),"\n",(0,n.jsx)(t.li,{children:"Incoming history."}),"\n",(0,n.jsx)(t.li,{children:"Voting History."}),"\n",(0,n.jsx)(t.li,{children:"Pending Rights Status: The locking and unlocking votes."}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{src:o(53172).Z+"",width:"924",height:"698"})}),"\n",(0,n.jsx)(t.h2,{id:"mainnet--testnet-confluxhub",children:"Mainnet & Testnet ConfluxHub"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://confluxhub.io/governance/pow-stake",children:"Confluxhub Mainnet"})}),"\n",(0,n.jsx)(t.li,{children:(0,n.jsx)(t.a,{href:"https://test.confluxhub.io/governance/pow-stake",children:"Confluxhub Testnet"})}),"\n"]}),"\n",(0,n.jsx)(t.h2,{id:"faqs",children:"FAQs"}),"\n",(0,n.jsx)(t.h3,{id:"which-conflux-space-does-the-register-process-take",children:"Which Conflux Space does the register process take?"}),"\n",(0,n.jsx)(t.p,{children:"It's in Core Space, and Fluent Wallet is required in this process."}),"\n",(0,n.jsx)(t.h3,{id:"how-do-i-claim-my-rewards",children:"How do I claim my rewards?"}),"\n",(0,n.jsx)(t.p,{children:"The rewards will be automatically sent to your Core Space account every half hour."}),"\n",(0,n.jsx)(t.h3,{id:"whats-the-expected-reward-rate",children:"What's the expected reward rate?"}),"\n",(0,n.jsx)(t.p,{children:"The expected reward rate is 10-14% per year."}),"\n",(0,n.jsx)(t.h3,{id:"why-my-node-is-not-elected",children:"Why my node is not elected?"}),"\n",(0,n.jsxs)(t.p,{children:["The more votes you have, the more likely you will be elected. There are total ",(0,n.jsx)(t.strong,{children:"300"})," votes in the network, you can calculate the required votes to be elected by this formula:"]}),"\n",(0,n.jsx)(t.p,{children:"Total CFX staked in the network / 300 = Required votes to be elected"}),"\n",(0,n.jsx)(t.p,{children:"The other reason is that your node is not running correctly, you can check your node's status:"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsx)(t.li,{children:"Is your node synced to the latest block?"}),"\n",(0,n.jsxs)(t.li,{children:["Are your node's ",(0,n.jsx)(t.code,{children:"pos_key"})," and ",(0,n.jsx)(t.code,{children:"pos_db/secure_storage.json"})," matching? If you are unsure, you can delete the ",(0,n.jsx)(t.code,{children:"pos_db/secure_storage.json"})," file and restart your node; the node will regenerate the ",(0,n.jsx)(t.code,{children:"pos_db/secure_storage.json"})," file."]}),"\n"]}),"\n",(0,n.jsx)(t.h3,{id:"the-risks-to-be-aware-of-when-running-a-node",children:"The risks to be aware of when running a node?"}),"\n",(0,n.jsx)(t.p,{children:"The risks to be aware of when running a node include:"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsx)(t.li,{children:"Risk of PoS private key leakage or loss. Please securely store the PoS private key and avoid uploading it to any public servers."}),"\n",(0,n.jsx)(t.li,{children:"Stability of PoS node operation. If the node is elected to the committee and does not participate in PoS voting for more than 1.5 hours, all PoS votes will be forcibly retired. There will be no rewards after retirement, but there won't be any penalties either."}),"\n",(0,n.jsxs)(t.li,{children:["Sharing a pos_key file between two PoS nodes may result in the permanent lockup of all PoS votes for that node. This is ",(0,n.jsx)(t.strong,{children:"the most severe risk and should be treated with utmost caution"}),"."]}),"\n"]}),"\n",(0,n.jsx)(t.h3,{id:"how-to-regenerate-the-pos-private-key",children:"How to regenerate the PoS private key?"}),"\n",(0,n.jsxs)(t.p,{children:["Deleting ",(0,n.jsx)(t.code,{children:"pos_config/pos_key"})," and ",(0,n.jsx)(t.code,{children:"pos_db/secure_storage.json"}),", and restarting the node will regenerate the PoS private key.",(0,n.jsx)(t.strong,{children:"Please be sure that you want to delete these two files because once deleted, your PoS account cannot be recovered."})]}),"\n",(0,n.jsx)(t.h3,{id:"how-long-does-it-take-for-cfx-to-go-from-staking-to-withdrawal-in-pos",children:"How long does it take for CFX to go from staking to withdrawal in PoS?"}),"\n",(0,n.jsx)(t.p,{children:"14 days"}),"\n",(0,n.jsx)(t.h3,{id:"how-long-does-it-take-for-unstaked-pos-votes-to-be-credited",children:"How long does it take for unstaked PoS votes to be credited?"}),"\n",(0,n.jsx)(t.p,{children:"Typically, it takes 1-14 days, depending on the staking duration. If your PoS votes have been staked for over 13 days, unstaking will only take one day. If recently staked, it will require the full 14 days."}),"\n",(0,n.jsx)(t.h3,{id:"can-the-pos-node-bound-to-a-pow-account-be-modified",children:"Can the PoS node bound to a PoW account be modified?"}),"\n",(0,n.jsx)(t.p,{children:"Modification is possible, but it requires unstaking all votes associated with the PoS node. Once the unstaking process is complete, the node can be directly bound to another PoS node."}),"\n",(0,n.jsx)(t.h3,{id:"can-a-pos-node-be-bound-to-a-pow-account-that-is-a-contract-account-does-the-contract-need-to-implement-the-receive-or-fallback-functions",children:"Can a PoS node be bound to a PoW account that is a contract account? Does the contract need to implement the receive or fallback functions?"}),"\n",(0,n.jsx)(t.p,{children:"It can be a contract account, and there is no need to implement receive or fallback functions. This is because rewards are directly mined to the PoW account by the chain and do not involve transfers."})]})}function h(e={}){const{wrapper:t}={...(0,s.a)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},87609:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o.p+"assets/images/Stake-More-1ca389bb0aae3e5f870b91898d12fff5.jpg"},53822:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o.p+"assets/images/pos-register-f4714508f727349577688deba262b07c.jpg"},22805:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o.p+"assets/images/pow-stake-3a245e87bba419eb4c198f6d52451332.jpg"},53172:(e,t,o)=>{o.d(t,{Z:()=>n});const n=o.p+"assets/images/scan-pos-account-b68f00a5e5b82236259cc936b8d4b845.png"},11151:(e,t,o)=>{o.d(t,{Z:()=>r,a:()=>a});var n=o(67294);const s={},i=n.createContext(s);function a(e){const t=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),n.createElement(i.Provider,{value:t},e.children)}}}]);