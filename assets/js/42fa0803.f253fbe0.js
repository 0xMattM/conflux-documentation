"use strict";(self.webpackChunkconflux_docs=self.webpackChunkconflux_docs||[]).push([[9564],{68319:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>i,metadata:()=>o,toc:()=>l});var a=s(85893),n=s(11151);const i={sidebar_position:10,title:"Gas",displayed_sidebar:"generalSidebar"},r=void 0,o={id:"general/conflux-basics/gas",title:"Gas",description:"Conflux users(both Core Space and eSpace) usually see fields like `gasFee`, `gas`, and `gasPrice` when they are sending transactions using their wallets (Fluent) or SDK. This article is going to explain in detail about what these concepts mean.",source:"@site/docs/general/conflux-basics/gas.md",sourceDirName:"general/conflux-basics",slug:"/general/conflux-basics/gas",permalink:"/docs/general/conflux-basics/gas",draft:!1,unlisted:!1,editUrl:"https://github.com/Conflux-Chain/conflux-documentation/edit/main/docs/general/conflux-basics/gas.md",tags:[],version:"current",sidebarPosition:10,frontMatter:{sidebar_position:10,title:"Gas",displayed_sidebar:"generalSidebar"},sidebar:"generalSidebar",previous:{title:"Accounts and Addresses",permalink:"/docs/general/conflux-basics/accounts"},next:{title:"Governance Overview",permalink:"/docs/general/conflux-basics/conflux-governance/governance-overview"}},c={},l=[{value:"gasFee",id:"gasfee",level:2},{value:"Why Pay Fees",id:"why-pay-fees",level:2},{value:"What is Gas",id:"what-is-gas",level:2},{value:"Gas Limit",id:"gas-limit",level:2},{value:"gasPrice",id:"gasprice",level:2},{value:"How gasFee is Calculated",id:"how-gasfee-is-calculated",level:2},{value:"gasUsed",id:"gasused",level:3},{value:"gasCharged",id:"gascharged",level:3},{value:"Example",id:"example",level:3},{value:"How to pay less gasFee\uff1f",id:"how-to-pay-less-gasfee",level:2},{value:"Further Readings",id:"further-readings",level:2},{value:"FAQs",id:"faqs",level:2},{value:"1. Are there any EIP-1559 transactions in the Conflux network?",id:"1-are-there-any-eip-1559-transactions-in-the-conflux-network",level:3}];function h(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,n.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(t.p,{children:["Conflux users(both Core Space and eSpace) usually see fields like ",(0,a.jsx)(t.code,{children:"gasFee"}),", ",(0,a.jsx)(t.code,{children:"gas"}),", and ",(0,a.jsx)(t.code,{children:"gasPrice"})," when they are sending transactions using their wallets (Fluent) or SDK. This article is going to explain in detail about what these concepts mean."]}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"Sign Transaction",src:s(87992).Z+"",width:"800",height:"638"})}),"\n",(0,a.jsx)(t.h2,{id:"gasfee",children:"gasFee"}),"\n",(0,a.jsxs)(t.p,{children:["In real life, when we send money to someone else at a bank, we usually have to pay transaction fees. It is the same for sending transactions in blockchains (Bitcoin, Ethereum, Conflux). ",(0,a.jsx)(t.code,{children:"gasFee"})," is the fee for sending a transaction. Usually, it needs to be paid by the native token of the chain. Take Conflux as an example, CFX is needed for paying the transaction fee (gas fee)."]}),"\n",(0,a.jsx)(t.p,{children:(0,a.jsx)(t.img,{alt:"tx gas charged",src:s(31685).Z+"",width:"1680",height:"899"})}),"\n",(0,a.jsx)(t.h2,{id:"why-pay-fees",children:"Why Pay Fees"}),"\n",(0,a.jsx)(t.p,{children:"As we all know, blockchain is in fact a decentralized ledger, which is maintained by miners. There is a cost for miners to store data and generate blocks (calculating hashes). Therefore, in order to motivate miners to actively participate in the chain maintenance and protect the network security, the blockchain consensus system is designed to include a reward mechanism for miners, and the transaction fee is one of the rewards for miners, which will be paid to miners who participate in generating blocks. This mechanism can ensure the sustainability of the entire decentralized network."}),"\n",(0,a.jsx)(t.p,{children:"In addition, the gas fee mechanism can also prevent abusive transactions and thus improve the efficiency of blockchain utilization."}),"\n",(0,a.jsx)(t.h2,{id:"what-is-gas",children:"What is Gas"}),"\n",(0,a.jsxs)(t.p,{children:["The concept of gas is borrowed from the real 'gas', petrol. Vehicles consume gasoline to drive. The further a car travels, the more gasoline it consumes. In EVM blockchains, gas represents the work amount required to execute a transaction. Therefore, it is a ",(0,a.jsx)(t.strong,{children:"unit that measures the amount of computation"})," required to perform certain operations."]}),"\n",(0,a.jsxs)(t.p,{children:["To provide more details, all Conflux transactions are executed by EVM, including regular CFX transfers and smart contract method calls. When these operations are executed, they are compiled into individual OPCodes. The amount of work required to execute each OPCode varies. More information for OPCode gas fees can be found ",(0,a.jsx)(t.a,{href:"https://ethereum.org/en/developers/docs/evm/opcodes/",children:"here"}),"."]}),"\n",(0,a.jsxs)(t.p,{children:["Usually, the gas consumed for a regular CFX transfer is ",(0,a.jsx)(t.code,{children:"21000"}),". A smart contract transaction usually needs more, depending on the complexity of the contract execution."]}),"\n",(0,a.jsx)(t.h2,{id:"gas-limit",children:"Gas Limit"}),"\n",(0,a.jsxs)(t.p,{children:["When constructing a transaction, the ",(0,a.jsx)(t.code,{children:"gas"})," field is very important, as the field itself means the ",(0,a.jsx)(t.code,{children:"maximum amount of gas"})," that can be consumed by the execution of the transaction."]}),"\n",(0,a.jsx)(t.p,{children:"It is very important to fill the gas field correctly. If the gas limit is set to a value less than the actual amount of gas needed, the transaction will fail. If the gas limit is set too high, you may pay more gas than you actually need to."}),"\n",(0,a.jsx)(t.admonition,{type:"info",children:(0,a.jsxs)(t.p,{children:["It should be mentioned that transaction will typically fail if the gas limit is exactly set to gas consumption due to ",(0,a.jsx)(t.a,{href:"https://eips.ethereum.org/EIPS/eip-150",children:"EIP-150"}),"."]})}),"\n",(0,a.jsx)(t.p,{children:"The maximum gas limit for a single transaction in the Conflux network is 15M. This ensures that the transactions will not overconsume EVM resources."}),"\n",(0,a.jsx)(t.h2,{id:"gasprice",children:"gasPrice"}),"\n",(0,a.jsx)(t.p,{children:"The gasPrice of a transaction is specified by the sender of the transaction and represents the fee that the person is willing to pay per unit of gas. The unit of gasPrice is GDrip, where 1 GDrip is equal to 0.000000001 CFX (10**-9 CFX)."}),"\n",(0,a.jsxs)(t.p,{children:["A transaction's gasPrice value affects how fast the transaction is packaged by miners, as miners will prioritize packaging transactions with higher gasPrice in order to make more profits. When the network is not congested, setting gasPrice to ",(0,a.jsx)(t.code,{children:"1Gdrip"})," is enough to be packed normally. However, when the network is congested, more transactions are waiting to be packed. At this time, if the gasPrice is set to be less than most other transactions, it will not be packed but keep waiting."]}),"\n",(0,a.jsx)(t.p,{children:"Therefore, if you want the transaction to be packaged quickly, you can set the gasPrice higher. Usually setting it to 10G-1000G is high enough in Conflux to ensure it is executed quickly."}),"\n",(0,a.jsx)(t.p,{children:"NOTE: Do not set gasPrice too high. It may lead to sky-high transaction fees. If gasPrice is set to 1CFX, then the fee for a regular transfer is 21000 CFX, which is quite a lot for a transaction."}),"\n",(0,a.jsx)(t.h2,{id:"how-gasfee-is-calculated",children:"How gasFee is Calculated"}),"\n",(0,a.jsxs)(t.p,{children:["gasFee is the total gas fee paid for a transaction. It is calculated as ",(0,a.jsx)(t.code,{children:"gasFee = gasCharged * gasPrice"}),". gasFee takes the smallest unit of CFX, Drip."]}),"\n",(0,a.jsxs)(t.p,{children:["Suppose there is a regular transfer of 1 CFX, the gas limit can be set to 21,000. If the gasPrice is set to 1GDrip, then the total cost of the transaction is ",(0,a.jsx)(t.code,{children:"1 + 21000 * 0.000000001 = 1.000021 CFX"}),", where 1 CFX is transferred to the recipient's account, and 0.000021 CFX is the reward for the miner."]}),"\n",(0,a.jsx)(t.h3,{id:"gasused",children:"gasUsed"}),"\n",(0,a.jsx)(t.p,{children:"The actual gas consumed during transaction execution."}),"\n",(0,a.jsx)(t.h3,{id:"gascharged",children:"gasCharged"}),"\n",(0,a.jsxs)(t.p,{children:["The charged amount of gas. ",(0,a.jsxs)(t.strong,{children:["The ",(0,a.jsx)(t.code,{children:"gasCharged"})," may be greater than ",(0,a.jsx)(t.code,{children:"gasUsed"}),", because not all unused gas will be refunded."]})]}),"\n",(0,a.jsxs)(t.p,{children:["In a Conflux transaction, if the ",(0,a.jsx)(t.code,{children:"gas limit"})," is more than the actual amount of gas consumed (",(0,a.jsx)(t.code,{children:"gasUsed"}),"), the exceeding part will be returned. The returning amount of gas ",(0,a.jsx)(t.strong,{children:"can only be up to"})," a quarter of the ",(0,a.jsx)(t.code,{children:"gas limit"}),"."]}),"\n",(0,a.jsx)(t.h3,{id:"example",children:"Example"}),"\n",(0,a.jsxs)(t.p,{children:["Suppose the gas limit for a regular CFX transfer is set to 100k and the actual execution consumed 21,000, since the gas limit for the transaction is set too high, at most 25,000 of the gas fee will be returned(25% of the gas limit). The gas used for the transaction will be ",(0,a.jsx)(t.code,{children:"0.000075 CFX"}),"."]}),"\n",(0,a.jsxs)(t.p,{children:["If the gas limit setting of the transaction is not that high, take the same example as above but set the gas limit to 25000, which is 4000 more than the actual amount used, the exceeding part is not more than a quarter of the gas limit. This part will be returned fully, and the final amount of fees charged will still be ",(0,a.jsx)(t.code,{children:"0.000021 CFX"}),"."]}),"\n",(0,a.jsx)(t.h2,{id:"how-to-pay-less-gasfee",children:"How to pay less gasFee\uff1f"}),"\n",(0,a.jsx)(t.p,{children:"There are strategies you can use to reduce the cost:"}),"\n",(0,a.jsx)(t.p,{children:"1.Gas prices go up and down every once in a while based on how congested Conflux is. When gas prices are high, waiting just a few minutes before making a transaction could see a significant drop in what you pay."}),"\n",(0,a.jsxs)(t.p,{children:["2.If you're a smart contract developer aiming to reduce gas costs, start by optimizing data storage, improving function execution, and utilizing efficient loops, among others. For a deeper dive into these techniques and more, check out our dedicated ",(0,a.jsx)(t.a,{href:"/docs/general/build/smart-contracts/gas-optimization/",children:"Gas Optimization"})," tutorial."]}),"\n",(0,a.jsx)(t.h2,{id:"further-readings",children:"Further Readings"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:(0,a.jsx)(t.a,{href:"https://ethereum.org/en/developers/docs/gas/",children:"Ethereum Developer Documentation: Gas and Fees"})}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"faqs",children:"FAQs"}),"\n",(0,a.jsx)(t.h3,{id:"1-are-there-any-eip-1559-transactions-in-the-conflux-network",children:"1. Are there any EIP-1559 transactions in the Conflux network?"}),"\n",(0,a.jsx)(t.p,{children:"Currently, in the Conflux network, there are only transactions that correspond to the EIP-155 standard."})]})}function d(e={}){const{wrapper:t}={...(0,n.a)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},87992:(e,t,s)=>{s.d(t,{Z:()=>a});const a=s.p+"assets/images/gas1-7cc4ad4cf93fd42551f35d2edf9566cf.png"},31685:(e,t,s)=>{s.d(t,{Z:()=>a});const a=s.p+"assets/images/tx-gas-charged-631705fab32539aea535cfd7c829ba48.jpeg"},11151:(e,t,s)=>{s.d(t,{Z:()=>o,a:()=>r});var a=s(67294);const n={},i=a.createContext(n);function r(e){const t=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:r(e.components),a.createElement(i.Provider,{value:t},e.children)}}}]);