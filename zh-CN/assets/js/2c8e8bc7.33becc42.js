"use strict";(self.webpackChunkconflux_docs=self.webpackChunkconflux_docs||[]).push([[8844],{64032:(n,e,c)=>{c.r(e),c.d(e,{assets:()=>r,contentTitle:()=>i,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>d});var s=c(85893),o=c(11151);const a={sidebar_position:4,title:"Nonce Management",displayed_sidebar:"coreSidebar",keywords:["transaction","nonce"]},i=void 0,t={id:"core/core-space-basics/transactions/nonce",title:"Nonce Management",description:"\u5728Conflux\u4e2d\uff0c\u6bcf\u4e2a\u8d26\u6237\u90fd\u6709\u4e00\u4e2anonce\u503c\uff0c\u8868\u793a\u8be5\u8d26\u6237\u6267\u884c\u7684\u4ea4\u6613\u5e8f\u53f7\u3002 \u53ef\u4ee5\u4f7f\u7528RPC\u65b9\u6cd5cfxgetNextNonce\u83b7\u53d6\u6b64\u503c\u3002 \u4ea4\u6613\u4e2d\u7684nonce\u5b57\u6bb5\u7528\u4e8e\u6307\u5b9a\u6267\u884c\u987a\u5e8f\uff0c\u8f83\u4f4e\u7684nonce\u503c\u8868\u793a\u8f83\u65e9\u5730\u6267\u884c\u3002 \u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u76f4\u63a5\u5c06\u8fd9\u4e2a\u503c\u4f5c\u4e3a\u4e0b\u4e00\u6b21\u4ea4\u6613\u7684nonce\u3002",source:"@site/i18n/zh/docusaurus-plugin-content-docs/current/core/core-space-basics/transactions/nonce.md",sourceDirName:"core/core-space-basics/transactions",slug:"/core/core-space-basics/transactions/nonce",permalink:"/zh-CN/docs/core/core-space-basics/transactions/nonce",draft:!1,unlisted:!1,editUrl:"https://crowdin.com/project/conflux/zh-CN",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,title:"Nonce Management",displayed_sidebar:"coreSidebar",keywords:["transaction","nonce"]},sidebar:"coreSidebar",previous:{title:"Transaction Fee",permalink:"/zh-CN/docs/core/core-space-basics/transactions/transaction-fee"},next:{title:"\u4ea4\u6613\u751f\u547d\u5468\u671f",permalink:"/zh-CN/docs/core/core-space-basics/transactions/lifecycle"}},r={},d=[{value:"Nonce\u673a\u5236",id:"nonce\u673a\u5236",level:2},{value:"Nonce \u4f7f\u7528\u4e0d\u5f53\u5f15\u8d77\u7684\u95ee\u9898",id:"nonce-\u4f7f\u7528\u4e0d\u5f53\u5f15\u8d77\u7684\u95ee\u9898",level:2},{value:"\u7531\u4e8enonce\u503c\u8fc7\u65f6\u800c\u88ab\u4e22\u5f03",id:"\u7531\u4e8enonce\u503c\u8fc7\u65f6\u800c\u88ab\u4e22\u5f03",level:3},{value:"\u4ea4\u6613\u7684nonce\u4e0e\u4ea4\u6613\u6c60\u4e2d\u7684\u4ea4\u6613\u76f8\u540c",id:"\u4ea4\u6613\u7684nonce\u4e0e\u4ea4\u6613\u6c60\u4e2d\u7684\u4ea4\u6613\u76f8\u540c",level:3},{value:"\u7531\u4e8enonce\u503c\u8fc7\u5927\u800c\u88ab\u4e22\u5f03",id:"\u7531\u4e8enonce\u503c\u8fc7\u5927\u800c\u88ab\u4e22\u5f03",level:3},{value:"\u53d1\u9001\u4ea4\u6613\u540e\u65e0\u6cd5\u83b7\u53d6\u4ea4\u6613\u6536\u636e",id:"\u53d1\u9001\u4ea4\u6613\u540e\u65e0\u6cd5\u83b7\u53d6\u4ea4\u6613\u6536\u636e",level:3},{value:"Rapid Transaction Processing through Manual Nonce Management",id:"rapid-transaction-processing-through-manual-nonce-management",level:2},{value:"\u5e38\u89c1\u95ee\u9898\u89e3\u7b54",id:"\u5e38\u89c1\u95ee\u9898\u89e3\u7b54",level:2},{value:"\u5982\u4f55\u83b7\u5f97\u6b63\u786e\u7684nonce\uff1f",id:"\u5982\u4f55\u83b7\u5f97\u6b63\u786e\u7684nonce",level:3},{value:"How and When Does the Nonce Value Change in Transactions?",id:"how-and-when-does-the-nonce-value-change-in-transactions",level:3},{value:"\u5982\u679c\u60a8\u60f3\u6279\u91cf\u53d1\u9001\u4ea4\u6613\uff0c\u5982\u4f55\u7ba1\u7406 nonce\uff1f",id:"\u5982\u679c\u60a8\u60f3\u6279\u91cf\u53d1\u9001\u4ea4\u6613\u5982\u4f55\u7ba1\u7406-nonce",level:3},{value:"Why doesn&#39;t the account&#39;s nonce increase immediately after transaction is packed into a block?",id:"why-doesnt-the-accounts-nonce-increase-immediately-after-transaction-is-packed-into-a-block",level:3}];function l(n){const e={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.a)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(e.p,{children:["\u5728Conflux\u4e2d\uff0c\u6bcf\u4e2a\u8d26\u6237\u90fd\u6709\u4e00\u4e2anonce\u503c\uff0c\u8868\u793a\u8be5\u8d26\u6237\u6267\u884c\u7684\u4ea4\u6613\u5e8f\u53f7\u3002 \u53ef\u4ee5\u4f7f\u7528RPC\u65b9\u6cd5",(0,s.jsx)(e.a,{href:"/docs/core/build/json-rpc/cfx-namespace/#cfx_getnextnonce",children:(0,s.jsx)(e.code,{children:"cfx_getNextNonce"})}),"\u83b7\u53d6\u6b64\u503c\u3002 \u4ea4\u6613\u4e2d\u7684nonce\u5b57\u6bb5\u7528\u4e8e\u6307\u5b9a\u6267\u884c\u987a\u5e8f\uff0c\u8f83\u4f4e\u7684nonce\u503c\u8868\u793a\u8f83\u65e9\u5730\u6267\u884c\u3002 \u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u53ef\u4ee5\u76f4\u63a5\u5c06\u8fd9\u4e2a\u503c\u4f5c\u4e3a\u4e0b\u4e00\u6b21\u4ea4\u6613\u7684nonce\u3002"]}),"\n",(0,s.jsx)(e.p,{children:"\u7136\u800c\uff0c\u5728\u7f51\u7edc\u4ea4\u6613\u91cf\u9ad8(\u62e5\u5835)\u6216\u9700\u8981\u5feb\u901f\u63d0\u4ea4\u4ea4\u6613\u7684\u60c5\u51b5\u4e0b\uff0c\u83b7\u53d6nonce\u503c\u53d8\u5f97\u66f4\u4e3a\u590d\u6742\u3002 \u672c\u6587\u5c06\u8be6\u7ec6\u89e3\u91canonce\u66f4\u65b0\u673a\u5236\u4ee5\u53ca\u5982\u4f55\u5728\u7279\u6b8a\u60c5\u51b5\u4e0b\u7ba1\u7406\u4ea4\u6613\u7684nonce\u3002"}),"\n",(0,s.jsx)(e.h2,{id:"nonce\u673a\u5236",children:"Nonce\u673a\u5236"}),"\n",(0,s.jsxs)(e.p,{children:["\u8fd9\u91cc\u662f\u4e00\u4e9b",(0,s.jsx)(e.strong,{children:"nonce\u673a\u5236"}),"\u7684\u7ec6\u8282:"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"\u5728\u533a\u5757\u94fe\u4e0a\uff0c\u4ea4\u6613\u7684\u6267\u884c\u987a\u5e8f\u662f\u6309\u7167\u8d26\u6237\u7684nonce\u503c\u4ece\u5c0f\u5230\u5927\u7684\u987a\u5e8f\u6267\u884c\u7684\u3002"}),"\n",(0,s.jsx)(e.li,{children:"Nonce \u7684\u521d\u59cb\u503c\u662f 0\uff0c\u6bcf\u6267\u884c\u4e00\u6b21\u4ea4\u6613\uff0cnonce \u5c31\u589e\u52a0 1\u3002"}),"\n",(0,s.jsx)(e.li,{children:"Nonce \u4e0d\u80fd\u91cd\u590d\u4f7f\u7528\u3002"}),"\n",(0,s.jsxs)(e.li,{children:["Nonce \u4e0d\u80fd\u8df3\u8fc7\uff1a\u5047\u8bbe\u4e00\u4e2a\u8d26\u6237\u7684\u5f53\u524d nonce \u662f n\u3002 \u5982\u679c\u4ea4\u6613\u7684nonce\u503c\u4e3am\uff0c\u4e14m > n, \u90a3\u4e48\u8be5\u4ea4\u6613",(0,s.jsx)(e.strong,{children:"\u4e0d\u4f1a\u88ab\u6267\u884c"})," \u76f4\u5230\u6240\u6709",(0,s.jsx)(e.strong,{children:"nonce < m\u7684\u4ea4\u6613\u90fd\u88ab\u6267\u884c"}),"\u3002"]}),"\n",(0,s.jsxs)(e.li,{children:["\u901a\u8fc7",(0,s.jsx)(e.a,{href:"/docs/core/build/json-rpc/cfx-namespace#cfx_sendrawtransaction",children:(0,s.jsx)(e.code,{children:"cfx_sendRawTransaction"})})," \u65b9\u6cd5\u53d1\u9001\u4ea4\u6613\u540e, ",(0,s.jsx)(e.strong,{children:"\u4e0d\u4f1a\u7acb\u5373\u6267\u884c"}),"\u3002 \u4f60\u5fc5\u987b\u7b49\u5f85\u77ff\u5de5\u5148\u6253\u5305\u5b83\u3002 \u4e00\u65e6\u6253\u5305\uff0c\u5b83\u5c06\u5ef6\u8fdf 5 \u4e2a epoch \u6267\u884c\u3002 \u4ea4\u6613\u6267\u884c\u540e\uff0c\u8d26\u6237\u7684 nonce \u5c06\u589e\u52a0\u4e00\u3002"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"nonce-\u4f7f\u7528\u4e0d\u5f53\u5f15\u8d77\u7684\u95ee\u9898",children:"Nonce \u4f7f\u7528\u4e0d\u5f53\u5f15\u8d77\u7684\u95ee\u9898"}),"\n",(0,s.jsx)(e.p,{children:"\u7528\u6237\u5728\u53d1\u9001\u4ea4\u6613\u65f6\u8bbe\u7f6e nonce \u4e0d\u6b63\u786e\u53ef\u80fd\u4f1a\u5bfc\u81f4\u4ea4\u6613\u5931\u8d25\u6216\u5728\u4ea4\u6613\u6c60\u4e2d\u5361\u4f4f\uff0c\u65e0\u6cd5\u88ab\u6253\u5305\u548c\u6267\u884c\u3002 \u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u7684\u9519\u8bef\u6d88\u606f\u53ca\u5176\u76f8\u5e94\u7684\u89e3\u51b3\u65b9\u6848\u3002"}),"\n",(0,s.jsx)(e.h3,{id:"\u7531\u4e8enonce\u503c\u8fc7\u65f6\u800c\u88ab\u4e22\u5f03",children:"\u7531\u4e8enonce\u503c\u8fc7\u65f6\u800c\u88ab\u4e22\u5f03"}),"\n",(0,s.jsx)(e.p,{children:"\u5982\u679c\u65b0\u53d1\u9001\u7684\u4ea4\u6613\u7684nonce\u5c0f\u4e8e\u8d26\u6237\u7684\u5f53\u524dnonce\uff0c\u5219\u8be5\u4ea4\u6613\u5c06\u88ab\u62d2\u7edd\uff0c\u5e76\u8fd4\u56de\u5982\u4e0b\u7684\u9519\u8bef\u6d88\u606f\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'"\\"Transaction 0x0101010110 is discarded due to a too stale nonce\\""\n'})}),"\n",(0,s.jsx)(e.p,{children:"\u6b64\u9519\u8bef\u8868\u793a\u4f7f\u7528\u7684nonce \u503c\u5df2\u7ecf\u8fc7\u65f6\u6216\u5df2\u88ab\u91cd\u65b0\u4f7f\u7528\uff0c\u9700\u8981\u66f4\u65b0\u5230\u6700\u65b0\u7684nonce\u503c\u3002"}),"\n",(0,s.jsx)(e.h3,{id:"\u4ea4\u6613\u7684nonce\u4e0e\u4ea4\u6613\u6c60\u4e2d\u7684\u4ea4\u6613\u76f8\u540c",children:"\u4ea4\u6613\u7684nonce\u4e0e\u4ea4\u6613\u6c60\u4e2d\u7684\u4ea4\u6613\u76f8\u540c"}),"\n",(0,s.jsx)(e.p,{children:"\u5982\u679c\u4ea4\u6613\u5df2\u53d1\u9001\u5230\u4ea4\u6613\u6c60\u4f46\u5c1a\u672a\u6267\u884c\uff0c\u518d\u53d1\u9001\u5177\u6709\u76f8\u540cnonce\u7684\u4ea4\u6613\u5c06\u5bfc\u81f4\u5982\u4e0b\u9519\u8bef\u6d88\u606f\uff0c\u6bd4\u5982\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'"Tx with the same nonce already inserted. To replace it, you need to specify a gas price > {}""\n'})}),"\n",(0,s.jsxs)(e.p,{children:["\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4f60\u5e94\u8be5\u7b49\u5f85\u4ea4\u6613\u6c60\u4e2d\u7684\u4ea4\u6613\u88ab\u6267\u884c\u3002 If you want to replace the transaction in the pool, you need to set a ",(0,s.jsx)(e.strong,{children:"higher gas price"})," and resend it."]}),"\n",(0,s.jsx)(e.p,{children:"\u6709\u65f6\uff0c\u9519\u8bef\u6d88\u606f\u4e5f\u53ef\u80fd\u662f\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'"\\"tx already exist\\""\n'})}),"\n",(0,s.jsx)(e.p,{children:"\u5904\u7406\u65b9\u5f0f\u4e0e\u4e0a\u9762\u76f8\u540c\u3002"}),"\n",(0,s.jsx)(e.h3,{id:"\u7531\u4e8enonce\u503c\u8fc7\u5927\u800c\u88ab\u4e22\u5f03",children:"\u7531\u4e8enonce\u503c\u8fc7\u5927\u800c\u88ab\u4e22\u5f03"}),"\n",(0,s.jsx)(e.p,{children:"\u5982\u679c\u4ea4\u6613\u7684nonce\u503c\u8fc7\u5927\uff0c\u6bd4\u7528\u6237\u5f53\u524dnonce\u503c\u59272000\u4ee5\u4e0a\uff0c\u5c06\u8fd4\u56de\u5982\u4e0b\u9519\u8bef\u6d88\u606f\uff1a"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'"\\"Transaction 0x0101010101010101 is discarded due to in too distant future\\""\n'})}),"\n",(0,s.jsx)(e.p,{children:"\u89e3\u51b3\u65b9\u6848: \u53d1\u9001\u4ea4\u6613\u65f6\u4f7f\u7528\u6b63\u786e\u7684nonce\u503c\u3002"}),"\n",(0,s.jsxs)(e.p,{children:["\u9664\u4e86nonce\u914d\u7f6e\u9519\u8bef\u5bfc\u81f4\u4ea4\u6613\u5931\u8d25\u5916\uff0c\u8fd8\u4f1a\u6709\u4e00\u4e9b\u5176\u4ed6\u60c5\u51b5\u3002 \u6b32\u4e86\u89e3\u66f4\u591a\u8be6\u60c5\uff0c\u8bf7\u53c2\u9605",(0,s.jsx)(e.a,{href:"/zh-CN/docs/core/core-space-basics/transactions/send-tx-error",children:"\u53d1\u9001\u4ea4\u6613\u9519\u8bef"}),"\u3002"]}),"\n",(0,s.jsx)(e.h3,{id:"\u53d1\u9001\u4ea4\u6613\u540e\u65e0\u6cd5\u83b7\u53d6\u4ea4\u6613\u6536\u636e",children:"\u53d1\u9001\u4ea4\u6613\u540e\u65e0\u6cd5\u83b7\u53d6\u4ea4\u6613\u6536\u636e"}),"\n",(0,s.jsx)(e.p,{children:"\u6709\u4e00\u79cd\u60c5\u51b5\u662f\uff0c\u5728\u53d1\u9001\u4ea4\u6613\u540e\uff0c\u5728\u957f\u65f6\u95f4\u5185\u65e0\u6cd5\u83b7\u53d6\u4ea4\u6613\u6536\u636e\u3002 \u8fd9\u901a\u5e38\u662f\u7531\u4e8e\u4ea4\u6613\u4f7f\u7528\u975e\u8fde\u7eed\u7684nonce\u503c\u5bfc\u81f4\u7684\u3002 \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4ea4\u6613\u88ab\u5361\u5728\u4ea4\u6613\u6c60\u5185\uff0c\u7b49\u5f85\u5148\u524d\u4ea4\u6613\u7684\u6267\u884c\u5b8c\u6210\u3002"}),"\n",(0,s.jsx)(e.p,{children:"For example, if the account's current nonce is 1 and you send a transaction with nonce 5, it will be stuck in the transaction pool, waiting for transactions with nonces 1, 2, 3, and 4 to be sent and executed."}),"\n",(0,s.jsx)(e.p,{children:"To ensure the execution of this transaction, you need to send transactions with nonces 1, 2, 3, and 4 to the transaction pool. Once these transactions are packaged, the transaction with nonce 5 will automatically be included and executed."}),"\n",(0,s.jsxs)(e.p,{children:["For more information on pending transactions, refer to ",(0,s.jsx)(e.a,{href:"/zh-CN/docs/core/core-space-basics/transactions/why-transaction-is-pending",children:"Transaction Pending"}),"."]}),"\n",(0,s.jsx)(e.h2,{id:"rapid-transaction-processing-through-manual-nonce-management",children:"Rapid Transaction Processing through Manual Nonce Management"}),"\n",(0,s.jsxs)(e.p,{children:["In most situations, transactions are sent sequentially: sending one transaction, waiting for it to be executed, and then sending the next. In such cases, ",(0,s.jsx)(e.code,{children:"cfx_getNextNonce"})," can be used directly to obtain the nonce for each transaction. However, this method has a slower processing time, typically averaging around 15 seconds per transaction."]}),"\n",(0,s.jsx)(e.p,{children:"For rapid transaction processing, managing nonce values manually is essential. The general steps for this approach are:"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Initial Nonce Retrieval"}),": Obtain the current nonce of your account, referred to as ",(0,s.jsx)(e.code,{children:"nextNonce"}),", before beginning the transaction process."]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Transaction Submission"}),": For each transaction:"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Use ",(0,s.jsx)(e.code,{children:"nextNonce"})," for the transaction."]}),"\n",(0,s.jsxs)(e.li,{children:["After transaction is successful sent to RPC nodes, increment ",(0,s.jsx)(e.code,{children:"nextNonce"}),"."]}),"\n",(0,s.jsx)(e.li,{children:"Record the hash and nonce of each transaction."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Repeated Execution"}),": Continue step 2 for multiple transactions."]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Transaction Monitoring"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["Use ",(0,s.jsx)(e.code,{children:"cfx_getTransactionByHash"})," and ",(0,s.jsx)(e.code,{children:"cfx_getTransactionReceipt"})," for transaction status updates."]}),"\n",(0,s.jsx)(e.li,{children:"If a receipt is confirmed, stop monitoring that transaction."}),"\n",(0,s.jsx)(e.li,{children:"If a transaction is dropped or reverted, resend it using the same nonce."}),"\n",(0,s.jsxs)(e.li,{children:["For delayed transactions, possibly due to network congestion, consider increasing ",(0,s.jsx)(e.code,{children:"gasPrice"})," and resending them."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Additional Considerations"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Pending Transaction Management"}),": Aim to keep pending transactions in the pool to a manageable number, ideally between 100-200. Exceeding this can complicate handling if transactions are delayed or reverted."]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Sufficient Funds"}),": Ensure the account has adequate CFX for both the transfer amount and transaction fees to prevent transaction processing delays."]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Multiple Accounts for Increased Speed (for certain situations)"}),": Using several accounts in parellel for transactions can further enhance processing speed."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"\u5e38\u89c1\u95ee\u9898\u89e3\u7b54",children:"\u5e38\u89c1\u95ee\u9898\u89e3\u7b54"}),"\n",(0,s.jsx)(e.h3,{id:"\u5982\u4f55\u83b7\u5f97\u6b63\u786e\u7684nonce",children:"\u5982\u4f55\u83b7\u5f97\u6b63\u786e\u7684nonce\uff1f"}),"\n",(0,s.jsxs)(e.p,{children:["Through the  ",(0,s.jsx)(e.a,{href:"/docs/core/build/json-rpc/cfx-namespace/#cfx_getnextnonce",children:(0,s.jsx)(e.code,{children:"cfx_getNextNonce"})})," RPC, the next available nonce of an account can be obtained. \u4f7f\u7528\u8fc7\u7684 nonce \u503c\u4e0d\u80fd\u518d\u6b21\u4f7f\u7528\u3002 \u5982\u679c\u4f7f\u7528\u4e00\u4e2a\u5927\u4e8e\u5f53\u524d nonce \u503c\u7684 nonce\uff0c\u4ea4\u6613\u5c06\u65e0\u6cd5\u88ab\u6253\u5305\u3002"]}),"\n",(0,s.jsx)(e.h3,{id:"how-and-when-does-the-nonce-value-change-in-transactions",children:"How and When Does the Nonce Value Change in Transactions?"}),"\n",(0,s.jsxs)(e.p,{children:["The nonce value in a transaction increments by 1 upon the transaction's execution, regardless of whether the transaction succeeds or fails. If you query the nonce using ",(0,s.jsx)(e.a,{href:"/docs/core/build/json-rpc/cfx-namespace/#cfx_getnextnonce",children:(0,s.jsx)(e.code,{children:"cfx_getNextNonce"})})," after sending a transaction, it may appear unchanged. This unchanged status occurs because the transaction is either still in the transaction pool pending inclusion in a block, or it has been included in a block but is in a 'defer' state awaiting execution."]}),"\n",(0,s.jsxs)(e.p,{children:["Refer to ",(0,s.jsx)(e.a,{href:"/zh-CN/docs/core/core-space-basics/transactions/nonce#nonce-mechanism",children:"nonce mechanism"})," for more example."]}),"\n",(0,s.jsx)(e.h3,{id:"\u5982\u679c\u60a8\u60f3\u6279\u91cf\u53d1\u9001\u4ea4\u6613\u5982\u4f55\u7ba1\u7406-nonce",children:"\u5982\u679c\u60a8\u60f3\u6279\u91cf\u53d1\u9001\u4ea4\u6613\uff0c\u5982\u4f55\u7ba1\u7406 nonce\uff1f"}),"\n",(0,s.jsx)(e.p,{children:"\u5f53\u6279\u91cf\u53d1\u9001\u4ea4\u6613\u65f6\uff0c\u9700\u8981\u624b\u52a8\u7ba1\u7406 nonce \u503c\u3002 \u6bcf\u6b21\u53d1\u9001\u4ea4\u6613\u65f6\uff0c\u9700\u8981\u624b\u52a8\u5c06 nonce \u503c\u52a0\u4e00\u3002\n\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5982\u679c\u6709\u4e00\u4e2a\u4ea4\u6613\u5931\u8d25\uff0c\u5bfc\u81f4\u5b83\u7684 nonce \u6ca1\u6709\u88ab\u4f7f\u7528\uff0c\u60a8\u9700\u8981\u624b\u52a8\u8c03\u6574\u4ea4\u6613\u53c2\u6570\u5e76\u91cd\u65b0\u53d1\u9001\u8be5\u4ea4\u6613\u3002\n\u56e0\u6b64\uff0c\u5728\u6279\u91cf\u53d1\u9001\u4ea4\u6613\u65f6\uff0c\u60a8\u9700\u8981\u4fdd\u7559\u6240\u6709\u4ea4\u6613\u7684\u54c8\u5e0c\u503c\uff0c\u5e76\u76d1\u63a7\u8fd9\u4e9b\u4ea4\u6613\u7684\u72b6\u6001\u3002"}),"\n",(0,s.jsx)(e.h3,{id:"why-doesnt-the-accounts-nonce-increase-immediately-after-transaction-is-packed-into-a-block",children:"Why doesn't the account's nonce increase immediately after transaction is packed into a block?"}),"\n",(0,s.jsx)(e.p,{children:"The account's nonce does not increase immediately after a transaction appears on chain. Instead, the nonce increases after the transaction is packaged and executed."})]})}function h(n={}){const{wrapper:e}={...(0,o.a)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(l,{...n})}):l(n)}},11151:(n,e,c)=>{c.d(e,{Z:()=>t,a:()=>i});var s=c(67294);const o={},a=s.createContext(o);function i(n){const e=s.useContext(a);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(o):n.components||o:i(n.components),s.createElement(a.Provider,{value:e},n.children)}}}]);