"use strict";(self.webpackChunkconflux_docs=self.webpackChunkconflux_docs||[]).push([[7101],{99462:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>i,contentTitle:()=>l,default:()=>r,frontMatter:()=>t,metadata:()=>d,toc:()=>c});var o=a(85893),s=a(11151);const t={sidebar_position:3,title:"\u8282\u70b9\u5feb\u7167\u5de5\u5177",description:"Learn how to use the Conflux Snapshot Tool to quickly set up a Conflux node from a snapshot.",displayed_sidebar:"generalSidebar"},l=void 0,d={id:"general/run-a-node/snapshot-tool",title:"\u8282\u70b9\u5feb\u7167\u5de5\u5177",description:"Learn how to use the Conflux Snapshot Tool to quickly set up a Conflux node from a snapshot.",source:"@site/i18n/zh/docusaurus-plugin-content-docs/current/general/run-a-node/snapshot-tool.md",sourceDirName:"general/run-a-node",slug:"/general/run-a-node/snapshot-tool",permalink:"/zh-CN/docs/general/run-a-node/snapshot-tool",draft:!1,unlisted:!1,editUrl:"https://crowdin.com/project/conflux/zh-CN",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,title:"\u8282\u70b9\u5feb\u7167\u5de5\u5177",description:"Learn how to use the Conflux Snapshot Tool to quickly set up a Conflux node from a snapshot.",displayed_sidebar:"generalSidebar"},sidebar:"generalSidebar",previous:{title:"\u8282\u70b9\u7c7b\u578b",permalink:"/zh-CN/docs/general/run-a-node/node-types"},next:{title:"Upgrade a Node",permalink:"/zh-CN/docs/general/run-a-node/how-to-upgrad"}},i={},c=[{value:"\u7b80\u4ecb",id:"\u7b80\u4ecb",level:2},{value:"\u524d\u63d0\u6761\u4ef6",id:"\u524d\u63d0\u6761\u4ef6",level:2},{value:"Download Snapshot Data",id:"download-snapshot-data",level:2},{value:"Unzip Snapshot Data",id:"unzip-snapshot-data",level:2},{value:"Resources",id:"resources",level:2},{value:"\u5e38\u89c1\u95ee\u9898\u89e3\u7b54",id:"\u5e38\u89c1\u95ee\u9898\u89e3\u7b54",level:2},{value:"service is not available?",id:"service-is-not-available",level:3},{value:"What&#39;s the snapshot data size?",id:"whats-the-snapshot-data-size",level:3},{value:"Does the archive node snapshot data include the trace data?",id:"does-the-archive-node-snapshot-data-include-the-trace-data",level:3},{value:"Does the archive node snapshot data include the fullstate data?",id:"does-the-archive-node-snapshot-data-include-the-fullstate-data",level:3}];function h(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h2,{id:"\u7b80\u4ecb",children:"\u7b80\u4ecb"}),"\n",(0,o.jsxs)(n.p,{children:["The Conflux Blockchain Data Snapshot Tool (aka Archive-Tool) is designed to help users quickly set up a Conflux node from a snapshot. \u8be5\u5de5\u5177\u63d0\u4f9b\u4e86\u4e0b\u8f7d\u94fe\u63a5\uff0c\u4e14\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u4ec5\u4e0b\u8f7d\u5f53\u5929\u7684\u6570\u636e\u5e93\u5feb\u7167\u6570\u636e \u5feb\u7167\u5de5\u5177\u5728\u8fd0\u884c\u4e00\u4e2a\u8282\u70b9\u65f6\u53ef\u4ee5\u8282\u7701\u7528\u4e8e\u4e0b\u8f7d\u548c\u540c\u6b65\u6240\u6709\u533a\u5757\u94fe\u6570\u636e\u6240\u9700\u7684\u6570\u5468\u65f6\u95f4\u3002 Using this tool is optional, ",(0,o.jsx)(n.strong,{children:"but highly recommended"}),". The tool supports ",(0,o.jsx)(n.strong,{children:"resuming downloads"})," from breakpoints using the curl command. If an error occurs during the process, users are advised to follow the script prompts."]}),"\n",(0,o.jsx)(n.h2,{id:"\u524d\u63d0\u6761\u4ef6",children:"\u524d\u63d0\u6761\u4ef6"}),"\n",(0,o.jsxs)(n.p,{children:["Ensure you have curl installed on your system. If not, you can download and install it from ",(0,o.jsx)(n.a,{href:"https://curl.se/",children:"here"}),"."]}),"\n",(0,o.jsx)(n.h2,{id:"download-snapshot-data",children:"Download Snapshot Data"}),"\n",(0,o.jsx)(n.p,{children:"Select the snapshot download link based on the node type and location:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"For Linux & Mac - Mainnet - Archive Node:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"# Beijing\nwget https://conflux-blockchain-data.oss-cn-beijing.aliyuncs.com/archivenode-db/M/download.sh\n# US West\nwget https://conflux-blockchain-data-us.s3.us-west-1.amazonaws.com/archivenode-db/M/download.sh\n# EU Central\nwget https://conflux-blockchain-data-eu.s3.eu-central-1.amazonaws.com/archivenode-db/M/download.sh\n\nbash download.sh \n"})}),"\n",(0,o.jsxs)(n.ol,{start:"2",children:["\n",(0,o.jsx)(n.li,{children:"For Windows - Mainnet - Archive Node:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"# Beijing\nwget https://conflux-blockchain-data.oss-cn-beijing.aliyuncs.com/archivenode-db/M/download.bat\n# US West\nwget https://conflux-blockchain-data-us.s3.us-west-1.amazonaws.com/archivenode-db/M/download.bat\n# EU Central\nwget https://conflux-blockchain-data-eu.s3.eu-central-1.amazonaws.com/archivenode-db/M/download.bat\n\ndownload.bat \n"})}),"\n",(0,o.jsxs)(n.ol,{start:"3",children:["\n",(0,o.jsx)(n.li,{children:"For Linux & Mac - Mainnet - Full Node:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"wget https://conflux-blockchain-data.oss-cn-beijing.aliyuncs.com/fullnode-db/M/download.sh\nbash download.sh \n"})}),"\n",(0,o.jsxs)(n.ol,{start:"4",children:["\n",(0,o.jsx)(n.li,{children:"For Linux & Mac - Testnet - Archive Node:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"wget https://conflux-blockchain-data.oss-cn-beijing.aliyuncs.com/archivenode-db/T/download.sh\nbash download.sh \n"})}),"\n",(0,o.jsxs)(n.ol,{start:"5",children:["\n",(0,o.jsx)(n.li,{children:"For Windows - Testnet - Archive Node:"}),"\n"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"wget https://conflux-blockchain-data.oss-cn-beijing.aliyuncs.com/archivenode-db/T/download.bat\ndownload.bat \n"})}),"\n",(0,o.jsx)(n.h2,{id:"unzip-snapshot-data",children:"Unzip Snapshot Data"}),"\n",(0,o.jsx)(n.p,{children:'Then, you\u2019ll need to unzip the file, and copy (or move) its content into your node folder, usually named "run".'}),"\n",(0,o.jsx)(n.p,{children:"\u4f8b\u5982\uff1a"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-shell",children:"tar -xvzf conflux-fullnode-db-snapshot-2023-09-20.tgz -C ./run\n"})}),"\n",(0,o.jsxs)(n.p,{children:["The snapshot data also includes the ",(0,o.jsx)(n.code,{children:"pos_config"})," folder, and the Conflux client release will also include the ",(0,o.jsx)(n.code,{children:"pos_config"})," folder. You can use either one."]}),"\n",(0,o.jsx)(n.p,{children:"Then you can start your node."}),"\n",(0,o.jsx)(n.h2,{id:"resources",children:"Resources"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"https://github.com/conflux-fans/archive-tool",children:"Conflux Blockchain Data Snapshot Archive-tool"}),"."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"\u5e38\u89c1\u95ee\u9898\u89e3\u7b54",children:"\u5e38\u89c1\u95ee\u9898\u89e3\u7b54"}),"\n",(0,o.jsx)(n.h3,{id:"service-is-not-available",children:"service is not available?"}),"\n",(0,o.jsx)(n.p,{children:"Please download the latest version of the snapshot tool."}),"\n",(0,o.jsx)(n.h3,{id:"whats-the-snapshot-data-size",children:"What's the snapshot data size?"}),"\n",(0,o.jsx)(n.p,{children:"At the time of writing(2023.12.22), the fullnode snapshot data size is about 200G, the archivenode snapshot data size is 550G."}),"\n",(0,o.jsxs)(n.p,{children:["You can check the newest snapshot data size in ",(0,o.jsx)(n.code,{children:"download.sh"})," file."]}),"\n",(0,o.jsx)(n.h3,{id:"does-the-archive-node-snapshot-data-include-the-trace-data",children:"Does the archive node snapshot data include the trace data?"}),"\n",(0,o.jsx)(n.p,{children:"Yes, it does."}),"\n",(0,o.jsx)(n.h3,{id:"does-the-archive-node-snapshot-data-include-the-fullstate-data",children:"Does the archive node snapshot data include the fullstate data?"}),"\n",(0,o.jsx)(n.p,{children:"No, it doesn't. If you want to setup a fullstate archive node, you need sync the data from beginning."}),"\n",(0,o.jsx)(n.p,{children:"The Confura public RPC service is a fullstate archive node. You can use it to query the fullstate data."})]})}function r(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}},11151:(e,n,a)=>{a.d(n,{Z:()=>d,a:()=>l});var o=a(67294);const s={},t=o.createContext(s);function l(e){const n=o.useContext(t);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:l(e.components),o.createElement(t.Provider,{value:n},e.children)}}}]);