"use strict";(self.webpackChunkconflux_docs=self.webpackChunkconflux_docs||[]).push([[9158],{81041:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>s,default:()=>h,frontMatter:()=>i,metadata:()=>c,toc:()=>l});var o=t(85893),r=t(11151);const i={sidebar_position:4,title:"Brownie",description:"\u5b66\u4e60\u5982\u4f55\u4f7f\u7528 Brownie \u90e8\u7f72 ERC-20 \u4ee3\u5e01\u3002",keywords:["Brownie","\u667a\u80fd\u5408\u7ea6","Python"],displayed_sidebar:"eSpaceSidebar"},s=void 0,c={id:"espace/tutorials/deployContract/brownie",title:"Brownie",description:"\u5b66\u4e60\u5982\u4f55\u4f7f\u7528 Brownie \u90e8\u7f72 ERC-20 \u4ee3\u5e01\u3002",source:"@site/i18n/zh/docusaurus-plugin-content-docs/current/espace/tutorials/deployContract/brownie.md",sourceDirName:"espace/tutorials/deployContract",slug:"/espace/tutorials/deployContract/brownie",permalink:"/zh-CN/docs/espace/tutorials/deployContract/brownie",draft:!1,unlisted:!1,editUrl:"https://crowdin.com/project/conflux/zh-CN",tags:[],version:"current",sidebarPosition:4,frontMatter:{sidebar_position:4,title:"Brownie",description:"\u5b66\u4e60\u5982\u4f55\u4f7f\u7528 Brownie \u90e8\u7f72 ERC-20 \u4ee3\u5e01\u3002",keywords:["Brownie","\u667a\u80fd\u5408\u7ea6","Python"],displayed_sidebar:"eSpaceSidebar"},sidebar:"eSpaceSidebar",previous:{title:"thirdweb",permalink:"/zh-CN/docs/espace/tutorials/deployContract/thirdweb"},next:{title:"Scaffold for Developing Conflux Apps",permalink:"/zh-CN/docs/category/scaffold-for-developing-conflux-apps"}},a={},l=[{value:"\u5b89\u88c5 Brownie",id:"\u5b89\u88c5-brownie",level:2},{value:"\u6dfb\u52a0 Conflux eSpace \u7f51\u7edc",id:"\u6dfb\u52a0-conflux-espace-\u7f51\u7edc",level:2},{value:"Generate Template Token Project",id:"generate-template-token-project",level:2},{value:"Generate/Import Your Account",id:"generateimport-your-account",level:2},{value:"Generate a New Account",id:"generate-a-new-account",level:3},{value:"Import Your Account",id:"import-your-account",level:3},{value:"Fund Your Account",id:"fund-your-account",level:2},{value:"Modify Deployment Script",id:"modify-deployment-script",level:2},{value:"Deployment",id:"deployment",level:2},{value:"\u63a5\u4e0b\u6765\u662f\uff1f",id:"\u63a5\u4e0b\u6765\u662f",level:2}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,r.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.a,{href:"https://eth-brownie.readthedocs.io/en/stable/",children:"Brownie"})," is a Python-based development and testing framework for smart contracts targeting the Ethereum Virtual Machine. In this tutorial, we will guide you through configuring Brownie (or eth-brownie) for Conflux eSpace and demonstrate how to use Brownie scripts to deploy contracts on Conflux eSpace."]}),"\n",(0,o.jsx)(n.h2,{id:"\u5b89\u88c5-brownie",children:"\u5b89\u88c5 Brownie"}),"\n",(0,o.jsx)(n.admonition,{type:"tip",children:(0,o.jsxs)(n.p,{children:["To avoid dependency conflicts, it is recommended to create virtual environments before installing ",(0,o.jsx)(n.code,{children:"eth-brownie"}),". Tools like ",(0,o.jsx)(n.a,{href:"https://docs.python.org/3/library/venv.html",children:"venv"})," or ",(0,o.jsx)(n.a,{href:"https://conda.io/projects/conda/en/latest/user-guide/tasks/manage-environments.html#creating-an-environment-with-commands",children:"conda"})," can be used for this purpose."]})}),"\n",(0,o.jsx)(n.p,{children:"\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u5b89\u88c5 Brownie\uff1a"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"pip install eth-brownie # or pip3 install eth-brownie\n"})}),"\n",(0,o.jsx)(n.h2,{id:"\u6dfb\u52a0-conflux-espace-\u7f51\u7edc",children:"\u6dfb\u52a0 Conflux eSpace \u7f51\u7edc"}),"\n",(0,o.jsx)(n.p,{children:"To add the Conflux eSpace networks to Brownie, execute these commands:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'brownie networks add "Conflux eSpace" conflux-espace-main name=Mainnet host=https://evm.confluxrpc.com explorer=https://evm.confluxscan.io chainid=1030\nbrownie networks add "Conflux eSpace" conflux-espace-test name=Testnet host=https://evmtestnet.confluxrpc.com explorer=https://evmtestnet.confluxscan.io chainid=71\n'})}),"\n",(0,o.jsxs)(n.p,{children:["Alternatively, import the Conflux eSpace networks to Brownie using a ",(0,o.jsx)(n.code,{children:"yaml"})," file:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:"live:\n- name: Conflux eSpace\n  networks:\n  - chainid: 1030\n    explorer: https://evm.confluxscan.io\n    host: https://evm.confluxrpc.com\n    id: conflux-espace-main\n    name: Mainnet\n  - chainid: 71\n    explorer: https://evmtestnet.confluxscan.io\n    host: https://evmtestnet.confluxrpc.com\n    id: conflux-espace-test\n    name: Testnet\n"})}),"\n",(0,o.jsx)(n.p,{children:"\u7136\u540e\uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u5c06\u5176\u6dfb\u52a0\u5230\u60a8\u7684\u7f51\u7edc\u914d\u7f6e\uff1a"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"brownie networks import ./network-config.yaml\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Upon successful addition, the networks will appear in the Brownie network list, as shown by running ",(0,o.jsx)(n.code,{children:"brownie networks list"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"......\n\nConflux eSpace\n  \u251c\u2500Testnet: conflux-espace-test\n  \u2514\u2500Mainnet: conflux-espace-main\n\n......\n"})}),"\n",(0,o.jsx)(n.h2,{id:"generate-template-token-project",children:"Generate Template Token Project"}),"\n",(0,o.jsxs)(n.p,{children:["To generate a template token project, run ",(0,o.jsx)(n.code,{children:"brownie bake token"}),". The project will be created in the current folder. For this tutorial, we will place the project directly under the user directory:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"cd ~\nbrownie bake token\ncd token\n"})}),"\n",(0,o.jsx)(n.h2,{id:"generateimport-your-account",children:"Generate/Import Your Account"}),"\n",(0,o.jsx)(n.p,{children:"You have the option to either generate a new account or import an existing one for Brownie."}),"\n",(0,o.jsx)(n.h3,{id:"generate-a-new-account",children:"Generate a New Account"}),"\n",(0,o.jsx)(n.p,{children:"To create a new account via the command line:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"brownie accounts generate <id>\n"})}),"\n",(0,o.jsxs)(n.p,{children:["You will be prompted to set a password for the account. Brownie will then generate a random private key and make the account accessible as ",(0,o.jsx)(n.code,{children:"<id>"}),". The address of the new account will be displayed in the terminal, which you will need in subsequent steps."]}),"\n",(0,o.jsx)(n.p,{children:"Here is an example output of the command:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"Brownie v1.14.5 - Python development framework for Ethereum\n\nGenerating a new private key...\nmnemonic: 'park service pull home hedgehog soul grief food people uncle will series'\nEnter the password to encrypt this account with: \nSUCCESS: A new account '0x960ecb222F296C1D75a111D33094Cb393ab17b09' has been generated with the id 'new'\n"})}),"\n",(0,o.jsx)(n.h3,{id:"import-your-account",children:"Import Your Account"}),"\n",(0,o.jsx)(n.p,{children:"If you already have an account, you can import it. To import your private key, run:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# id is the identifier of your account, used to specify the account in scripts\nbrownie accounts new <id>\n# for example, brownie accounts new dev\n"})}),"\n",(0,o.jsx)(n.p,{children:"Brownie will prompt you to enter your secret key and password:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"Brownie v1.14.5 - Python development framework for Ethereum\n\nEnter the private key you wish to add: *******************\nEnter the password to encrypt this account with: **************\nSUCCESS: A new account 'xxxxxxxxxxxx' has been generated with the id 'dev'\n\n\n"})}),"\n",(0,o.jsx)(n.p,{children:"It's also possible to import your keystore using:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"brownie accounts import <id> <path>\n"})}),"\n",(0,o.jsxs)(n.p,{children:["For more information, refer to ",(0,o.jsx)(n.a,{href:"https://eth-brownie.readthedocs.io/en/stable/account-management.html#account-management",children:"account management"}),"."]}),"\n",(0,o.jsx)(n.h2,{id:"fund-your-account",children:"Fund Your Account"}),"\n",(0,o.jsxs)(n.p,{children:["To send transactions, you need to fund your account. The ",(0,o.jsx)(n.a,{href:"https://efaucet.confluxnetwork.org/",children:"Conflux's eSpace faucet"})," can assist with this."]}),"\n",(0,o.jsx)(n.p,{children:"After entering your account address, your account will receive funds on the eSpace testnet."}),"\n",(0,o.jsx)(n.h2,{id:"modify-deployment-script",children:"Modify Deployment Script"}),"\n",(0,o.jsxs)(n.p,{children:["The default ",(0,o.jsx)(n.code,{children:"scripts/token.py"})," in the template ",(0,o.jsx)(n.code,{children:"token"})," project is not directly usable for the Conflux eSpace testnet. An extra line needs to be added to the default script:"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-py",children:'#!/usr/bin/python3\n\nfrom brownie import Token, accounts\n\n\ndef main():\n    accounts.load("dev") # Specify which account to load here\n    return Token.deploy("Test Token", "TST", 18, 1e21, {\'from\': accounts[0]})\n\n'})}),"\n",(0,o.jsx)(n.h2,{id:"deployment",children:"Deployment"}),"\n",(0,o.jsx)(n.p,{children:"To deploy on the Conflux eSpace testnet, run the following command:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"brownie run scripts/token.py --network conflux-espace-test\n"})}),"\n",(0,o.jsx)(n.p,{children:"Brownie will ask for your password. After entering it, the script will execute and the contract will be deployed:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"Brownie v1.14.5 - Python development framework for Ethereum\n\nTokenProject is the active project.\n\nRunning 'scripts/token.py::main'...\nEnter the password to unlock this account: \nTransaction sent: 0x547675979e80eccfe0665d2ab347cefc8ca3644dbdaddb0572b76cc7a62d1b7b\n  Gas price: 20.0 gwei   Gas limit: 1302100   Nonce: 0\n  Token.constructor confirmed - Block: 148584450   Gas used: 1043993 (80.18%)\n  Token deployed at: 0x634757eFE5DD3D27ecf38480c6F2Eac6752E90DB\n"})}),"\n",(0,o.jsx)(n.h2,{id:"\u63a5\u4e0b\u6765\u662f",children:"\u63a5\u4e0b\u6765\u662f\uff1f"}),"\n",(0,o.jsx)(n.p,{children:"Now that you've deployed your ERC-20 token on Conflux eSpace using Brownie, you can start building upon this foundation:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Explore the Template"}),": Familiarize yourself with the template project you've just deployed. Investigate the functions and structure of the ERC-20 token smart contract. Understanding this template is crucial for further development."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Customization"}),": Begin customizing the token contract. You might want to add unique features or modify the existing functionalities to suit your specific needs. This could include adjusting the token supply, implementing burning mechanisms, or adding voting capabilities."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Develop Additional Scripts"}),": Consider developing additional Brownie scripts to automate tasks like distributing tokens, managing airdrops, or handling token allowances. These scripts can enhance your project's efficiency and functionality."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Basic Front-End Development"}),": If you're inclined, start working on a simple front-end interface. This can be a basic web application that allows users to interact with your token for tasks such as transferring tokens or checking their balance."]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"By following these steps, you'll be well on your way to further developing your project on Conflux eSpace."}),"\n",(0,o.jsxs)(n.p,{children:["For more examples of using Brownie, explore ",(0,o.jsx)(n.a,{href:"https://eth-brownie.readthedocs.io/en/stable/index.html",children:"Brownie's documentation"}),". You are also welcome to ask questions in our community or raise issues on our ",(0,o.jsx)(n.a,{href:"https://github.com/Conflux-Chain/conflux-documentation/issues/new/choose",children:"GitHub repository"}),"."]})]})}function h(e={}){const{wrapper:n}={...(0,r.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},11151:(e,n,t)=>{t.d(n,{Z:()=>c,a:()=>s});var o=t(67294);const r={},i=o.createContext(r);function s(e){const n=o.useContext(i);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),o.createElement(i.Provider,{value:n},e.children)}}}]);