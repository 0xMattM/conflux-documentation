"use strict";(self.webpackChunkconflux_docs=self.webpackChunkconflux_docs||[]).push([[7208],{95873:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>c,contentTitle:()=>i,default:()=>h,frontMatter:()=>t,metadata:()=>a,toc:()=>l});var o=n(85893),r=n(11151);const t={sidebar_position:3,title:"\u8d5e\u52a9\u673a\u5236",displayed_sidebar:"coreSidebar"},i=void 0,a={id:"core/core-space-basics/sponsor-mechanism",title:"\u8d5e\u52a9\u673a\u5236",description:"Conflux Core \u7a7a\u95f4\u5b9e\u73b0\u4e86\u8d5e\u52a9\u673a\u5236\uff0c\u6765\u8865\u8d34\u667a\u80fd\u5408\u7ea6\u7684\u4f7f\u7528\u3002 \u8fd9\u5141\u8bb8\u4f59\u989d\u4e3a\u96f6\u7684\u65b0\u8d26\u6237\u8c03\u7528\u667a\u80fd\u5408\u7ea6\uff0c\u524d\u63d0\u662f\u6267\u884c\u64cd\u4f5c\u5f97\u5230\u8d5e\u52a9\uff08\u901a\u5e38\u7531Dapp\u8fd0\u8425\u8005\u63d0\u4f9b\uff09\u3002 \u8fd9\u4e2a\u673a\u5236\u65e8\u5728\u964d\u4f4e\u65b0\u7528\u6237\u7684\u5165\u95e8\u95e8\u69db\u3002",source:"@site/i18n/zh/docusaurus-plugin-content-docs/current/core/core-space-basics/sponsor-mechanism.md",sourceDirName:"core/core-space-basics",slug:"/core/core-space-basics/sponsor-mechanism",permalink:"/zh-CN/docs/core/core-space-basics/sponsor-mechanism",draft:!1,unlisted:!1,editUrl:"https://crowdin.com/project/conflux/zh-CN",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,title:"\u8d5e\u52a9\u673a\u5236",displayed_sidebar:"coreSidebar"},sidebar:"coreSidebar",previous:{title:"\u5b58\u50a8\u62b5\u62bc",permalink:"/zh-CN/docs/core/core-space-basics/storage"},next:{title:"\u8d26\u6237",permalink:"/zh-CN/docs/core/core-space-basics/accounts"}},c={},l=[{value:"\u7b80\u4ecb",id:"\u7b80\u4ecb",level:2},{value:"\u5982\u4f55\u8d5e\u52a9\u667a\u80fd\u5408\u7ea6",id:"\u5982\u4f55\u8d5e\u52a9\u667a\u80fd\u5408\u7ea6",level:2},{value:"\u71c3\u6c14\u8d39\u8d5e\u52a9",id:"\u71c3\u6c14\u8d39\u8d5e\u52a9",level:3},{value:"\u5173\u4e8e\u5b58\u50a8\u7684\u8d5e\u52a9",id:"\u5173\u4e8e\u5b58\u50a8\u7684\u8d5e\u52a9",level:3},{value:"Whitelist",id:"whitelist",level:3},{value:"\u5e38\u89c1\u95ee\u9898\u89e3\u7b54",id:"\u5e38\u89c1\u95ee\u9898\u89e3\u7b54",level:2},{value:"How to check if a contract is sponsored?",id:"how-to-check-if-a-contract-is-sponsored",level:3},{value:"I sponsored a contract, but the transaction still failed. Why?",id:"i-sponsored-a-contract-but-the-transaction-still-failed-why",level:3},{value:"Why the sponsor balance is small than what I sponsored?",id:"why-the-sponsor-balance-is-small-than-what-i-sponsored",level:3}];function d(e){const s={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(s.p,{children:"Conflux Core \u7a7a\u95f4\u5b9e\u73b0\u4e86\u8d5e\u52a9\u673a\u5236\uff0c\u6765\u8865\u8d34\u667a\u80fd\u5408\u7ea6\u7684\u4f7f\u7528\u3002 \u8fd9\u5141\u8bb8\u4f59\u989d\u4e3a\u96f6\u7684\u65b0\u8d26\u6237\u8c03\u7528\u667a\u80fd\u5408\u7ea6\uff0c\u524d\u63d0\u662f\u6267\u884c\u64cd\u4f5c\u5f97\u5230\u8d5e\u52a9\uff08\u901a\u5e38\u7531Dapp\u8fd0\u8425\u8005\u63d0\u4f9b\uff09\u3002 \u8fd9\u4e2a\u673a\u5236\u65e8\u5728\u964d\u4f4e\u65b0\u7528\u6237\u7684\u5165\u95e8\u95e8\u69db\u3002\n\u4e3a\u533a\u5757\u94fe\u7684\u5927\u89c4\u6a21\u5e94\u7528\u94fa\u5e73\u9053\u8def\u3002"}),"\n",(0,o.jsx)(s.h2,{id:"\u7b80\u4ecb",children:"\u7b80\u4ecb"}),"\n",(0,o.jsx)(s.p,{children:"\u5728\u533a\u5757\u94fe\u4e16\u754c\u4e2d\uff0c\u53d1\u9001\u4ea4\u6613\u65f6\u652f\u4ed8\u4ea4\u6613\u8d39\u662f\u975e\u5e38\u5e38\u89c1\u7684\u3002 \u4ee5\u592a\u574a\u6709\u71c3\u6c14\u8d39\uff0c\u800cConflux Core Space\u4e0d\u4ec5\u6709\u71c3\u6c14\u8d39\uff0c\u8fd8\u6709\u5b58\u50a8\u62b5\u62bc\u8d39\u3002 \u901a\u5e38\uff0c\u8fd9\u4e9b\u8d39\u7528\u7531\u4ea4\u6613\u7684\u53d1\u9001\u65b9\u652f\u4ed8\u3002 \u7136\u800c\uff0c\u5f88\u591a\u521a\u8fdb\u5165\u533a\u5757\u94fe\u4e16\u754c\u7684\u65b0\u7528\u6237\u53ef\u80fd\u4e0d\u7406\u89e3\u8fd9\u4e9b\u6982\u5ff5\uff0c\u6ca1\u6709\u4ee3\u5e01\u6765\u652f\u4ed8\u8fd9\u4e9b\u8d39\u7528\uff0c\u4ece\u800c\u6784\u6210\u8fdb\u5165\u533a\u5757\u94fe\u4e16\u754c\u7684\u969c\u788d\u3002 \u4e3a\u4e86\u89e3\u51b3\u8fd9\u79cd\u969c\u788d\uff0cConflux Core Space\u5f15\u5165\u4e86\u8d5e\u52a9\u673a\u5236\u3002"}),"\n",(0,o.jsxs)(s.p,{children:["\u8d5e\u52a9\u673a\u5236\u5141\u8bb8\u5408\u7ea6\u5f97\u5230\u8d5e\u52a9\u3002 \u4e00\u65e6\u8fdb\u884c\u8d5e\u52a9\uff0c\u8c03\u7528\u5408\u7ea6\u65f6\u4ea7\u751f\u7684\u4ea4\u6613\u8d39\u7528\u5c06\u7531\u8d5e\u52a9\u65b9\u652f\u4ed8\uff0c\u8fd9\u610f\u5473\u7740\u7528\u6237\u65e0\u9700\u62c5\u5fc3\u6216\u652f\u4ed8\u8fd9\u4e9b\u8d39\u7528\u3002 \u8d5e\u52a9\u65b9\u53ef\u4ee5\u662f\u5408\u7ea6\u7684\u6240\u6709\u8005\u6216\u5176\u4ed6\u4efb\u4f55\u4eba\u3002 \u60f3\u8c61\u4e00\u4e0b\uff0c\u4e00\u4e2a\u90e8\u7f72\u5728 Core Space \u4e0a\u7684 ",(0,o.jsx)(s.code,{children:"USDT"})," \u4ee3\u5e01\uff0c\u4efb\u4f55\u4eba\u90fd\u53ef\u4ee5\u5728\u65e0\u9700\u652f\u4ed8\u4efb\u4f55\u8d39\u7528\u60c5\u51b5\u4e0b\u8fdb\u884c\u8f6c\u8d26 \u2014\u2014 \u8fd9\u5bf9\u4e8e\u65b0\u7528\u6237\u6765\u8bf4\u975e\u5e38\u53cb\u597d\u3002"]}),"\n",(0,o.jsx)(s.p,{children:"\u4ea4\u6613\u7684 gas \u8d39\u548c\u5b58\u50a8\u62b5\u62bc\u90fd\u53ef\u4ee5\u88ab\u8d5e\u52a9\uff0c\u5e76\u4e14\u5b83\u4eec\u53ef\u4ee5\u7531\u4e24\u4e2a\u4e0d\u540c\u7684\u8d5e\u52a9\u65b9\u8d5e\u52a9\u3002 \u4f8b\u5982\uff0c\u5408\u7ea6\u7684\u71c3\u6c14\u8d39\u53ef\u4ee5\u7531\u8d5e\u52a9\u65b9A\u8d5e\u52a9\uff0c\u800c\u5b58\u50a8\u62b5\u62bc\u7531\u8d5e\u52a9\u65b9B\u8d5e\u52a9\u3002"}),"\n",(0,o.jsx)(s.p,{children:"\u8bf7\u6ce8\u610f\uff0c\u53ea\u6709\u5408\u7ea6\u53ef\u4ee5\u88ab\u8d5e\u52a9\uff1b\u8d5e\u52a9\u673a\u5236\u4e0d\u9002\u7528\u4e8e\u666e\u901a\u8d26\u6237\u3002 \u8fd9\u610f\u5473\u7740\u5bf9\u4e8e\u6807\u51c6\u7684CFX\u8f6c\u8d26\u4ea4\u6613\uff0c\u71c3\u6c14\u8d39\u9700\u8981\u7531\u53d1\u9001\u65b9\u652f\u4ed8\u3002"}),"\n",(0,o.jsx)(s.h2,{id:"\u5982\u4f55\u8d5e\u52a9\u667a\u80fd\u5408\u7ea6",children:"\u5982\u4f55\u8d5e\u52a9\u667a\u80fd\u5408\u7ea6"}),"\n",(0,o.jsxs)(s.p,{children:["\u8981\u8d5e\u52a9\u5408\u7ea6\uff0c\u8d5e\u52a9\u65b9\u9700\u8981\u8c03\u7528 ",(0,o.jsx)(s.a,{href:"./internal-contracts/sponsor-whitelist-control",children:"SponsorWhitelistControll"})," \u5185\u7f6e\u5408\u7ea6\u3002 \u5b83\u8fd8\u4f1a\u8bb0\u5f55\u667a\u80fd\u5408\u7ea6\u7684\u8d5e\u52a9\u4fe1\u606f\u3002"]}),"\n",(0,o.jsx)(s.h3,{id:"\u71c3\u6c14\u8d39\u8d5e\u52a9",children:"\u71c3\u6c14\u8d39\u8d5e\u52a9"}),"\n",(0,o.jsxs)(s.p,{children:["\u8981\u8d5e\u52a9\u5408\u7ea6\u7684\u71c3\u6c14\u8d39\u7528\uff0c\u60a8\u53ef\u4ee5\u8c03\u7528 ",(0,o.jsx)(s.code,{children:"SponsorWhitelistControl"})," \u7684 ",(0,o.jsx)(s.code,{children:"setSponsorForGas"})," \u65b9\u6cd5\u3002 \u6b64\u65b9\u6cd5\u6709\u4e24\u4e2a\u53c2\u6570\uff1a"]}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.code,{children:"contractAddr"}),"\uff1a\u8981\u8d5e\u52a9\u7684\u5408\u7ea6\u5730\u5740\u3002"]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.code,{children:"upperBound"}),": \u6bcf\u7b14\u4ea4\u6613\u4e2d\u7684 gas \u8d5e\u52a9\u4e0a\u9650\u503c, \u4ee5 Drip \u4e3a\u5355\u4f4d, 1 CFX = 10^18 Drip\u3002 \u5982\u679c\u4e0e\u540c\u4e00\u667a\u80fd\u5408\u7ea6\u4ea4\u4e92\u7684\u4ea4\u6613\u4ea7\u751f\u7684 gas \u8d39\u7528 (\u6309 gasPrice * gasLimit \u8ba1\u7b97)\u8d85\u8fc7\u4e86\u8fd9\u4e00\u9650\u989d\uff0c\u5219\u4e0d\u80fd\u83b7\u5f97\u8d5e\u52a9\u3002"]}),"\n"]}),"\n",(0,o.jsxs)(s.p,{children:["\u76ee\u524d\uff0c Conflux Core \u7f51\u7edc\u4e2d\u7684\u6700\u5c0f\u7684 gas \u8d39\u7528\u662f 1 Gdrip\uff0c\u4e5f\u5c31\u662f10^9 Drip\u3002 \u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u4e00\u7b14\u4ea4\u6613\u7684 gas \u5f00\u9500\u4ece\u6570\u4e07\u5230\u6570\u5341\u4e07\u4e0d\u7b49\u3002 \u56e0\u6b64\uff0c",(0,o.jsx)(s.code,{children:"upperBound"})," \u901a\u5e38\u88ab\u8bbe\u5b9a\u4e3a 500\u4e07 GDrip \u5de6\u53f3\u3002 \u7279\u6b8a\u60c5\u51b5\u4e0b\uff0c\u8fd9\u4e2a\u6570\u503c\u53ef\u4ee5\u6839\u636e\u5177\u4f53\u9700\u6c42\u52a0\u4ee5\u8c03\u6574\u3002"]}),"\n",(0,o.jsxs)(s.p,{children:["Additionally, the total amount of gas to be sponsored needs to be set through the ",(0,o.jsx)(s.code,{children:"value"})," field of the transaction. \u8fd9\u610f\u5473\u7740\u5728\u8c03\u7528\u6b64\u65b9\u6cd5\u65f6\uff0c\u5fc5\u987b\u540c\u65f6\u8fdb\u884c CFX \u8f6c\u8d26\u3002 \u6b64\u5916\uff0c\u6bcf\u7b14\u8d5e\u52a9\u91d1\u989d\u5e94\u8db3\u4ee5\u652f\u4ed8\u81f3\u5c11 ",(0,o.jsx)(s.code,{children:"1000\u7b14\u4ea4\u6613"}),"\uff081000 * upperBound\uff09\u7684gas\u8d39\u7528\u3002 For instance, if the upperBound is set to 1 million GDrip, then each sponsorship amount should be at least 1000 * 1 million GDrip."]}),"\n",(0,o.jsxs)(s.p,{children:["For example, to sponsor Contract A with a gas limit of 1 million GDrip and a total sponsorship amount of 100 CFX, you would initiate a transaction calling ",(0,o.jsx)(s.code,{children:"setSponsorForGas(A, 10^15)"}),", with the transaction's value field set to 100 CFX."]}),"\n",(0,o.jsx)(s.p,{children:"\u8fd9\u4e2a\u5185\u7f6e\u5408\u7ea6\u8fd8\u63d0\u4f9b\u4e86\u51e0\u79cd\u65b9\u6cd5\u6765\u67e5\u8be2\u5408\u7ea6\u7684\u8d5e\u52a9\u4fe1\u606f\uff1a"}),"\n",(0,o.jsxs)(s.ol,{children:["\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.code,{children:"getSponsoredGasFeeUpperBound"}),": To query the upper limit of gas fee sponsorship for a contract."]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.code,{children:"getSponsoredBalanceForGas"}),"\uff1a\u67e5\u8be2\u5408\u7ea6\u88ab\u8d5e\u52a9\u7684 gas \u8d39\u5269\u4f59\u4f59\u989d\u3002"]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.code,{children:"getSponsorForGas"}),"\uff1a\u67e5\u8be2\u5408\u7ea6 gas \u8d39\u7684\u8d5e\u52a9\u8005\u3002"]}),"\n"]}),"\n",(0,o.jsxs)(s.p,{children:["\u5982\u679c\u5728\u8c03\u7528 ",(0,o.jsx)(s.code,{children:"setSponsorForGas"})," \u65f6\u5408\u7ea6\u5df2\u7ecf\u6709\u4e86\u8d5e\u52a9\u8005\uff0c\u5e76\u4e14\u65b0\u7684\u8d5e\u52a9\u8005\u4e0e\u5f53\u524d\u8d5e\u52a9\u8005\u76f8\u540c\uff0c\u5408\u7ea6\u7684\u8d5e\u52a9\u4f59\u989d\u5c06\u4f1a\u589e\u52a0\u3002 \u5982\u679c\u65b0\u7684\u8d5e\u52a9\u8005\u53d1\u751f\u53d8\u52a8\uff0c\u5408\u7ea6\u7684\u8d5e\u52a9\u4f59\u989d\u5c06\u88ab\u88ab\u66ff\u6362\u3002 \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u8d5e\u52a9\u91d1\u989d\u9700\u8981\u5927\u4e8e ",(0,o.jsx)(s.code,{children:" currentSponsorBalance + 1000 * upperBound"}),"\u3002 \u524d\u4e00\u4e2a\u8d5e\u52a9\u8005\u7684\u8d5e\u52a9\u4f59\u989d\u5c06\u88ab\u9000\u8fd8\uff0c\u5269\u4f59\u91d1\u989d\u5c06\u66f4\u6362\u4e3a\u8d5e\u52a9\u8005\u540e\u7684\u8d5e\u52a9\u4f59\u989d\u3002"]}),"\n",(0,o.jsx)(s.h3,{id:"\u5173\u4e8e\u5b58\u50a8\u7684\u8d5e\u52a9",children:"\u5173\u4e8e\u5b58\u50a8\u7684\u8d5e\u52a9"}),"\n",(0,o.jsxs)(s.p,{children:["\u8981\u8d5e\u52a9\u5408\u7ea6\u7684\u5b58\u50a8\u62b5\u62bc\uff0c\u53ef\u4ee5\u8c03\u7528 ",(0,o.jsx)(s.code,{children:"SponsorWhitelistControl"})," \u91cc\u9762\u7684 ",(0,o.jsx)(s.code,{children:"setSponsorForCollateral"})," \u65b9\u6cd5\u3002 \u8fd9\u4e2a\u65b9\u6cd5\u53ea\u9700\u8981\u4e00\u4e2a\u53c2\u6570\uff1a"]}),"\n",(0,o.jsxs)(s.ul,{children:["\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.code,{children:"contractAddr"}),"\uff1a\u60f3\u8981\u8d5e\u52a9\u7684\u5408\u7ea6\u5730\u5740\u3002"]}),"\n"]}),"\n",(0,o.jsxs)(s.p,{children:["\u8d5e\u52a9\u7684",(0,o.jsx)(s.strong,{children:"\u603b\u91d1\u989d"}),"\u4e5f\u53ef\u4ee5\u901a\u8fc7\u4ea4\u6613\u7684 value \u6765\u6307\u5b9a\u3002 \u6839\u636e CIP-107\uff0c\u8d5e\u52a9\u91d1\u989d\u8bbe\u5b9a\u540e\uff0c\u5176\u4e2d\u7684\u4e00\u90e8\u5206(\u5f53\u524d\u4e3a 50% )\u5c06\u8f6c\u6362\u4e3a\u5b58\u50a8\u70b9\u3002 \u5b58\u50a8\u70b9\u548c\u5b58\u50a8\u8d5e\u52a9\u4f59\u989d\u90fd\u53ef\u4ee5\u7528\u6765\u652f\u4ed8\u5408\u7ea6\u5b58\u50a8\u62b5\u62bc\u7269\u7684\u8d39\u7528\uff0c\u5b58\u50a8\u8d5e\u52a9\u4f59\u989d\u4f1a\u88ab\u4f18\u5148\u4f7f\u7528\u3002"]}),"\n",(0,o.jsx)(s.p,{children:"\u8fd9\u4e2a\u5185\u7f6e\u5408\u7ea6\u8fd8\u63d0\u4f9b\u4e86\u51e0\u79cd\u65b9\u6cd5\u6765\u67e5\u8be2\u5408\u7ea6\u7684\u8d5e\u52a9\u4fe1\u606f\uff1a"}),"\n",(0,o.jsxs)(s.ol,{children:["\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.code,{children:"getSponsoredBalanceForCollateral"}),"\uff1a\u67e5\u8be2\u5408\u7ea6\u5b58\u50a8\u62b5\u62bc\u8d5e\u52a9\u7684\u5269\u4f59\u4f59\u989d\u3002"]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.code,{children:"getSponsorForCollateral"}),"\uff1a\u67e5\u8be2\u5408\u7ea6\u5b58\u50a8\u7684\u8d5e\u52a9\u8005\u3002"]}),"\n",(0,o.jsxs)(s.li,{children:[(0,o.jsx)(s.code,{children:"getAvailableStoragePoints"}),"\uff1a\u67e5\u8be2\u5408\u7ea6\u7684\u5b58\u50a8\u70b9\u7684\u5269\u4f59\u4f59\u989d\u3002"]}),"\n"]}),"\n",(0,o.jsxs)(s.p,{children:["\u7c7b\u4f3c\u7684\uff0c\u5982\u679c\u5728\u8c03\u7528 ",(0,o.jsx)(s.code,{children:"setSponsorForCollateral"})," \u65f6\u5408\u7ea6\u5df2\u7ecf\u6709\u4e86\u8d5e\u52a9\u8005\uff0c\u4e14\u65b0\u8d5e\u52a9\u8005\u4e0e\u5f53\u524d\u8d5e\u52a9\u8005\u76f8\u540c\uff0c\u5219\u5408\u7ea6\u7684\u8d5e\u52a9\u4f59\u989d\u5c06\u589e\u52a0\u3002 \u5982\u679c\u65b0\u7684\u8d5e\u52a9\u8005\u53d1\u751f\u53d8\u52a8\uff0c\u5408\u7ea6\u7684\u8d5e\u52a9\u4f59\u989d\u5c06\u88ab\u66ff\u6362\u3002 In this case, the amount of sponsorship needs to be greater than ",(0,o.jsx)(s.code,{children:"currentSponsorBalance"})," + ",(0,o.jsx)(s.code,{children:"currentCollateral"}),". The balance and collateral of the previous sponsor will be refunded, and the remaining amount will serve as the sponsorship balance after the change of sponsor (a portion of which will be converted into storage points)."]}),"\n",(0,o.jsx)(s.h3,{id:"whitelist",children:"Whitelist"}),"\n",(0,o.jsxs)(s.p,{children:[(0,o.jsx)(s.code,{children:"SponsorWhitelistControl"})," also maintains a whitelist for each sponsored contract. Only addresses on this whitelist can enjoy the benefits of the sponsorship when interacting with the contract; otherwise, the transaction fees must be paid by the sender. This whitelist can be modified using the ",(0,o.jsx)(s.code,{children:"addPrivilegeByAdmin"})," and ",(0,o.jsx)(s.code,{children:"removePrivilegeByAdmin"})," methods of ",(0,o.jsx)(s.code,{children:"SponsorWhitelistControl"}),"."]}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-js",children:"function addPrivilegeByAdmin(address contractAddr, address[] memory addresses) public;\nfunction removePrivilegeByAdmin(address contractAddr, address[] memory addresses) public;\n"})}),"\n",(0,o.jsxs)(s.p,{children:["These two methods can only be called by the administrator of the contract, who by default is the creator of the contract. For more details, you can refer to the ",(0,o.jsxs)(s.a,{href:"/zh-CN/docs/core/core-space-basics/internal-contracts/admin",children:[(0,o.jsx)(s.code,{children:"AdminControl"})," built-in contract"]}),"."]}),"\n",(0,o.jsxs)(s.p,{children:["The zero address ",(0,o.jsx)(s.strong,{children:"0x0000000000000000000000000000000000000000"})," is a special address. When added to the whitelist, it allows all addresses to enjoy the sponsorship benefits."]}),"\n",(0,o.jsx)(s.p,{children:"The current status of the whitelist can be queried using the following methods:"}),"\n",(0,o.jsx)(s.pre,{children:(0,o.jsx)(s.code,{className:"language-js",children:"// return true if the user is whitelisted for the contract\nfunction isWhitelisted(address contractAddr, address user) public view returns (bool)\n// return true if all users are whitelisted for the contract\nfunction isAllWhitelisted(address contractAddr) public view returns (bool)\n"})}),"\n",(0,o.jsx)(s.h2,{id:"\u5e38\u89c1\u95ee\u9898\u89e3\u7b54",children:"\u5e38\u89c1\u95ee\u9898\u89e3\u7b54"}),"\n",(0,o.jsx)(s.h3,{id:"how-to-check-if-a-contract-is-sponsored",children:"How to check if a contract is sponsored?"}),"\n",(0,o.jsxs)(s.p,{children:["You can call ",(0,o.jsx)(s.code,{children:"SponsorWhitelistControl"}),"'s query methods to check the sponsorship information of a contract. For example, ",(0,o.jsx)(s.code,{children:"getSponsorForGas"})," to check the gas sponsor."]}),"\n",(0,o.jsxs)(s.p,{children:["You can use ConfluxScan's ",(0,o.jsx)(s.a,{href:"https://confluxscan.io/address/cfx:aaejuaaaaaaaaaaaaaaaaaaaaaaaaaaaaegg2r16ar?tab=contract-viewer",children:"Read and Write Contract page"})," to call the query methods."]}),"\n",(0,o.jsx)(s.h3,{id:"i-sponsored-a-contract-but-the-transaction-still-failed-why",children:"I sponsored a contract, but the transaction still failed. Why?"}),"\n",(0,o.jsx)(s.p,{children:"There are several reasons that may cause the transaction to fail:"}),"\n",(0,o.jsxs)(s.ol,{children:["\n",(0,o.jsx)(s.li,{children:"Upperbound is too small."}),"\n",(0,o.jsx)(s.li,{children:"The sponsor balance is not enough."}),"\n",(0,o.jsx)(s.li,{children:"The whitelist is not set correctly."}),"\n"]}),"\n",(0,o.jsx)(s.h3,{id:"why-the-sponsor-balance-is-small-than-what-i-sponsored",children:"Why the sponsor balance is small than what I sponsored?"}),"\n",(0,o.jsx)(s.p,{children:"If sponsor replacement happens, the previous sponsor balance will be returned to the sponsor. The remaining balance will be used as the new sponsor balance."}),"\n",(0,o.jsx)(s.p,{children:"And for the storage sponsorship, part of the sponsor balance will be converted to storage points."})]})}function h(e={}){const{wrapper:s}={...(0,r.a)(),...e.components};return s?(0,o.jsx)(s,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},11151:(e,s,n)=>{n.d(s,{Z:()=>a,a:()=>i});var o=n(67294);const r={},t=o.createContext(r);function i(e){const s=o.useContext(t);return o.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),o.createElement(t.Provider,{value:s},e.children)}}}]);