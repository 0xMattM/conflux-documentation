"use strict";(self.webpackChunkconflux_docs=self.webpackChunkconflux_docs||[]).push([[7346],{47412:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>a,frontMatter:()=>i,metadata:()=>d,toc:()=>o});var r=s(85893),t=s(11151);const i={},l="v2.3",d={id:"general/hardforks/v2.3",title:"v2.3",description:"- - -",source:"@site/i18n/zh/docusaurus-plugin-content-docs/current/general/hardforks/v2.3.md",sourceDirName:"general/hardforks",slug:"/general/hardforks/v2.3",permalink:"/zh-CN/docs/general/hardforks/v2.3",draft:!1,unlisted:!1,editUrl:"https://crowdin.com/project/conflux/zh-CN",tags:[],version:"current",frontMatter:{},sidebar:"generalSidebar",previous:{title:"v2.1",permalink:"/zh-CN/docs/general/hardforks/v2.1"},next:{title:"\u5f00\u53d1",permalink:"/zh-CN/docs/general/build/"}},c={},o=[{value:"\u7b80\u4ecb",id:"\u7b80\u4ecb",level:2},{value:"Incompatible Changes",id:"incompatible-changes",level:3},{value:"CIP-107",id:"cip-107",level:4},{value:"\u76f8\u5e94\u7684\u53d8\u66f4",id:"\u76f8\u5e94\u7684\u53d8\u66f4",level:5},{value:"CIP-112",id:"cip-112",level:4},{value:"CIP-113",id:"cip-113",level:4},{value:"\u76f8\u5e94\u7684\u53d8\u66f4",id:"\u76f8\u5e94\u7684\u53d8\u66f4-1",level:5},{value:"CIP-118",id:"cip-118",level:4},{value:"CIP-119",id:"cip-119",level:4},{value:"Releases",id:"releases",level:2},{value:"\u6d4b\u8bd5\u7f51",id:"\u6d4b\u8bd5\u7f51",level:3},{value:"\u4e3b\u7f51",id:"\u4e3b\u7f51",level:3}];function h(e){const n={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",hr:"hr",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.p,{children:"displayed_sidebar: generalSidebar"}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsx)(n.h1,{id:"v23",children:"v2.3"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u5173\u952e\u4fe1\u606f"}),(0,r.jsx)(n.th,{children:"\u8be6\u7ec6\u4fe1\u606f"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u7248\u672c"}),(0,r.jsx)(n.td,{children:"Conflux v2.3.0"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"\u662f\u5426\u5f15\u5165\u786c\u5206\u53c9"}),(0,r.jsx)(n.td,{children:"\u662f"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Incompatible Changes"}),(0,r.jsx)(n.td,{children:"\u662f\uff08CIP-107, CIP-112, CIP-113, CIP-118, CIP-119\uff09"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"\u7b80\u4ecb",children:"\u7b80\u4ecb"}),"\n",(0,r.jsx)(n.p,{children:"Conflux v2.3.0 introduces a new hardfork, which update includes incompatible changes and several RPC improvements."}),"\n",(0,r.jsx)(n.h3,{id:"incompatible-changes",children:"Incompatible Changes"}),"\n",(0,r.jsx)(n.h4,{id:"cip-107",children:"CIP-107"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://github.com/Conflux-Chain/CIPs/blob/master/CIPs/cip-107.md",children:"CIP-107"}),' \u662f\u786c\u5206\u53c9\u7684\u4e3b\u8981\u53d8\u66f4\uff0c\u5f15\u5165\u4e86\u201c\u5b58\u50a8\u70b9\u201d\u6982\u5ff5\uff0c\u5373\u5b58\u50a8\u62b5\u62bc\u7684\u71c3\u70e7\u673a\u5236\u3002 \u5f53\u8d5e\u52a9\u5546\u4e3a\u5408\u7ea6\u6dfb\u52a0\u5b58\u50a8\u62b5\u62bc\u65f6\uff0c\u4e00\u90e8\u5206 CFX \u4ee3\u5e01\u5c06\u88ab\u71c3\u70e7\uff0c\u76f8\u5e94\u6570\u91cf\u7684\u201c\u5b58\u50a8\u70b9\u201d\u5c06\u88ab\u94f8\u9020\u3002 "\u5b58\u50a8\u70b9"\u4e0d\u80fd\u8fdb\u884c\u8f6c\u79fb\uff0c\u4e0d\u4ea7\u751f\u5b58\u50a8\u5229\u606f\uff0c\u4f46\u53ef\u4ee5\u50cf CFX \u4ee3\u5e01\u4e00\u6837\u652f\u4ed8\u5b58\u50a8\u62b5\u62bc\u3002 \u8fd9\u662f\u4e3a\u4e86\u5f15\u5165\u4e00\u4e9b\u71c3\u70e7\u573a\u666f\u548c\u673a\u5236\uff0c\u4ee5\u51cf\u7f13 CFX \u4ee3\u5e01\u7684\u6301\u7eed\u901a\u8d27\u81a8\u80c0\uff0c\u4ece\u800c\u6539\u5584 Conflux \u7684\u4ee3\u5e01\u7ecf\u6d4e\u5b66\u3002']}),"\n",(0,r.jsx)(n.h5,{id:"\u76f8\u5e94\u7684\u53d8\u66f4",children:"\u76f8\u5e94\u7684\u53d8\u66f4"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["RPC \u53d8\u66f4\uff1a","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Add a new RPC ",(0,r.jsx)(n.code,{children:"cfx_getCollateralInfo"})," to return chain collateral info."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"cfx_getSponsorInfo"})," returns 2 extra fields: ",(0,r.jsx)(n.code,{children:"usedStoragePoints"})," and ",(0,r.jsx)(n.code,{children:"availableStoragePoints"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Internal contract ",(0,r.jsx)(n.code,{children:"SponsorWhitelistControl"})," changes","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["new interfaces: ",(0,r.jsx)(n.code,{children:"getAvailbaleStoragePoints"}),"(introduced by CIP-118)"]}),"\n",(0,r.jsxs)(n.li,{children:["Collateral sponsor replacement threshold is changed","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["previous: ",(0,r.jsx)(n.code,{children:"tx.value > sponsor_balance_for_collateral + collateral_for_storage"})]}),"\n",(0,r.jsxs)(n.li,{children:["current: ",(0,r.jsx)(n.code,{children:"tx.value > sponsor_balance_for_collateral + (collateral_for_storage - used_storage_points / 1024)"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["Burn for collateral sponsored before CIP-107:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.em,{children:"p"}),"(defined by CIP-107, started at 0.5) proportion of ",(0,r.jsx)(n.code,{children:"sponsor_balance_for_collateral + collateral_for_storage"})," will be burnt and converted to storage points. The conversion will be carried out lazily."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["DAO vote changes","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["new vote option to change ",(0,r.jsx)(n.code,{children:"STORAGE_POINT_PORP"})," that defines burn ratio ",(0,r.jsx)(n.em,{children:"p"})," (",(0,r.jsx)(n.code,{children:"STORAGE_POINT_PORP / (STORAGE_POINT_PORP + 1)"}),")"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Refer the original CIP-107 document for more details."}),"\n",(0,r.jsx)(n.h4,{id:"cip-112",children:"CIP-112"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://github.com/Conflux-Chain/CIPs/blob/master/CIPs/cip-112.md",children:"CIP-112"})," fixes the incorrect encoding and decoding implementation of the custom field of block headers. Currently, in the block header RLP encoding, each element in the custom list is appended to the RLP list as raw bytes, where its RLP-encoded data should be appended instead. This change is protocol breaking as it changes the block header encoding and decoding in P2P transmission."]}),"\n",(0,r.jsx)(n.h4,{id:"cip-113",children:"CIP-113"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://github.com/Conflux-Chain/CIPs/blob/master/CIPs/cip-113.md",children:"CIP-113"})," makes the PoS finalization faster by shortening the PoS consensus round time and the pivot decision signing wait time. The PoS round time is reduced from 60 seconds to 30 seconds. The defer time for validators to wait to sign a PoS-confirmed pivot block is reduced from 50 epochs to 20 epochs."]}),"\n",(0,r.jsx)(n.h5,{id:"\u76f8\u5e94\u7684\u53d8\u66f4-1",children:"\u76f8\u5e94\u7684\u53d8\u66f4"}),"\n",(0,r.jsx)(n.p,{children:"It is estimated that this CIP will shorten the finalization interval from the previous 6-8 minutes to 4-5 minutes, a reduction of 120 to 180 seconds. This optimization will benefit products that utilize the PoS finalization."}),"\n",(0,r.jsx)(n.h4,{id:"cip-118",children:"CIP-118"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://github.com/Conflux-Chain/CIPs/blob/master/CIPs/cip-118.md",children:"CIP-118"})," introduced ",(0,r.jsx)(n.code,{children:"getAvailableStoragePoints"})," interface for ",(0,r.jsx)(n.code,{children:"SponsorWhitelistControl"}),". Refer ",(0,r.jsx)(n.a,{href:"#cip-107",children:"CIP-107"})," for more information."]}),"\n",(0,r.jsx)(n.h4,{id:"cip-119",children:"CIP-119"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://github.com/Conflux-Chain/CIPs/blob/master/CIPs/cip-119.md",children:"CIP-119"})," introduce the PUSH0 (0x5f) instruction as ",(0,r.jsx)(n.a,{href:"https://eips.ethereum.org/EIPS/eip-3855",children:"EIP-3855"}),". Supporting this opcode can achieve maximum compatibility with Ethereum."]}),"\n",(0,r.jsx)(n.h2,{id:"releases",children:"Releases"}),"\n",(0,r.jsx)(n.h3,{id:"\u6d4b\u8bd5\u7f51",children:"\u6d4b\u8bd5\u7f51"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u5173\u952e\u4fe1\u606f"}),(0,r.jsx)(n.th,{children:"\u8be6\u7ec6\u4fe1\u606f"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Release"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://github.com/Conflux-Chain/conflux-rust/releases/tag/v2.3.0-testnet",children:"Conflux v2.3.0-testnet Pre-release"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Anouncement"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://forum.conflux.fun/t/conflux-v2-3-0-testnet-testnet-hardfork-upgrade-announcement/18949",children:"Conflux v2.3.0-testnet Testnet Hardfork Upgrade Announcement"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Deadlines"}),(0,r.jsx)(n.td,{children:(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{children:[(0,r.jsx)(n.strong,{children:"Node Upgrade:"})," Before epoch number reaches 129100000 (estimated on Jul 04)"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)(n.strong,{children:"CIPs Activation:"})," When block number reaches 167000000 (estimated on Jul 04)"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)(n.strong,{children:"CIP-113 Activation:"})," When PoS block number reaches 741900 (estimated on Jul 04)"]})]})})]})]})]}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u5173\u952e\u4fe1\u606f"}),(0,r.jsx)(n.th,{children:"\u8be6\u7ec6\u4fe1\u606f"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Release"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://github.com/Conflux-Chain/conflux-rust/releases/tag/v2.3.0-3-testnet",children:"Conflux v2.3.0-3-testnet Pre-release"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Anouncement"}),(0,r.jsx)(n.td,{children:"-"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Deadlines"}),(0,r.jsx)(n.td,{children:(0,r.jsx)("ul",{children:(0,r.jsxs)("li",{children:[(0,r.jsx)(n.strong,{children:"Node Upgrade:"})," before the epoch number reaches 132220000 or the block number reaches 171570000 (estimated on Jul 31)"]})})})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"\u4e3b\u7f51",children:"\u4e3b\u7f51"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"\u5173\u952e\u4fe1\u606f"}),(0,r.jsx)(n.th,{children:"\u8be6\u7ec6\u4fe1\u606f"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Release"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://github.com/Conflux-Chain/conflux-rust/releases/tag/v2.3.0",children:"Conflux v2.3.0"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Anouncement"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.a,{href:"https://forum.conflux.fun/t/conflux-v2-3-0-hardfork-upgrade-announcement/19111",children:"Conflux v2.3.0 Hardfork Upgrade Announcement"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Deadlines"}),(0,r.jsx)(n.td,{children:(0,r.jsxs)("ul",{children:[(0,r.jsxs)("li",{children:[(0,r.jsx)(n.strong,{children:"Node Upgrade:"})," before the epoch number reaches 79050000 (estimated on Sep 07 2023)"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)(n.strong,{children:"Most CIPs Activation:"}),"  enabled when the block number reaches 188900000 (estimated on Sep 09 2023)"]}),(0,r.jsxs)("li",{children:[(0,r.jsx)(n.strong,{children:"CIP-113 Activation:"})," when the PoS block number reaches 766200 (estimated on Sep 09)"]})]})})]})]})]})]})}function a(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},11151:(e,n,s)=>{s.d(n,{Z:()=>d,a:()=>l});var r=s(67294);const t={},i=r.createContext(t);function l(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:l(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);