"use strict";(self.webpackChunkconflux_docs=self.webpackChunkconflux_docs||[]).push([[6489],{96255:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>r,toc:()=>l});var a=t(85893),s=t(11151);const i={sidebar_position:5,title:"\u4ea4\u6613\u751f\u547d\u5468\u671f",displayed_sidebar:"coreSidebar",keywords:["transaction","lifecycle","stage","confirmation","finalization"]},o=void 0,r={id:"core/core-space-basics/transactions/lifecycle",title:"\u4ea4\u6613\u751f\u547d\u5468\u671f",description:"\u4ea4\u6613\u4ece\u6784\u5efa\u65f6\u5230\u6700\u7ec8\u5728\u94fe\u4e0a\u786e\u8ba4\u4e4b\u524d\u4f1a\u7ecf\u5386\u51e0\u4e2a\u9636\u6bb5\u3002 A good understanding of these stages will help users and developers better identify problems with sending transactions and ultimately ensure that transactions are successfully confirmed or even finalized.",source:"@site/i18n/zh/docusaurus-plugin-content-docs/current/core/core-space-basics/transactions/lifecycle.md",sourceDirName:"core/core-space-basics/transactions",slug:"/core/core-space-basics/transactions/lifecycle",permalink:"/zh-CN/docs/core/core-space-basics/transactions/lifecycle",draft:!1,unlisted:!1,editUrl:"https://crowdin.com/project/conflux/zh-CN",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5,title:"\u4ea4\u6613\u751f\u547d\u5468\u671f",displayed_sidebar:"coreSidebar",keywords:["transaction","lifecycle","stage","confirmation","finalization"]},sidebar:"coreSidebar",previous:{title:"Nonce Management",permalink:"/zh-CN/docs/core/core-space-basics/transactions/nonce"},next:{title:"Transaction Receipt",permalink:"/zh-CN/docs/core/core-space-basics/transactions/receipt"}},c={},l=[{value:"Transaction Stages",id:"transaction-stages",level:2},{value:"1. <strong>Transaction construction</strong>",id:"1-transaction-construction",level:3},{value:"2. <strong>Send To Transaction Pool</strong>",id:"2-send-to-transaction-pool",level:3},{value:"3. <strong>Packed into a Block -&gt; Mined</strong>",id:"3-packed-into-a-block---mined",level:3},{value:"4. <strong>Deferring 5 epochs -&gt; Executed</strong>",id:"4-deferring-5-epochs---executed",level:3},{value:"5. <strong>Waiting for about 50 epochs -&gt; Confirmed</strong>",id:"5-waiting-for-about-50-epochs---confirmed",level:3},{value:"6. <strong>Waiting for PoS chain Finalization -&gt; Finalized</strong>",id:"6-waiting-for-pos-chain-finalization---finalized",level:3},{value:"\u5e38\u89c1\u95ee\u9898\u89e3\u7b54",id:"\u5e38\u89c1\u95ee\u9898\u89e3\u7b54",level:2},{value:"Transaction Sent Successfully, but Unable to Retrieve Transaction via getTransactionByHash?",id:"transaction-sent-successfully-but-unable-to-retrieve-transaction-via-gettransactionbyhash",level:3},{value:"After a Transaction is Executed, Does it Mean the Transaction Status Won&#39;t Change?",id:"after-a-transaction-is-executed-does-it-mean-the-transaction-status-wont-change",level:3},{value:"After a Transaction is Confirmed, Does it Mean the Transaction Status Won&#39;t Change?",id:"after-a-transaction-is-confirmed-does-it-mean-the-transaction-status-wont-change",level:3}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",p:"p",strong:"strong",...(0,s.a)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:"\u4ea4\u6613\u4ece\u6784\u5efa\u65f6\u5230\u6700\u7ec8\u5728\u94fe\u4e0a\u786e\u8ba4\u4e4b\u524d\u4f1a\u7ecf\u5386\u51e0\u4e2a\u9636\u6bb5\u3002 A good understanding of these stages will help users and developers better identify problems with sending transactions and ultimately ensure that transactions are successfully confirmed or even finalized."}),"\n",(0,a.jsx)(n.p,{children:"The following are the main stages of a transaction from construction to finalization."}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.img,{alt:"Transaction",src:t(73709).Z+"",width:"1434",height:"1900"})}),"\n",(0,a.jsx)(n.h2,{id:"transaction-stages",children:"Transaction Stages"}),"\n",(0,a.jsxs)(n.h3,{id:"1-transaction-construction",children:["1. ",(0,a.jsx)(n.strong,{children:"Transaction construction"})]}),"\n",(0,a.jsxs)(n.p,{children:["This is the stage where users or developers create a transaction with all the necessary fields and parameters and get it signed. The transaction object can be created using various tools or libraries, such as ",(0,a.jsx)(n.a,{href:"/zh-CN/docs/core/getting-started/installing-a-wallet",children:"Fluent Wallet"}),", ",(0,a.jsx)(n.a,{href:"/zh-CN/docs/core/build/sdks-and-tools/sdks",children:"Conflux SDK"}),", etc. \u5728\u53d1\u9001\u4ea4\u6613\u4e4b\u524d\uff0c\u4ea4\u6613\u5c06\u88ab\u7f16\u7801\u4e3a\u5341\u516d\u8fdb\u5236\u5b57\u7b26\u4e32\u4f5c\u4e3a\u201crawTransaction\u201d\u3002"]}),"\n",(0,a.jsxs)(n.h3,{id:"2-send-to-transaction-pool",children:["2. ",(0,a.jsx)(n.strong,{children:"Send To Transaction Pool"})]}),"\n",(0,a.jsxs)(n.p,{children:["This is the stage where users or developers ",(0,a.jsx)(n.a,{href:"/zh-CN/docs/core/build/json-rpc/cfx-namespace#cfx_sendrawtransaction",children:"send their signed transaction to a Conflux node via RPC"}),". \u5982\u679c\u4ea4\u6613\u901a\u8fc7\u9a8c\u8bc1\uff0c\u8282\u70b9\u5c06\u9a8c\u8bc1\u4ea4\u6613\u5e76\u5c06\u5176\u5e7f\u64ad\u5230\u7f51\u7edc\u4e2d\u7684\u5176\u4ed6\u8282\u70b9\u3002 \u8282\u70b9\u8fd8\u5c06\u8fd4\u56de\u4e00\u4e2a\u4ea4\u6613\u54c8\u5e0c\uff08\u8fd9\u662f\u4e00\u4e2a\u552f\u4e00\u6807\u8bc6\u7b26\uff09\u7ed9\u53d1\u9001\u8005\u4ee5\u8fdb\u884c\u8ddf\u8e2a\u3002"]}),"\n",(0,a.jsx)(n.p,{children:"The transaction will be put into the transaction pool of the node and wait to be packed into a block by miners."}),"\n",(0,a.jsxs)(n.h3,{id:"3-packed-into-a-block---mined",children:["3. ",(0,a.jsx)(n.strong,{children:"Packed into a Block -> Mined"})]}),"\n",(0,a.jsxs)(n.p,{children:["This is the stage where miners select transactions from their mempool (a pool of pending transactions) and include them in their blocks. Miners will prioritize transactions with higher ",(0,a.jsx)(n.code,{children:"gasPrice"}),". \u4e00\u65e6\u5305\u542b\u4ea4\u6613\u7684\u533a\u5757\u88ab\u6316\u51fa\uff0c\u5b83\u5c06\u88ab\u4f20\u64ad\u5230\u7f51\u7edc\u4e2d\u7684\u5176\u4ed6\u8282\u70b9\u3002"]}),"\n",(0,a.jsx)(n.p,{children:"After a transaction is included in a block, it will be assigned a block number and a transaction index in the block."}),"\n",(0,a.jsx)(n.admonition,{type:"note",children:(0,a.jsxs)(n.p,{children:["A transaction may also be dropped from the transation pool if the pool is full and other transactions with higher ",(0,a.jsx)(n.code,{children:"gasPrice"})," are received."]})}),"\n",(0,a.jsxs)(n.h3,{id:"4-deferring-5-epochs---executed",children:["4. ",(0,a.jsx)(n.strong,{children:"Deferring 5 epochs -> Executed"})]}),"\n",(0,a.jsxs)(n.p,{children:["This is the stage where transactions are executed by nodes after being deferred for 5 epochs (about 5 seconds). \u8fd9\u610f\u5473\u7740\u8282\u70b9\u5c06\u8fd0\u884c\u4ea4\u6613\u7684\u903b\u8f91\u5e76\u76f8\u5e94\u5730\u66f4\u65b0\u5176\u72b6\u6001\u3002 The execution results of each transaction will be recorded in a ",(0,a.jsx)(n.a,{href:"/zh-CN/docs/core/core-space-basics/transactions/receipt",children:"receipt"}),", which contains information such as status (success or failure), gas used, logs or events emitted by smart contracts and can be retrieved using transaction hash."]}),"\n",(0,a.jsxs)(n.p,{children:["After the execution, the account's ",(0,a.jsx)(n.a,{href:"/zh-CN/docs/core/core-space-basics/transactions/nonce",children:"nonce"})," will be increased by one and transaction's receipt will be available."]}),"\n",(0,a.jsxs)(n.h3,{id:"5-waiting-for-about-50-epochs---confirmed",children:["5. ",(0,a.jsx)(n.strong,{children:"Waiting for about 50 epochs -> Confirmed"})]}),"\n",(0,a.jsx)(n.p,{children:"This is the stage where transactions are confirmed by nodes after being executed for about 50 epochs (about 50 seconds). \u6267\u884c\u4e00\u4e2a\u4ea4\u6613\u5e76\u4e0d\u610f\u5473\u7740\u4ea4\u6613\u7684\u72b6\u6001\u4e0d\u4f1a\u518d\u6b21\u6539\u53d8\u3002 Due to the structure of Conflux blockchain, the blockchain may fork or shift the pivot chain due to the arrival or creation of new blocks, which may revert certain transactions. \u786e\u8ba4\u7684\u4ea4\u6613\u610f\u5473\u7740\u5b83\u5df2\u7ecf\u88ab\u5305\u542b\u5728\u8db3\u591f\u6df1\u7684\u533a\u5757\u4e2d\uff0c\u5e76\u4e14\u51e0\u4e4e\u4e0d\u53ef\u80fd\u56de\u6eda\u3002"}),"\n",(0,a.jsxs)(n.h3,{id:"6-waiting-for-pos-chain-finalization---finalized",children:["6. ",(0,a.jsx)(n.strong,{children:"Waiting for PoS chain Finalization -> Finalized"})]}),"\n",(0,a.jsxs)(n.p,{children:["This is the final stage where transactions are finalized after specific PoW block being referenced by Conflux's ",(0,a.jsx)(n.a,{href:"/zh-CN/docs/general/conflux-basics/consensus-mechanisms/proof-of-stake/pos_overview",children:"PoS chain"}),". Conflux \u7684 PoS \u94fe\u4f1a\u5b9a\u671f\u5f15\u7528\u4e00\u4e2a\u7a33\u5b9a\u7684 PoW \u533a\u5757\uff0c\u4ee5\u4e3a\u4ea4\u6613\u63d0\u4f9b\u6700\u7ec8\u6027\u3002 \u4e00\u4e2a\u5df2\u7ecf\u6700\u7ec8\u5316\u7684\u4ea4\u6613\u610f\u5473\u7740\u5b83\u51e0\u4e4e\u6ca1\u6709\u88ab\u56de\u6eda\u7684\u53ef\u80fd\u6027\uff0c\u9664\u975e\u653b\u51fb\u8005\u62e5\u6709 PoS \u4e2d\u8d85\u8fc7 67% \u7684 CFX\u3002 It takes approximately 400 Epochs(6-8 minutes) to finalize a transaction since it is included in a block (after ",(0,a.jsx)(n.a,{href:"https://github.com/Conflux-Chain/CIPs/blob/master/CIPs/cip-113.md",children:"CIP-113"})," activation)."]}),"\n",(0,a.jsx)(n.h2,{id:"\u5e38\u89c1\u95ee\u9898\u89e3\u7b54",children:"\u5e38\u89c1\u95ee\u9898\u89e3\u7b54"}),"\n",(0,a.jsx)(n.h3,{id:"transaction-sent-successfully-but-unable-to-retrieve-transaction-via-gettransactionbyhash",children:"Transaction Sent Successfully, but Unable to Retrieve Transaction via getTransactionByHash?"}),"\n",(0,a.jsx)(n.p,{children:"In situations of network congestion, a transaction may be removed from the transaction pool, resulting in the inability to retrieve the transaction via getTransactionByHash."}),"\n",(0,a.jsx)(n.h3,{id:"after-a-transaction-is-executed-does-it-mean-the-transaction-status-wont-change",children:"After a Transaction is Executed, Does it Mean the Transaction Status Won't Change?"}),"\n",(0,a.jsx)(n.p,{children:"Not necessarily. Due to the structure of the blockchain, there may be forks or a shift in the pivot chain due to the arrival or creation of new blocks, leading to the potential rollback of certain transactions. When a transaction is confirmed, it means the transaction has been included in a sufficiently deep block, and the probability of rollback is extremely low."}),"\n",(0,a.jsx)(n.h3,{id:"after-a-transaction-is-confirmed-does-it-mean-the-transaction-status-wont-change",children:"After a Transaction is Confirmed, Does it Mean the Transaction Status Won't Change?"}),"\n",(0,a.jsx)(n.p,{children:"Generally, the status of a transaction won't change after confirmation. However, in extremely rare cases, a transaction may be rolled back. This occurrence has an exceptionally low probability."})]})}function h(e={}){const{wrapper:n}={...(0,s.a)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},73709:(e,n,t)=>{t.d(n,{Z:()=>a});const a=t.p+"assets/images/transaction-stages-8bcdab5873c9062a0705324908afa456.png"},11151:(e,n,t)=>{t.d(n,{Z:()=>r,a:()=>o});var a=t(67294);const s={},i=a.createContext(s);function o(e){const n=a.useContext(i);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),a.createElement(i.Provider,{value:n},e.children)}}}]);