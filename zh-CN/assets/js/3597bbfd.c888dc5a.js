"use strict";(self.webpackChunkconflux_docs=self.webpackChunkconflux_docs||[]).push([[7518],{4137:(e,t,n)=>{n.d(t,{Zo:()=>p,kt:()=>m});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var c=a.createContext({}),l=function(e){var t=a.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},p=function(e){var t=l(e.components);return a.createElement(c.Provider,{value:t},e.children)},d="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},u=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,c=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),d=l(n),u=r,m=d["".concat(c,".").concat(u)]||d[u]||h[u]||i;return n?a.createElement(m,o(o({ref:t},p),{},{components:n})):a.createElement(m,o({ref:t},p))}));function m(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=u;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s[d]="string"==typeof e?e:r,o[1]=s;for(var l=2;l<i;l++)o[l]=n[l];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},9519:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>l});var a=n(7462),r=(n(7294),n(4137));const i={title:"\u4ea4\u6613",sidebar_position:9,keywords:["transaction"]},o=void 0,s={unversionedId:"general/conflux-basics/transactions",id:"general/conflux-basics/transactions",title:"\u4ea4\u6613",description:"\u672c\u8282\u66f4\u6df1\u5165\u5730\u4ecb\u7ecd\u4e86\u4ea4\u6613\u7684\u6982\u5ff5\u3002 \u6709\u5173Core Space\u4ea4\u6613\u7684\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1core space \u4ea4\u6613\u3002 \u5bf9\u4e8e eSpace \u4ea4\u6613\uff0c\u60a8\u53ef\u80fd\u4f1a\u53d1\u73b0\u53c2\u8003Ethereum \u4ea4\u6613\u6709\u6240\u5e2e\u52a9\uff0c\u56e0\u4e3a\u5b83\u4eec\u5728\u683c\u5f0f\u548c\u529f\u80fd\u4e0a\u51e0\u4e4e\u5b8c\u5168\u76f8\u540c\u3002",source:"@site/i18n/zh/docusaurus-plugin-content-docs/current/general/conflux-basics/transactions.md",sourceDirName:"general/conflux-basics",slug:"/general/conflux-basics/transactions",permalink:"/zh-CN/docs/general/conflux-basics/transactions",draft:!1,editUrl:"https://crowdin.com/project/conflux/zh-CN",tags:[],version:"current",sidebarPosition:9,frontMatter:{title:"\u4ea4\u6613",sidebar_position:9,keywords:["transaction"]},sidebar:"tutorialSidebar",previous:{title:"Contracts",permalink:"/zh-CN/docs/general/conflux-basics/contracts"},next:{title:"\u8d26\u6237\u548c\u5730\u5740",permalink:"/zh-CN/docs/general/conflux-basics/accounts"}},c={},l=[{value:"\u4ea4\u6613\u7684\u6982\u5ff5",id:"\u4ea4\u6613\u7684\u6982\u5ff5",level:2},{value:"\u4ea4\u6613\u5b57\u6bb5",id:"\u4ea4\u6613\u5b57\u6bb5",level:2},{value:"\u4ea4\u6613\u751f\u547d\u5468\u671f",id:"\u4ea4\u6613\u751f\u547d\u5468\u671f",level:2}],p={toc:l},d="wrapper";function h(e){let{components:t,...i}=e;return(0,r.kt)(d,(0,a.Z)({},p,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"\u672c\u8282\u66f4\u6df1\u5165\u5730\u4ecb\u7ecd\u4e86\u4ea4\u6613\u7684\u6982\u5ff5\u3002 \u6709\u5173Core Space\u4ea4\u6613\u7684\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u89c1",(0,r.kt)("a",{parentName:"p",href:"/zh-CN/docs/core/learn/core-space-basics/transaction_explain"},"core space \u4ea4\u6613"),"\u3002 \u5bf9\u4e8e eSpace \u4ea4\u6613\uff0c\u60a8\u53ef\u80fd\u4f1a\u53d1\u73b0\u53c2\u8003",(0,r.kt)("a",{parentName:"p",href:"https://ethereum.org/developers/docs/transactions/"},"Ethereum \u4ea4\u6613"),"\u6709\u6240\u5e2e\u52a9\uff0c\u56e0\u4e3a\u5b83\u4eec\u5728\u683c\u5f0f\u548c\u529f\u80fd\u4e0a\u51e0\u4e4e\u5b8c\u5168\u76f8\u540c\u3002")),(0,r.kt)("h2",{id:"\u4ea4\u6613\u7684\u6982\u5ff5"},"\u4ea4\u6613\u7684\u6982\u5ff5"),(0,r.kt)("p",null,"\u4ea4\u6613\u4e3a\u62e5\u6709 Conflux \u8d26\u6237\u7684\u5916\u90e8\u53c2\u4e0e\u8005\u7f16\u5199\u7684\u5355\u4e2a\u6307\u4ee4\uff0c\u5e76\u7531\u53d1\u9001\u8005\u4f7f\u7528\u5176\u8d26\u6237\u79c1\u94a5\u8fdb\u884c\u4e86\u5bc6\u7801\u5b66\u7b7e\u540d\u3002 \u4e00\u7b14\u4ea4\u6613\u53ef\u4ee5\u6d89\u53ca\u7b80\u5355\u7684CFX\uff08Conflux\u7684\u672c\u5730\u8d27\u5e01\uff09\u8f6c\u8d26\u3001\u4ee3\u5e01\uff08\u5982ERC20\u6216ERC721\uff09\u8f6c\u8d26\u3001\u65b0\u667a\u80fd\u5408\u7ea6\u7684\u90e8\u7f72\u6216\u73b0\u6709\u667a\u80fd\u5408\u7ea6\u4e0a\u7684\u51fd\u6570\u6267\u884c\u3002 \u4ea4\u6613\u662f\u5728\u533a\u5757\u94fe\u4e0a\u5b58\u50a8\u6216\u66f4\u65b0\u6570\u636e\u7684\u552f\u4e00\u65b9\u5f0f\u3002"),(0,r.kt)("h2",{id:"\u4ea4\u6613\u5b57\u6bb5"},"\u4ea4\u6613\u5b57\u6bb5"),(0,r.kt)("p",null,"\u4e00\u822c\u800c\u8a00\uff0c\u4e00\u4e2a\u4ea4\u6613\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\uff1a"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Who send the transaction: A ",(0,r.kt)("inlineCode",{parentName:"p"},"from")," field in an unsigned transaction or the transaction signature fields indicating the signer. This tells the network who is responsible for initiating the transaction and who will pay for the fees.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"What this transaction will do, including:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Who will be the transaction receiver or which smart contract to interact with(",(0,r.kt)("inlineCode",{parentName:"p"},"to")," field). This specifies the destination address of the transaction, which can be either user account or a smart contract that can execute some logic or empty to create a contract.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"How much native token will be send(",(0,r.kt)("inlineCode",{parentName:"p"},"value")," field). This indicates how much CFX (the native token of Conflux) will be transferred from the sender to the receiver. If the receiver is a smart contract, this value can also be used as an input parameter for its logic.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"How to interact with a smart contract(",(0,r.kt)("inlineCode",{parentName:"p"},"data")," field). This contains additional information for calling a smart contract function or deploying a new smart contract. It can encode the name and arguments of the function to be invoked or the bytecode of the new contract to be created.")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Transaction fee information, including:"),(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Field(s) indicating base transaction fee (",(0,r.kt)("inlineCode",{parentName:"p"},"gas")," in both spaces, and extra ",(0,r.kt)("inlineCode",{parentName:"p"},"storageLimit")," field in core space). These fields is determine according to how much computational resources are required to execute the transaction and (in core space) how much storage space are occupied by its effects.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},'Field indicating how much "tip" sender is willing to pay to miner(',(0,r.kt)("inlineCode",{parentName:"p"},"gasPrice")," field). This field allows senders to adjust their priority in getting their transactions packed by miners. A higher ",(0,r.kt)("inlineCode",{parentName:"p"},"gasPrice")," means a higher chance of being included in a block sooner.")))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},'Field indicating when or where the transaction is "valid" (',(0,r.kt)("inlineCode",{parentName:"p"},"chainId"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"nonce")," in both spaces, and ",(0,r.kt)("inlineCode",{parentName:"p"},"epochHeight")," in core space). ",(0,r.kt)("inlineCode",{parentName:"p"},"chainId")," prevents a transaction being executed on another chain and ",(0,r.kt)("inlineCode",{parentName:"p"},"nonce")," field ensures the sent transactions are executed in the expected order. ",(0,r.kt)("inlineCode",{parentName:"p"},"epochHeight"),' field sets an expiration time for the transaction based on the epoch number (a concept similar to "block number" in Ethereum). A transaction can only be executed within an epoch range associated with ',(0,r.kt)("inlineCode",{parentName:"p"},"epochHeight"),"."))),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Transaction fields are slightly different between ",(0,r.kt)("a",{parentName:"p",href:"/zh-CN/docs/general/conflux-basics/spaces"},"spaces"),". Core space transactions follow the definition of ",(0,r.kt)("a",{parentName:"p",href:"https://www.confluxnetwork.org/files/Conflux_Protocol_Specification.pdf"},"Conflux Protocol"),". Espace transactions follow the ",(0,r.kt)("a",{parentName:"p",href:"https://eips.ethereum.org/EIPS/eip-155"},"EIP-155")," specification.")),(0,r.kt)("h2",{id:"\u4ea4\u6613\u751f\u547d\u5468\u671f"},"\u4ea4\u6613\u751f\u547d\u5468\u671f"),(0,r.kt)("p",null,"Transactions go through several stages from the time they are constructed to the time they are finally confirmed on the chain. A good understanding of these stages will help users and developers better identify problems with sending transactions and ultimately ensure that transactions are successfully confirmed."),(0,r.kt)("p",null,"The following are the main stages of a transaction from construction to confirmation."),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Transaction construction"),": This is the stage where users or developers create a transaction with all the necessary fields and parameters and get it signed. \u4ea4\u6613\u5bf9\u8c61\u53ef\u4ee5\u4f7f\u7528\u5404\u79cd\u5de5\u5177\u6216\u5e93\u521b\u5efa\uff0c\u5982 Fluent Wallet\u3001Conflux SDK \u7b49\u3002 \u5728\u53d1\u9001\u4ea4\u6613\u4e4b\u524d\uff0c\u4ea4\u6613\u5c06\u88ab\u7f16\u7801\u4e3a\u5341\u516d\u8fdb\u5236\u5b57\u7b26\u4e32\u4f5c\u4e3a\u201crawTransaction\u201d\u3002")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Broadcast"),": This is the stage where users or developers send their signed transaction to a Conflux node via RPC or WebSocket. \u5982\u679c\u4ea4\u6613\u901a\u8fc7\u9a8c\u8bc1\uff0c\u8282\u70b9\u5c06\u9a8c\u8bc1\u4ea4\u6613\u5e76\u5c06\u5176\u5e7f\u64ad\u5230\u7f51\u7edc\u4e2d\u7684\u5176\u4ed6\u8282\u70b9\u3002 \u8282\u70b9\u8fd8\u5c06\u8fd4\u56de\u4e00\u4e2a\u4ea4\u6613\u54c8\u5e0c\uff08\u8fd9\u662f\u4e00\u4e2a\u552f\u4e00\u6807\u8bc6\u7b26\uff09\u7ed9\u53d1\u9001\u8005\u4ee5\u8fdb\u884c\u8ddf\u8e2a\u3002")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Packed into a block -> Mined"),": This is the stage where miners select transactions from their mempool (a pool of pending transactions) and include them in their blocks. \u77ff\u5de5\u5c06\u4f18\u5148\u8003\u8651\u5177\u6709\u66f4\u9ad8",(0,r.kt)("inlineCode",{parentName:"p"},"gasPrice"),"\u7684\u4ea4\u6613\u3002 \u4e00\u65e6\u5305\u542b\u4ea4\u6613\u7684\u533a\u5757\u88ab\u6316\u51fa\uff0c\u5b83\u5c06\u88ab\u4f20\u64ad\u5230\u7f51\u7edc\u4e2d\u7684\u5176\u4ed6\u8282\u70b9\u3002")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Deferring 5 epochs -> Executed"),": This is the stage where transactions are executed by nodes after being deferred for 5 epochs (about 5 seconds). \u8fd9\u610f\u5473\u7740\u8282\u70b9\u5c06\u8fd0\u884c\u4ea4\u6613\u7684\u903b\u8f91\u5e76\u76f8\u5e94\u5730\u66f4\u65b0\u5176\u72b6\u6001\u3002 \u6bcf\u4e2a\u4ea4\u6613\u7684\u6267\u884c\u7ed3\u679c\u5c06\u8bb0\u5f55\u5728\u6536\u636e\uff08Receipt\uff09\u4e2d\uff0c\u5176\u4e2d\u5305\u542b\u8bf8\u5982\u72b6\u6001\uff08\u6210\u529f\u6216\u5931\u8d25\uff09\u3001\u5df2\u4f7f\u7528\u7684 gas\u3001\u667a\u80fd\u5408\u7ea6\u53d1\u51fa\u7684\u65e5\u5fd7\u548c\u4e8b\u4ef6\u7b49\u4fe1\u606f\uff0c\u5e76\u53ef\u4f7f\u7528\u4ea4\u6613\u54c8\u5e0c\u68c0\u7d22\u3002")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Waiting for about 50 epochs -> Confirmed"),": This is the stage where transactions are confirmed by nodes after being executed for about 50 epochs (about 50 seconds). \u6267\u884c\u4e00\u4e2a\u4ea4\u6613\u5e76\u4e0d\u610f\u5473\u7740\u4ea4\u6613\u7684\u72b6\u6001\u4e0d\u4f1a\u518d\u6b21\u6539\u53d8\u3002 \u7531\u4e8e\u533a\u5757\u94fe\u7684\u7ed3\u6784\uff0c\u533a\u5757\u94fe\u53ef\u80fd\u4f1a\u56e0\u4e3a\u65b0\u5757\u800c\u5206\u53c9\u6216\u8f6c\u79fb\u4e3b\u94fe\uff0c\u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4\u67d0\u4e9b\u4ea4\u6613\u56de\u6eda\u3002 \u786e\u8ba4\u7684\u4ea4\u6613\u610f\u5473\u7740\u5b83\u5df2\u7ecf\u88ab\u5305\u542b\u5728\u8db3\u591f\u6df1\u7684\u533a\u5757\u4e2d\uff0c\u5e76\u4e14\u51e0\u4e4e\u4e0d\u53ef\u80fd\u56de\u6eda\u3002")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("strong",{parentName:"p"},"Waiting for PoS chain Finalization -> Finalized"),": This is the final stage where transactions are finalized after specific PoW block being referenced by Conflux's ",(0,r.kt)("a",{parentName:"p",href:"/zh-CN/docs/general/conflux-basics/consensus-mechanisms/proof-of-stake/pos_overview"},"PoS chain"),". Conflux \u7684 PoS \u94fe\u4f1a\u5b9a\u671f\u5f15\u7528\u4e00\u4e2a\u7a33\u5b9a\u7684 PoW \u533a\u5757\uff0c\u4ee5\u4e3a\u4ea4\u6613\u63d0\u4f9b\u6700\u7ec8\u6027\u3002 \u4e00\u4e2a\u5df2\u7ecf\u6700\u7ec8\u5316\u7684\u4ea4\u6613\u610f\u5473\u7740\u5b83\u51e0\u4e4e\u6ca1\u6709\u88ab\u56de\u6eda\u7684\u53ef\u80fd\u6027\uff0c\u9664\u975e\u653b\u51fb\u8005\u62e5\u6709 PoS \u4e2d\u8d85\u8fc7 67% \u7684 CFX\u3002"))),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Transaction",src:n(8124).Z,width:"1434",height:"1900"})))}h.isMDXComponent=!0},8124:(e,t,n)=>{n.d(t,{Z:()=>a});const a=n.p+"assets/images/transaction-stages-8bcdab5873c9062a0705324908afa456.bin"}}]);