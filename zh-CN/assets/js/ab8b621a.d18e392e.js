"use strict";(self.webpackChunkconflux_docs=self.webpackChunkconflux_docs||[]).push([[5543],{74720:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>t,default:()=>h,frontMatter:()=>i,metadata:()=>c,toc:()=>l});var r=s(85893),o=s(11151);const i={title:"cfx_estimateGasAndCollateral Behaviour",sidebar_position:8,description:"cfx_estimateGasAndCollatory \u7684\u884c\u4e3a",displayed_sidebar:"coreSidebar",keywords:["cfx_estimateGasAndCollateral","errors"],toc_max_heading_level:4,tags:["cfx_estimateGasAndCollateral","errors"]},t=void 0,c={id:"core/build/json-rpc/rpc-behaviour/cfx_estimateGasAndCollateral-behaviour",title:"cfx_estimateGasAndCollateral Behaviour",description:"cfx_estimateGasAndCollatory \u7684\u884c\u4e3a",source:"@site/i18n/zh/docusaurus-plugin-content-docs/current/core/build/json-rpc/rpc-behaviour/cfx_estimateGasAndCollateral-behaviour.md",sourceDirName:"core/build/json-rpc/rpc-behaviour",slug:"/core/build/json-rpc/rpc-behaviour/cfx_estimateGasAndCollateral-behaviour",permalink:"/zh-CN/docs/core/build/json-rpc/rpc-behaviour/cfx_estimateGasAndCollateral-behaviour",draft:!1,unlisted:!1,editUrl:"https://crowdin.com/project/conflux/zh-CN",tags:[{label:"cfx_estimateGasAndCollateral",permalink:"/zh-CN/docs/tags/cfx-estimate-gas-and-collateral"},{label:"errors",permalink:"/zh-CN/docs/tags/errors"}],version:"current",sidebarPosition:8,frontMatter:{title:"cfx_estimateGasAndCollateral Behaviour",sidebar_position:8,description:"cfx_estimateGasAndCollatory \u7684\u884c\u4e3a",displayed_sidebar:"coreSidebar",keywords:["cfx_estimateGasAndCollateral","errors"],toc_max_heading_level:4,tags:["cfx_estimateGasAndCollateral","errors"]},sidebar:"coreSidebar",previous:{title:"cfx_sendRawTransaction \u63a5\u53e3\u9519\u8bef",permalink:"/zh-CN/docs/core/build/json-rpc/rpc-behaviour/cfx_sendTransaction-errors"},next:{title:"QuickStart for Ethereum Developers",permalink:"/zh-CN/docs/core/build/quickstart-for-eth-devs"}},a={},l=[{value:"\u53c2\u6570\u7f3a\u5931\u6216\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u7684\u884c\u4e3a",id:"\u53c2\u6570\u7f3a\u5931\u6216\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u7684\u884c\u4e3a",level:2},{value:"\u5904\u7406\u591a\u4f59\u7684\u53c2\u6570",id:"\u5904\u7406\u591a\u4f59\u7684\u53c2\u6570",level:3},{value:"\u6307\u5b9agas",id:"\u6307\u5b9agas",level:4},{value:"\u6307\u5b9a\u5b58\u50a8\u9650\u5236",id:"\u6307\u5b9a\u5b58\u50a8\u9650\u5236",level:4},{value:"\u5176\u4ed6\u8003\u91cf",id:"\u5176\u4ed6\u8003\u91cf",level:3},{value:"\u9519\u8bef",id:"\u9519\u8bef",level:2},{value:"Estimation isn&#39;t accurate: transaction is reverted",id:"estimation-isnt-accurate-transaction-is-reverted",level:3},{value:"Can not estimate: transaction execution failed, all gas will be charged",id:"can-not-estimate-transaction-execution-failed-all-gas-will-be-charged",level:3},{value:"VmError(OutOfGas)",id:"vmerroroutofgas",level:4},{value:"NotEnoughCash",id:"notenoughcash",level:4},{value:"ConflictAddress(0x...)",id:"conflictaddress0x",level:4},{value:"VmError(BadInstruction 214)",id:"vmerrorbadinstruction-214",level:4}];function d(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.a)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"cfx_estimateGasAndCollateral"})," \u63a5\u53e3\u662f Conflux \u533a\u5757\u94fe\u4e2d\u7684\u4e00\u4e2a\u5173\u952e\u7ec4\u6210\u90e8\u5206\uff0c\u8be5\u63a5\u53e3\u5141\u8bb8\u7528\u6237\u53ef\u5728\u53d1\u8d77\u4ea4\u6613\u524d\uff0c\u4f30\u7b97\u4ea4\u4e92\u6240\u9700\u4ea4\u6613\u8d39\u7528\u548c\u5b58\u50a8\u62b5\u62bc\u8d39\u7528 \u672c\u6587\u6863\u65e8\u5728\u6e05\u6670\u5730\u6982\u8ff0 ",(0,r.jsx)(n.code,{children:"cfx_estimateGasAndCollateral"})," \u63a5\u53e3\u7684\u529f\u80fd\uff0c\u7279\u522b\u5f3a\u8c03\u5176\u5bf9\u5404\u79cd\u53c2\u6570\u914d\u7f6e\u7684\u54cd\u5e94\u3002"]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["\u4ee5\u4e0b\u63cf\u8ff0\u7684\u884c\u4e3a\u662f\u7531 ",(0,r.jsx)(n.a,{href:"https://github.com/Conflux-Chain/conflux-rust",children:"conflux-rust"})," \u5b9e\u73b0\u7684\uff0c\u8fd9\u662fConflux\u534f\u8bae\u7684\u5b98\u65b9Rust\u5b9e\u73b0\u3002"]})}),"\n",(0,r.jsx)(n.h2,{id:"\u53c2\u6570\u7f3a\u5931\u6216\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u7684\u884c\u4e3a",children:"\u53c2\u6570\u7f3a\u5931\u6216\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u7684\u884c\u4e3a"}),"\n",(0,r.jsx)(n.p,{children:"\u63a5\u53e3\u7684\u54cd\u5e94\u53d6\u51b3\u4e8e\u8f93\u5165\u4e2d\u7279\u5b9a\u5b57\u6bb5\u662f\u5426\u5b58\u5728\uff1a"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["\u5982\u679c ",(0,r.jsx)(n.code,{children:"from"})," \u5b57\u6bb5\u7f3a\u5931"]}),"\uff1a\u63a5\u53e3\u5c06\u4e0d\u4f1a\u6267\u884c\u4e0e",(0,r.jsx)(n.code,{children:"\u4f59\u989d"}),"\u76f8\u5173\u7684\u68c0\u67e5\u3002 \uff08\u7136\u800c\uff0c\u56e0\u4e3a",(0,r.jsx)(n.code,{children:"from"}),"\u5b57\u6bb5\u7f3a\u5931\uff0c\u6267\u884c\u53ef\u80fd\u4f1a\u5931\u8d25\uff09\u3002"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["\u5982\u679c ",(0,r.jsx)(n.code,{children:"gas_price"})," \u7f3a\u5931"]}),"\uff1a\u5219\u8df3\u8fc7\u4e0egas\u76f8\u5173\u7684\u4ea4\u6613\u8d39\u7528\u68c0\u67e5\u548c",(0,r.jsx)(n.a,{href:"/zh-CN/docs/core/core-space-basics/internal-contracts/sponsor-whitelist-control",children:"\u4ee3\u4ed8gas\u4e0a\u9650"}),"\u68c0\u67e5\u3002"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["\u5982\u679c ",(0,r.jsx)(n.code,{children:"nonce"})," \u7f3a\u5931"]}),"\uff1a\u63a5\u53e3\u81ea\u52a8\u586b\u5145\u5f53\u524d\u6b63\u786e\u7684nonce\u3002 \u76f8\u53cd\uff0c\u5982\u679c\u63d0\u4f9b\u4e86 ",(0,r.jsx)(n.code,{children:"nonce"})," \uff0c\u4ea4\u6613\u5c06\u4f7f\u7528\u6307\u5b9a\u7684nonce\u8fdb\u884c\uff0c\u907f\u514d\u7531\u4e8e\u4e0enonce\u76f8\u5173\u7684\u9519\u8bef\u800c\u5931\u8d25\u3002"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["\u5982\u679c ",(0,r.jsx)(n.code,{children:"value"})," \u7f3a\u5931"]}),"\uff1a\u9ed8\u8ba4\u8bbe\u7f6e\u4e3a0\u3002"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["\u5982\u679c ",(0,r.jsx)(n.code,{children:"data"})," \u7f3a\u5931"]}),"\uff1a\u9ed8\u8ba4\u4e3a\u7a7a\u3002"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsxs)(n.strong,{children:["\u5982\u679c ",(0,r.jsx)(n.code,{children:"to"})," \u7f3a\u5931"]}),"\uff1a\u63a5\u53e3\u9ed8\u8ba4\u4e3a\u5408\u7ea6\u521b\u5efa\u3002"]}),"\n"]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["\u901a\u5e38\uff0cConflux SDK\uff08\u4f8b\u5982\uff0cjs-conflux-sdk\u3001java-conflux-sdk\u7b49\uff09\u4f1a\u81ea\u52a8\u8c03\u7528 ",(0,r.jsx)(n.code,{children:"cfx_estimateGasAndCollateral"})," \uff0c \u82e5\u8981\u53d1\u8d77\u4ea4\u6613\u3002 \u5982\u679c\u4f60\u6ca1\u6709\u76f4\u63a5\u8c03\u7528 ",(0,r.jsx)(n.code,{children:"cfx_estimateGasAndCollateral"})," \uff0c\u4e0a\u8ff0\u53c2\u6570\u7684\u5b58\u5728\u4e0e\u5426\u5c06\u53d6\u51b3\u4e8e\u4f60\u4f7f\u7528\u7684SDK\u7684\u884c\u4e3a\u3002"]})}),"\n",(0,r.jsx)(n.h3,{id:"\u5904\u7406\u591a\u4f59\u7684\u53c2\u6570",children:"\u5904\u7406\u591a\u4f59\u7684\u53c2\u6570"}),"\n",(0,r.jsxs)(n.p,{children:["\u867d\u7136 ",(0,r.jsx)(n.code,{children:"cfx_estimate"})," \u7684\u4e3b\u8981\u529f\u80fd\u662f\u7528\u4e8e\u4f30\u7b97gas\u548c\u5b58\u50a8\u62b5\u62bc\uff0c\u4f46\u5b83\u4e5f\u63a5\u53d7\u7531\u7528\u6237\u8f93\u5165\u8fd9\u4e9b\u53c2\u6570\u3002 \u672c\u8282\u6982\u8ff0\u4e86\u5728\u8fd9\u4e9b\u60c5\u51b5\u4e0b\u5e94\u7528\u7684\u903b\u8f91\uff1a"]}),"\n",(0,r.jsx)(n.h4,{id:"\u6307\u5b9agas",children:"\u6307\u5b9agas"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\u4ea4\u6613\u4f7f\u7528\u6307\u5b9a\u7684 ",(0,r.jsx)(n.code,{children:"gas"})," \u6267\u884c\u3002 \u8fd9\u662f\u9664\u4e86 ",(0,r.jsx)(n.code,{children:"gas"})," \u6d88\u8017\u8d85\u8fc71500\u4e07\u9650\u5236\u4e4b\u5916\uff0c\u552f\u4e00\u53ef\u80fd\u51fa\u73b0 ",(0,r.jsx)(n.code,{children:"OutOfGas"})," \u9519\u8bef\u7684\u60c5\u51b5\u3002"]}),"\n",(0,r.jsxs)(n.li,{children:["\u5982\u679c\u540c\u65f6\u6307\u5b9a\u4e86 ",(0,r.jsx)(n.code,{children:"from"})," \u548c ",(0,r.jsx)(n.code,{children:"gas_price"})," \uff0c\u5728\u4f30\u7b97\u8fc7\u7a0b\u4e2d\u5c06\u6263\u9664\u4ea4\u6613\u8d39\u7528\u3002 \u5426\u5219\uff0c\u8d39\u7528\u5c06\u5728\u6267\u884c\u540e\u91cd\u65b0\u68c0\u67e5\u3002"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"\u6307\u5b9a\u5b58\u50a8\u9650\u5236",children:"\u6307\u5b9a\u5b58\u50a8\u9650\u5236"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\u5728\u4ea4\u6613\u6267\u884c\u4f30\u7b97\u671f\u95f4\uff0c\u6307\u5b9a\u7684 ",(0,r.jsx)(n.code,{children:"storage_limit"})," \u4f1a\u88ab\u5ffd\u7565\u3002 \u4f30\u7b97\u540e\uff0c\u5c06\u8bc4\u4f30\u6240\u6307\u5b9a\u7684\u5b58\u50a8\u9650\u5236\u662f\u5426\u8db3\u591f\u3002"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"\u5176\u4ed6\u8003\u91cf",children:"\u5176\u4ed6\u8003\u91cf"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"\u5b58\u50a8\u4ee3\u4ed8"}),"\uff1a\u5728\u5b58\u50a8\u88ab\u4ee3\u4ed8\u7684\u60c5\u51b5\u4e0b\uff0c\u4e0d\u6267\u884c ",(0,r.jsx)(n.code,{children:"storage_limit"})," \u68c0\u67e5\uff0c\u9075\u5faaConflux\u7684\u5185\u5728\u903b\u8f91\u3002"]}),"\n",(0,r.jsx)(n.h2,{id:"\u9519\u8bef",children:"\u9519\u8bef"}),"\n",(0,r.jsx)(n.h3,{id:"estimation-isnt-accurate-transaction-is-reverted",children:"Estimation isn't accurate: transaction is reverted"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "code": -32015,\n    "message": "Estimation isn\'t accurate: transaction is reverted. Innermost error is at CFX:TYPE.CONTRACT:ACDUZTJBPM9PPP9F0K5VT3PJU0EJUDNHP2ZM7WS35N: Vm reverted. .",\n    "data": "CFX:TYPE.CONTRACT:ACDUZTJBPM9PPP9F0K5VT3PJU0EJUDNHP2ZM7WS35N: Vm reverted. \\nCFX:TYPE.CONTRACT:ACD5E6SPRGMDVG15FDXF2B8AH7DAN7GMZAGXA10EPZ: Vm reverted. "\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"\u9047\u5230\u6b64\u9519\u8bef\u610f\u5473\u7740\u63a5\u53e3\u672a\u80fd\u8fd4\u56de\u4f30\u7b97\u7ed3\u679c\uff0c\u56e0\u4e3a\u4ea4\u6613\u88ab\u56de\u6eda\uff08\u5408\u7ea6\u65b9\u6cd5\u4ee3\u7801\u672a\u80fd\u6267\u884c\uff09\u3002 \u8fd9\u4e2a\u9519\u8bef\u53ef\u80fd\u6709\u591a\u79cd\u539f\u56e0\uff0c\u4f8b\u5982\uff1a\u76f8\u5173ERC-20\u4ee3\u5e01\u6216NFT\u7684\u4f59\u989d\u4e0d\u8db3\uff1b\u5408\u7ea6\u65b9\u6cd5\u7684\u53c2\u6570\u9519\u8bef\uff1b\u7f3a\u4e4f\u6743\u9650\u6216\u6388\u6743\u7b49\u3002"}),"\n",(0,r.jsxs)(n.p,{children:["\u5982\u679c\u5728\u5408\u7ea6\u6267\u884c\u671f\u95f4\u629b\u51fa\u9519\u8bef\u6d88\u606f\uff0c\u53ef\u4ee5\u5728RPC\u9519\u8bef\u6d88\u606f\u4e2d\u770b\u5230\u5408\u7ea6\u6267\u884c\u5931\u8d25\u7684\u5177\u4f53\u539f\u56e0\u3002 \u4f8b\u5982\uff0c\u5f53\u8f6c\u79fbNFT\uff081155\uff09\u65f6\u51fa\u73b0\u4ee5\u4e0b\u9519\u8bef\uff0c\u8868\u793a\u4f59\u989d\u4e0d\u8db3\uff1a",(0,r.jsx)(n.code,{children:"Estimation isn't accurate: transaction is reverted: ERC1155: insufficient balance for transfer. Innermost error is at xxxx: Vm reverted. ERC1155: insufficient balance for transfer"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solution"}),": You should review the logic of the contract based on the error message. In specific scenarios (like when a ",(0,r.jsx)(n.strong,{children:"solidity custom error"})," is thrown), the error might not be shown in the error string. In such cases, using ",(0,r.jsx)(n.code,{children:"cfx_call"})," with identical parameters will return the into the corresponding hex error string. You are advised to refer to ",(0,r.jsx)(n.a,{href:"https://soliditylang.org/blog/2021/04/21/custom-errors/",children:"Custom Errors in Solidity"})," or language-specific SDKs to understand how to resolve the hex error string."]}),"\n",(0,r.jsx)(n.h3,{id:"can-not-estimate-transaction-execution-failed-all-gas-will-be-charged",children:"Can not estimate: transaction execution failed, all gas will be charged"}),"\n",(0,r.jsx)(n.h4,{id:"vmerroroutofgas",children:"VmError(OutOfGas)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "jsonrpc": "2.0",\n    "error": {\n        "code": -32602,\n        "message": "Can not estimate: transaction execution failed, all gas will be charged (execution error: VmError(OutOfGas))"\n    },\n    "id": "15922956697249514502"\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solution"}),": This error means ",(0,r.jsx)(n.code,{children:"gas"})," is not enough for transaction execution and it typically means the gas exceeds the maximum amount for a single transaction, which is half of the block gas limit (15,000,000). There's a need to optimize the logic of your contract execution to reduce the gas consumption. Notably, if ",(0,r.jsx)(n.code,{children:"gas"})," is specified in the estimation request, an ",(0,r.jsx)(n.code,{children:"OutOfGas"})," error can still occur even though the required gas is less than 15 million."]}),"\n",(0,r.jsx)(n.h4,{id:"notenoughcash",children:"NotEnoughCash"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n    "jsonrpc": "2.0",\n    "id": 8,\n    "error": {\n        "code": -32015,\n        "message": "Can not estimate: transaction execution failed, all gas will be charged (execution error: NotEnoughCash { required: 1000, got: 0, actual_gas_cost: 0, max_storage_limit_cost: 0 })",\n        "data": "NotEnoughCash { required: 1000, got: 0, actual_gas_cost: 0, max_storage_limit_cost: 0 }"\n    }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["This error means the ",(0,r.jsx)(n.code,{children:"from"})," account does not have enough balance to pay for transaction cost, including ",(0,r.jsx)(n.code,{children:"value"})," + ",(0,r.jsx)(n.code,{children:"gas cost"})," + ",(0,r.jsx)(n.code,{children:"storage collateral"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solution"}),":"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["If the ",(0,r.jsx)(n.code,{children:"to"})," contract is not ",(0,r.jsx)(n.a,{href:"/zh-CN/docs/core/core-space-basics/internal-contracts/sponsor-whitelist-control",children:"sponsored"}),", ensure that ",(0,r.jsx)(n.code,{children:"from"})," account is having enough CFX as balance."]}),"\n",(0,r.jsxs)(n.li,{children:["If the ",(0,r.jsx)(n.code,{children:"to"})," contract is sponsored, it is recommended to check why the sponsorship does not take effect by calling ",(0,r.jsx)(n.a,{href:"/zh-CN/docs/core/build/json-rpc/cfx-namespace#cfx_checkbalanceagainsttransaction",children:"cfx_checkBalanceAgainstTransaction"})," RPC. And the actual reason could be:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["The ",(0,r.jsx)(n.code,{children:"from"})," account is not in ",(0,r.jsx)(n.a,{href:"/zh-CN/docs/core/core-space-basics/internal-contracts/sponsor-whitelist-control#whitelist-maintenance",children:"sponsor whitelist"}),". Adding"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"SponsoredBalanceForGas"})," or ",(0,r.jsx)(n.code,{children:"SponsoredBalanceForCollateral"})," is not enough to pay for transaction cost, which value can be get from ",(0,r.jsx)(n.a,{href:"/zh-CN/docs/core/build/json-rpc/cfx-namespace#cfx_getsponsorinfo",children:"cfx_getSponsorInfo"})," RPC. In this case, appending sponsored balance will solve the issue."]}),"\n",(0,r.jsxs)(n.li,{children:["Transaction gas cost(",(0,r.jsx)(n.code,{children:"gas limit"})," * ",(0,r.jsx)(n.code,{children:"gas price"}),") exceeds the sponsorship ",(0,r.jsx)(n.code,{children:"upperBound"})," setting, which value can be get from ",(0,r.jsx)(n.a,{href:"/zh-CN/docs/core/build/json-rpc/cfx-namespace#cfx_getsponsorinfo",children:"cfx_getSponsorInfo"})," RPC. In this case, you need to call ",(0,r.jsx)(n.a,{href:"../../../core-space-basics/internal-contracts/sponsor-whitelist-control#setsponsorforgas-and-setsponsorforcollateral-behavior",children:"setSponsorForGas"})," to increase gas sponsorship uppper bound."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"conflictaddress0x",children:"ConflictAddress(0x...)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "code": -32015,\n  "message": "Can not estimate: transaction execution failed, all gas will be charged (execution error: VmError(ConflictAddress(0x87e69792aab04a1e54faa54b41a688335199c1bb)))\n",\n  "data": "VmError(ConflictAddress(0x87e69792aab04a1e54faa54b41a688335199c1bb))"\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:'This means the operation being estimated will deploy the contract to an address with contract existed. The deployed contract address is determined by the deployer"s address, the deployer"s nonce and the contract"s bytecode. And this issue typically incurred because a nonce already used is specified.'}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solution"}),": Check if the ",(0,r.jsx)(n.code,{children:"nonce"})," specified in the estimation parameters is reused and use the correct ",(0,r.jsx)(n.code,{children:"nonce"})," field."]}),"\n",(0,r.jsx)(n.h4,{id:"vmerrorbadinstruction-214",children:"VmError(BadInstruction 214)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "code": -32015,\n  "message": "Can not estimate: transaction execution failed, all gas will be charged (execution error: VmError(BadInstruction { instruction: 214 }))\n",\n  "data": "VmError(BadInstruction { instruction: 214 })"\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["This means the ",(0,r.jsx)(n.code,{children:"data"})," field contains bad instruction. This error typically occurs because the ",(0,r.jsx)(n.code,{children:"to"})," field is missing so the ",(0,r.jsx)(n.code,{children:"data"})," cannot be resolved as expected."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Solution"}),": Check if ",(0,r.jsx)(n.code,{children:"to"})," field is missing from the estimation request and fill the right value."]})]})}function h(e={}){const{wrapper:n}={...(0,o.a)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},11151:(e,n,s)=>{s.d(n,{Z:()=>c,a:()=>t});var r=s(67294);const o={},i=r.createContext(o);function t(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);