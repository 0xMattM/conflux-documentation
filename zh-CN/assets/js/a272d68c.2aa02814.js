"use strict";(self.webpackChunkconflux_docs=self.webpackChunkconflux_docs||[]).push([[1751],{3905:(e,n,t)=>{t.d(n,{Zo:()=>d,kt:()=>g});var r=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function o(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function i(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?o(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):o(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var l=r.createContext({}),c=function(e){var n=r.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):i(i({},n),e)),t},d=function(e){var n=c(e.components);return r.createElement(l.Provider,{value:n},e.children)},p="mdxType",u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},m=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),p=c(t),m=a,g=p["".concat(l,".").concat(m)]||p[m]||u[m]||o;return t?r.createElement(g,i(i({ref:n},d),{},{components:t})):r.createElement(g,i({ref:n},d))}));function g(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,i=new Array(o);i[0]=m;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s[p]="string"==typeof e?e:a,i[1]=s;for(var c=2;c<o;c++)i[c]=t[c];return r.createElement.apply(null,i)}return r.createElement.apply(null,t)}m.displayName="MDXCreateElement"},6290:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var r=t(7462),a=(t(7294),t(3905));const o={title:"cfx_sendRawTransaction Errors"},i=void 0,s={unversionedId:"general/faq/Errors/cfx_sendTransaction-errors",id:"general/faq/Errors/cfx_sendTransaction-errors",title:"cfx_sendRawTransaction Errors",description:"When sending transactions in Conflux via the cfx_sendRawTransaction method, certain errors may arise due to incorrect transaction construction or other issues. This guide covers common errors and their solutions.",source:"@site/i18n/zh/docusaurus-plugin-content-docs/current/general/faq/Errors/cfx_sendTransaction-errors.md",sourceDirName:"general/faq/Errors",slug:"/general/faq/Errors/cfx_sendTransaction-errors",permalink:"/zh-CN/docs/general/faq/Errors/cfx_sendTransaction-errors",draft:!1,editUrl:"https://crowdin.com/project/conflux/zh-CN",tags:[],version:"current",frontMatter:{title:"cfx_sendRawTransaction Errors"},sidebar:"tutorialSidebar",previous:{title:"Common RPC errors",permalink:"/zh-CN/docs/general/faq/Errors/common_rpc_error"},next:{title:"Core",permalink:"/zh-CN/docs/core/"}},l={},c=[{value:"Nonce Errors",id:"nonce-errors",level:2},{value:"Using an already executed nonce",id:"using-an-already-executed-nonce",level:3},{value:"Using a nonce already sent to the transaction pool",id:"using-a-nonce-already-sent-to-the-transaction-pool",level:3},{value:"Using a too large nonce",id:"using-a-too-large-nonce",level:3},{value:"Gas-related Issues",id:"gas-related-issues",level:2},{value:"Gas too small (<code>&lt;21000</code>) or too large (<code>&gt;15m</code>)",id:"gas-too-small-21000-or-too-large-15m",level:3},{value:"Invalid gasPrice",id:"invalid-gasprice",level:2},{value:"Gas price set to 0",id:"gas-price-set-to-0",level:3},{value:"Data Size Limit Exceeded",id:"data-size-limit-exceeded",level:2},{value:"Incorrect epochHeight",id:"incorrect-epochheight",level:2},{value:"Mismatched chainId",id:"mismatched-chainid",level:2},{value:"Encoding or Signature Errors",id:"encoding-or-signature-errors",level:2},{value:"Full Transaction Pool",id:"full-transaction-pool",level:2},{value:"Node in Catch-up Mode",id:"node-in-catch-up-mode",level:2},{value:"Internal Error",id:"internal-error",level:2},{value:"Execution Failure",id:"execution-failure",level:2}],d={toc:c},p="wrapper";function u(e){let{components:n,...t}=e;return(0,a.kt)(p,(0,r.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"When sending transactions in Conflux via the ",(0,a.kt)("inlineCode",{parentName:"p"},"cfx_sendRawTransaction")," method, certain errors may arise due to incorrect transaction construction or other issues. This guide covers common errors and their solutions."),(0,a.kt)("h2",{id:"nonce-errors"},"Nonce Errors"),(0,a.kt)("h3",{id:"using-an-already-executed-nonce"},"Using an already executed nonce"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'{\n    "jsonrpc": "2.0",\n    "id": "15922956697249514502",\n    "error": {\n        "code": -32602,\n        "message": "Invalid parameters: tx",\n        "data": "\\"Transaction 0x4a2cfa73267139d965ab86d41f2af16db09e62ff92a5abffd7f8e743f36f327c is discarded due to a too stale nonce\\""\n    }\n}\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Solution:")," Change the nonce to the first unused one."),(0,a.kt)("h3",{id:"using-a-nonce-already-sent-to-the-transaction-pool"},"Using a nonce already sent to the transaction pool"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'{\n    "jsonrpc": "2.0",\n    "id": "15922956697249514502",\n    "error": {\n        "code": -32602,\n        "message": "Invalid parameters: tx",\n        "data": "\\"tx already exist\\""\n    }\n  }\n')),(0,a.kt)("p",null,"or"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'{\n    "jsonrpc": "2.0",\n    "id": "15922956697249514502",\n    "error": {\n        "code": -32602,\n        "message": "Invalid parameters: tx",\n        "data": "Tx with same nonce already inserted. to replace it, you need to specify a gas price > {}"\n    }\n}\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Solution:")," The transaction has already been sent to the transaction pool. To update or replace it, use the same nonce, modify the corresponding field, and resend it with a higher gasPrice value."),(0,a.kt)("h3",{id:"using-a-too-large-nonce"},"Using a too large nonce"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'{\n    "jsonrpc": "2.0",\n    "id": "15922956697249514502",\n    "error": {\n        "code": -32602,\n        "message": "Invalid parameters: tx",\n        "data":"\\"Transaction 0xc875a03e1ce01268931a1a428d8f8313714ab5eb9c2b626bd327af7e5c3e8c03 is discarded due to in too distant future\\""\n    }\n  }\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Solution:")," Change the nonce to the first unused one."),(0,a.kt)("h2",{id:"gas-related-issues"},"Gas-related Issues"),(0,a.kt)("h3",{id:"gas-too-small-21000-or-too-large-15m"},"Gas too small (",(0,a.kt)("inlineCode",{parentName:"h3"},"<21000"),") or too large (",(0,a.kt)("inlineCode",{parentName:"h3"},">15m"),")"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'{\n    "jsonrpc": "2.0",\n    "id": "15922956697249514502",\n    "error": {\n        "code": -32602,\n        "message": "Invalid parameters: tx",\n        "data": "\\"NotEnoughBaseGas { required: 21000, got: 2000 }\\""\n    }\n}\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Solution:")," Change the ",(0,a.kt)("inlineCode",{parentName:"p"},"gas")," field to the right one."),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'{\n    "jsonrpc": "2.0",\n    "id": "15922956697249514502",\n    "error": {\n        "code": -32602,\n        "message": "Invalid parameters: tx",\n        "data": "\\"transaction gas 20000000 exceeds the maximum value 15000000, the half of pivot block gas limit\\""\n    }\n}\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Solution:")," Change the ",(0,a.kt)("inlineCode",{parentName:"p"},"gas")," field to a smaller one. Or optimize contract implementation to reduce gas cost."),(0,a.kt)("h2",{id:"invalid-gasprice"},"Invalid gasPrice"),(0,a.kt)("h3",{id:"gas-price-set-to-0"},"Gas price set to 0"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'{\n    "jsonrpc": "2.0",\n    "id": "15922956697249514502",\n    "error": { \n      "code": -32602,\n      "message": "Invalid parameters: tx", \n      "data": "\\"ZeroGasPrice\\"" \n    }\n}\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Solution:")," Use return value from ",(0,a.kt)("inlineCode",{parentName:"p"},"cfx_gasPrice")," as the ",(0,a.kt)("inlineCode",{parentName:"p"},"gasPrice")),(0,a.kt)("h2",{id:"data-size-limit-exceeded"},"Data Size Limit Exceeded"),(0,a.kt)("p",null,"The transaction has a size limit, with the maximum being 200k."),(0,a.kt)("h2",{id:"incorrect-epochheight"},"Incorrect epochHeight"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'{\n    "jsonrpc": "2.0",\n    "id": "15922956697249514502",\n    "error": {\n        "code": -32602,\n        "message": "Invalid parameters: tx",\n        "data": "\\"EpochHeightOutOfBound { block_height: 53800739, set: 0, transaction_epoch_bound: 100000 }\\""\n    }\n}\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Solution:")," Use return value from ",(0,a.kt)("inlineCode",{parentName:"p"},"cfx_epochNumber")," as the ",(0,a.kt)("inlineCode",{parentName:"p"},"epochHight")),(0,a.kt)("h2",{id:"mismatched-chainid"},"Mismatched chainId"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'{\n    "jsonrpc": "2.0",\n    "id": "15922956697249514502",\n    "error": {\n        "code": -32602,\n        "message": "Invalid parameters: tx",\n        "data": "\\"ChainIdMismatch { expected: 1, got: 2 }\\""\n    }\n}\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Solution:")," Use ",(0,a.kt)("inlineCode",{parentName:"p"},"chainId")," field from return value from ",(0,a.kt)("inlineCode",{parentName:"p"},"cfx_status")," as the ",(0,a.kt)("inlineCode",{parentName:"p"},"chainId")),(0,a.kt)("h2",{id:"encoding-or-signature-errors"},"Encoding or Signature Errors"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'{\n    "jsonrpc": "2.0",\n    "id": "15922956697249514502",\n    "error": {\n        "code": -32602,\n        "message": "Invalid parameters: raw",\n        "data": "\\"RlpIncorrectListLen\\""\n    }\n}\n')),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'{\n    "jsonrpc": "2.0",\n    "id": "15922956697249514502",\n    "error": {\n        "code": -32602,\n        "message": "Invalid parameters: tx",\n        "data": "Can not recover pubkey for Ethereum like tx"\n    }\n}\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Solution:")," Making sure you are using the SDK in the right way"),(0,a.kt)("h2",{id:"full-transaction-pool"},"Full Transaction Pool"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'{\n    "jsonrpc": "2.0",\n    "id": "15922956697249514502",\n    "error": {\n        "code": -32602,\n        "message": "Invalid parameters: tx",\n        "data": "txpool is full"\n    }\n}\n')),(0,a.kt)("p",null,"or"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'{\n    "jsonrpc": "2.0",\n    "id": "15922956697249514502",\n    "error": {\n        "code": -32602,\n        "message": "Invalid parameters: tx",\n        "data": "Failed imported to deferred pool: Transaction Pool is full"\n    }\n}\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Solution:")," Wait for a while to resend the transaction and increase the gasPrice of the transaction to improve the chances of sending."),(0,a.kt)("h2",{id:"node-in-catch-up-mode"},"Node in Catch-up Mode"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'{\n    "jsonrpc": "2.0",\n    "id": "15922956697249514502",\n    "error": {\n        "code": -32077,\n        "message": "Request rejected due to still in the catch up mode",\n        "data": null\n    }\n}\n')),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Solution:")," Wait for the node data to sync to the latest before sending."),(0,a.kt)("h2",{id:"internal-error"},"Internal Error"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-js"},'{\n    "jsonrpc": "2.0",\n    "id": "15922956697249514502",\n    "error": {\n        "code": -32602,\n        "message": "Invalid parameters: tx",\n        "data": "Failed to read account_cache from storage: {}"\n    }\n}\n')),(0,a.kt)("h2",{id:"execution-failure"},"Execution Failure"),(0,a.kt)("p",null,"Execution failures can be due to errors that occurred during the contract execution process or errors returned when estimating gas cost through the estimate interface. To find the specific reason for the transaction failure, check the ",(0,a.kt)("inlineCode",{parentName:"p"},"txExecErrorMsg")," under the receipt:"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"VmError(OutOfGas)"),": The transaction specified gas fee is not enough."),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"VmError(ExceedStorageLimit)"),": The transaction specified upper-limit storage is not enough."),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"NotEnoughCash"),": Insufficient user balance."),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"Vm reverted, Reason provided by the contract: xxxx"),": The contract execution failed with details provided."),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"VmError(BadInstruction xxxx)"),": Contract deployment failed."),(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("inlineCode",{parentName:"li"},"Vm reverted, xxxx"),": The contract execution failed with no details provided.")),(0,a.kt)("p",null,(0,a.kt)("strong",{parentName:"p"},"Solution:")," Depending on the specific error message, you may need to adjust the gas fee, increase the storage limit, ensure sufficient balance, or debug the contract code to identify and fix the issues causing the failure."),(0,a.kt)("p",null,"Remember that when handling transaction errors, it's essential to identify the root cause of the error and apply the appropriate solution. In most cases, modifying transaction parameters, waiting for node synchronization, or debugging the contract code can help resolve the issues."))}u.isMDXComponent=!0}}]);