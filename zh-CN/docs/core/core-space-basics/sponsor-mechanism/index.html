<!doctype html>
<html lang="zh-CN" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-core/core-space-basics/sponsor-mechanism" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.1.0">
<title data-rh="true">代付机制 | Conflux Docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://doc.confluxnetwork.org/zh-CN/docs/core/core-space-basics/sponsor-mechanism"><meta data-rh="true" property="og:locale" content="zh_CN"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" property="og:locale:alternate" content="es"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="代付机制 | Conflux Docs"><meta data-rh="true" name="description" content="Conflux Core 空间实现了代付机制，来补贴智能合约的使用。 这允许余额为零的新账户调用智能合约，前提是执行操作得到代付（通常由Dapp运营者提供）。 这个机制旨在降低新用户的入门门槛。"><meta data-rh="true" property="og:description" content="Conflux Core 空间实现了代付机制，来补贴智能合约的使用。 这允许余额为零的新账户调用智能合约，前提是执行操作得到代付（通常由Dapp运营者提供）。 这个机制旨在降低新用户的入门门槛。"><link data-rh="true" rel="icon" href="/zh-CN/img/logo.svg"><link data-rh="true" rel="canonical" href="https://doc.confluxnetwork.org/zh-CN/docs/core/core-space-basics/sponsor-mechanism"><link data-rh="true" rel="alternate" href="https://doc.confluxnetwork.org/docs/core/core-space-basics/sponsor-mechanism" hreflang="en"><link data-rh="true" rel="alternate" href="https://doc.confluxnetwork.org/zh-CN/docs/core/core-space-basics/sponsor-mechanism" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://doc.confluxnetwork.org/es/docs/core/core-space-basics/sponsor-mechanism" hreflang="es"><link data-rh="true" rel="alternate" href="https://doc.confluxnetwork.org/docs/core/core-space-basics/sponsor-mechanism" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://EA5TTCRZGT-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/zh-CN/blog/rss.xml" title="Conflux Docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh-CN/blog/atom.xml" title="Conflux Docs Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Conflux Docs" href="/zh-CN/opensearch.xml">


<script src="/js/clarity.js"></script><link rel="stylesheet" href="/zh-CN/assets/css/styles.1d0f6ede.css">
<script src="/zh-CN/assets/js/runtime~main.08cab527.js" defer="defer"></script>
<script src="/zh-CN/assets/js/main.bb7a5955.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="跳到主要内容"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">跳到主要内容</a></div><nav aria-label="主导航" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="切换导航栏" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/zh-CN/"><div class="navbar__logo"><img src="/zh-CN/img/logo.svg" alt="Conflux Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/zh-CN/img/logo_dark.svg" alt="Conflux Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate"></b></a><a class="navbar__item navbar__link" href="/zh-CN/docs/overview">Overview</a><a class="navbar__item navbar__link" href="/zh-CN/docs/espace/Overview">eSpace</a><a class="navbar__item navbar__link" href="/zh-CN/docs/core/Overview">Core Space</a><a class="navbar__item navbar__link" href="/zh-CN/docs/general">General</a><div class="navbar__item">｜</div><a class="navbar__item navbar__link" href="/zh-CN/docs/general/article-collection-links/concept-links">Concepts</a><a class="navbar__item navbar__link" href="/zh-CN/docs/general/article-collection-links/reference-links">References</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>中文（中国）</a><ul class="dropdown__menu"><li><a href="/docs/core/core-space-basics/sponsor-mechanism" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/zh-CN/docs/core/core-space-basics/sponsor-mechanism" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-CN">中文（中国）</a></li><li><a href="/es/docs/core/core-space-basics/sponsor-mechanism" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">Español</a></li></ul></div><a href="https://github.com/Conflux-Chain/conflux-documentation" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><a href="https://forms.office.com/r/pKVBywZwLY" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-feedback-link" aria-label="Feedback"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="切换浅色/暗黑模式（当前为浅色模式）" aria-label="切换浅色/暗黑模式（当前为浅色模式）" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="回到顶部" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="文档侧边栏" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh-CN/docs/core/Overview">概览</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/zh-CN/docs/core/getting-started/">起步</a><button aria-label="展开侧边栏分类 &#x27;起步&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh-CN/docs/core/core-developer-quickstart">开发者快速入门</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh-CN/docs/core/conflux_rpcs">网络 RPC 端点</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/zh-CN/docs/category/core-space-basics">Core Space Basics</a><button aria-label="折叠侧边栏分类 &#x27;Core Space Basics&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/core/core-space-basics/Intro">介绍</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/core/core-space-basics/addresses">Base32 地址</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/core/core-space-basics/accounts">账户</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/core/core-space-basics/storage">存储抵押</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/zh-CN/docs/core/core-space-basics/transactions/overview">Transactions</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/zh-CN/docs/core/core-space-basics/sponsor-mechanism">代付机制</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/core/core-space-basics/vm-difference">虚拟机的差异</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh-CN/docs/core/core-space-basics/internal-contracts/">内置合约</a><button aria-label="展开侧边栏分类 &#x27;内置合约&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/zh-CN/docs/category/tutorials">Tutorials</a><button aria-label="折叠侧边栏分类 &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/core/tutorials/js-conflux-sdk">JS SDK 指南</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/core/tutorials/hardhat-conflux-plugin">Hardhat Conflux 插件</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/core/tutorials/chainide">使用 ChainIDE 开发智能合约</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/core/tutorials/how-to-sponsor-contract">如何赞助智能合约</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/core/tutorials/nft-tutorial">Complete NFT Tutorial</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="true" href="/zh-CN/docs/category/build">Build</a><button aria-label="折叠侧边栏分类 &#x27;Build&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/core/build/intro-the-stack">Intro to the Stack</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/core/build/smart-contracts">智能合约</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh-CN/docs/category/sdks-and-tools">SDKs and Tools</a><button aria-label="展开侧边栏分类 &#x27;SDKs and Tools&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/core/build/fluent">集成 Fluent 钱包</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/core/build/gas-sponsorship">基金会 Gas 赞助</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/zh-CN/docs/core/build/json-rpc/">JSON-RPC API</a><button aria-label="展开侧边栏分类 &#x27;JSON-RPC API&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/core/build/quickstart-for-eth-devs">QuickStart for Ethereum Developers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/core/build/grants">基金会补助</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/docs/core/build/run-a-core-node">Run a Core Node</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh-CN/docs/core/FAQs">常见问题解答</a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="页面路径"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="主页面" class="breadcrumbs__link" href="/zh-CN/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/zh-CN/docs/category/core-space-basics"><span itemprop="name">Core Space Basics</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">代付机制</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">本页总览</button></div><div class="theme-doc-markdown markdown"><header><h1>代付机制</h1></header><p>Conflux Core 空间实现了代付机制，来补贴智能合约的使用。 这允许余额为零的新账户调用智能合约，前提是执行操作得到代付（通常由Dapp运营者提供）。 这个机制旨在降低新用户的入门门槛。
为区块链的大规模应用铺平道路。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="简介">简介<a href="#简介" class="hash-link" aria-label="简介的直接链接" title="简介的直接链接">​</a></h2>
<p>在区块链世界中，发送交易时支付交易费是非常常见的。 以太坊有燃气费，而Conflux Core Space不仅有燃气费，还有存储抵押费。 通常，这些费用由交易的发送方支付。 然而，很多刚进入区块链世界的新用户可能不理解这些概念，没有代币来支付这些费用，从而构成进入区块链世界的障碍。 为了解决这种障碍，Conflux Core Space引入了代付机制。</p>
<p>赞助机制允许合约得到赞助。 一旦进行赞助，调用合约时产生的交易费用将由 赞助方支付，这意味着用户无需担心或支付这些费用。 赞助方可以是合约的所有者或其他任何人。 想象一下，一个部署在 Core Space 上的 <code>USDT</code> 代币，任何人都可以在无需支付任何费用情况下进行转账 —— 这对于新用户来说非常友好。</p>
<p>交易的 gas 费和存储抵押都可以被赞助，并且它们可以由两个不同的赞助方赞助。 例如，合约的燃气费可以由赞助方A赞助，而存储抵押由赞助方B赞助。</p>
<p>请注意，只有合约可以被赞助；赞助机制不适用于普通账户。 这意味着对于标准的CFX转账交易，燃气费需要由发送方支付。</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="如何赞助智能合约">如何赞助智能合约<a href="#如何赞助智能合约" class="hash-link" aria-label="如何赞助智能合约的直接链接" title="如何赞助智能合约的直接链接">​</a></h2>
<p>要赞助合约，赞助方需要调用 <a href="/zh-CN/docs/core/core-space-basics/internal-contracts/sponsor-whitelist-control">SponsorWhitelistControll</a> 内置合约。 它还会记录智能合约的赞助信息。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="燃气费赞助">燃气费赞助<a href="#燃气费赞助" class="hash-link" aria-label="燃气费赞助的直接链接" title="燃气费赞助的直接链接">​</a></h3>
<p>要赞助合约的燃气费用，您可以调用 <code>SponsorWhitelistControl</code> 的 <code>setSponsorForGas</code> 方法。 此方法有两个参数：</p>
<ul>
<li><code>contractAddr</code>：要赞助的合约地址。</li>
<li><code>upperBound</code>: 每笔交易中的 gas 赞助上限值, 以 Drip 为单位, 1 CFX = 10^18 Drip。 如果与同一智能合约交互的交易产生的 gas 费用 (按 gasPrice * gasLimit 计算)超过了这一限额，则不能获得赞助。</li>
</ul>
<p>目前， Conflux Core 网络中的最小的 gas 费用是 1 Gdrip，也就是10^9 Drip。 通常情况下，一笔交 易的 gas 开销从数万到数十万不等。 因此，<code>upperBound</code> 通常被设定为 500万 GDrip 左右。 特殊情况下，这个数值可以根据具体需求加以调整。</p>
<p>Additionally, the total amount of gas fees to be sponsored needs to be set through the <code>value</code> field of the transaction. 这意味着在调用此方法时，必须同时进行 CFX 转账。 此外，每笔赞助金额应足以支付至少 <code>1000笔交易</code>（1000 * upperBound）的gas费用。 For instance, if the upperBound is set to 1 million GDrip, then each sponsorship amount should be at least 1000 * 1 million GDrip.</p>
<p>For example, to sponsor Contract A with a sponsorship upperbound of 1 million GDrip and a total sponsorship amount of 100 CFX, you would initiate a transaction calling <code>setSponsorForGas(A, 10^15)</code>, with the transaction&#x27;s value field set to 100 CFX.</p>
<p>这个内置合约还提供了几种方法来查询合约的赞助信息：</p>
<ol>
<li><code>getSponsoredGasFeeUpperBound</code>: To query the upper limit of gas fee sponsorship for a contract.</li>
<li><code>getSponsoredBalanceForGas</code>：查询合约被赞助的 gas 费剩余余额。</li>
<li><code>getSponsorForGas</code>：查询合约 gas 费的赞助者。</li>
</ol>
<p>如果在调用 <code>setSponsorForGas</code> 时合约已经有了赞助者，并且新的赞助者与当前赞助者相同，合约的赞助余额将会增加。 如果新的赞助者发生变动，合约的赞助余额将被被替换。 在这种情况下，赞助金额需要大于 <code> currentSponsorBalance + 1000 * upperBound</code>。 前一个赞助者的赞助余额将被退还，剩余金额将更换为赞助者后的赞助余额。</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="关于存储的赞助">关于存储的赞助<a href="#关于存储的赞助" class="hash-link" aria-label="关于存储的赞助的直接链接" title="关于存储的赞助的直接链接">​</a></h3>
<p>要赞助合约的存储抵  押，可以调用 <code>SponsorWhitelistControl</code> 里面的 <code>setSponsorForCollateral</code> 方法。 这个方法只需要一个参数：</p>
<ul>
<li><code>contractAddr</code>：想要赞助的合约地址。</li>
</ul>
<p>赞助的<strong>总金额</strong>也可以通过交易的 value 来指定。 根据 CIP-107，赞助金额设定后，其中的一部分(当前为 50% )将转换为存储点。 存储点和存储赞助余额都可以用来支付合约存储抵押物的费用，存储赞助余额会被优先使用。</p>
<p>这个内置合约还提供了几种方法来查询合约的赞助信息：</p>
<ol>
<li><code>getSponsoredBalanceForCollateral</code>：查询合约存储抵押赞助的剩余余额。</li>
<li><code>getSponsorForCollateral</code>：查询合约存储的赞助者。</li>
<li><code>getAvailableStoragePoints</code>：查询合约的存储点的剩余余额。</li>
</ol>
<p>类似的，如果在调用 <code>setSponsorForCollateral</code> 时合约已经有了赞助者，且新赞助者与当前赞助者相同，则合约的赞助余额将增加。 如果新的赞助者发生变动，合约的赞助余额将被替换。 In this case, the amount of sponsorship needs to be greater than <code>currentSponsorBalance</code> + <code>currentCollateral</code>. The balance and collateral of the previous sponsor will be refunded, and the remaining amount will serve as the sponsorship balance after the change of sponsor (a portion of which will be converted into storage points).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="whitelist">Whitelist<a href="#whitelist" class="hash-link" aria-label="Whitelist的直接链接" title="Whitelist的直接链接">​</a></h3>
<p><code>SponsorWhitelistControl</code> also maintains a whitelist for each sponsored contract. Only addresses on this whitelist can enjoy the benefits of the sponsorship when interacting with the contract; otherwise, the transaction fees must be paid by the sender. This whitelist can be modified using the <code>addPrivilegeByAdmin</code> and <code>removePrivilegeByAdmin</code> methods of <code>SponsorWhitelistControl</code>.</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">addPrivilegeByAdmin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">address contractAddr</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> address</span><span class="token parameter punctuation" style="color:#393A34">[</span><span class="token parameter punctuation" style="color:#393A34">]</span><span class="token parameter"> memory addresses</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">public</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">removePrivilegeByAdmin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">address contractAddr</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> address</span><span class="token parameter punctuation" style="color:#393A34">[</span><span class="token parameter punctuation" style="color:#393A34">]</span><span class="token parameter"> memory addresses</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">public</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>These two methods can only be called by the administrator of the contract, who by default is the creator of the contract. For more details, you can refer to the <a href="/zh-CN/docs/core/core-space-basics/internal-contracts/admin"><code>AdminControl</code> built-in contract</a>.</p>
<p>The zero address <strong>0x0000000000000000000000000000000000000000</strong> is a special address. When added to the whitelist, it allows all addresses to enjoy the sponsorship benefits.</p>
<p>The current status of the whitelist can be queried using the following methods:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// return true if the user is whitelisted for the contract</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">isWhitelisted</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">address contractAddr</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> address user</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> view </span><span class="token function" style="color:#d73a49">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">bool</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// return true if all users are whitelisted for the contract</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">function</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">isAllWhitelisted</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">address contractAddr</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">public</span><span class="token plain"> view </span><span class="token function" style="color:#d73a49">returns</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">bool</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="常见问题解答">常见问题解答<a href="#常见问题解答" class="hash-link" aria-label="常见问题解答的直接链接" title="常见问题解答的直接链接">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-check-if-a-contract-is-sponsored">How to check if a contract is sponsored?<a href="#how-to-check-if-a-contract-is-sponsored" class="hash-link" aria-label="How to check if a contract is sponsored?的直接链接" title="How to check if a contract is sponsored?的直接链接">​</a></h3>
<p>You can call <code>SponsorWhitelistControl</code>&#x27;s query methods to check the sponsorship information of a contract. For example, <code>getSponsorForGas</code> to check the gas sponsor.</p>
<p>You can use ConfluxScan&#x27;s <a href="https://confluxscan.io/address/cfx:aaejuaaaaaaaaaaaaaaaaaaaaaaaaaaaaegg2r16ar?tab=contract-viewer" target="_blank" rel="noopener noreferrer">Read and Write Contract page</a> to call the query methods.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="why-did-my-transaction-fail-even-after-i-sponsored-a-contract">Why Did My Transaction Fail Even After I Sponsored a Contract?<a href="#why-did-my-transaction-fail-even-after-i-sponsored-a-contract" class="hash-link" aria-label="Why Did My Transaction Fail Even After I Sponsored a Contract?的直接链接" title="Why Did My Transaction Fail Even After I Sponsored a Contract?的直接链接">​</a></h3>
<p>There are several reasons that may cause the transaction to fail:</p>
<ol>
<li>Upperbound is too small.</li>
<li>The sponsor balance is not enough.</li>
<li>The whitelist is not set correctly.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="why-is-the-sponsor-balance-lower-than-the-amount-i-sponsored">Why is the Sponsor Balance Lower than the Amount I Sponsored?<a href="#why-is-the-sponsor-balance-lower-than-the-amount-i-sponsored" class="hash-link" aria-label="Why is the Sponsor Balance Lower than the Amount I Sponsored?的直接链接" title="Why is the Sponsor Balance Lower than the Amount I Sponsored?的直接链接">​</a></h3>
<p>If sponsor replacement happens, the previous sponsor balance will be returned to the sponsor. The remaining balance will be used as the new sponsor balance.</p>
<p>And for the storage sponsorship, part of the sponsor balance will be converted to storage points.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="can-unused-cfx-sponsorship-funds-be-refunded">Can Unused CFX Sponsorship Funds be Refunded?<a href="#can-unused-cfx-sponsorship-funds-be-refunded" class="hash-link" aria-label="Can Unused CFX Sponsorship Funds be Refunded?的直接链接" title="Can Unused CFX Sponsorship Funds be Refunded?的直接链接">​</a></h3>
<p>Refunds for unused CFX in sponsorship are restricted to full refunds. Partial refunds are not available under any circumstances. To initiate a full refund, there are two options:</p>
<ol>
<li>Terminate (destroy) the sponsored contract.</li>
<li>Arrange for a new sponsor to replace the existing one.</li>
</ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://crowdin.com/project/conflux/zh-CN" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>编辑此页</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="文件选项卡"><a class="pagination-nav__link pagination-nav__link--prev" href="/zh-CN/docs/core/core-space-basics/transactions/faqs"><div class="pagination-nav__sublabel">上一页</div><div class="pagination-nav__label">常见问题解答</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/zh-CN/docs/core/core-space-basics/vm-difference"><div class="pagination-nav__sublabel">下一页</div><div class="pagination-nav__label">虚拟机的差异</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#简介" class="table-of-contents__link toc-highlight">简介</a></li><li><a href="#如何赞助智能合约" class="table-of-contents__link toc-highlight">如何赞助智能合约</a><ul><li><a href="#燃气费赞助" class="table-of-contents__link toc-highlight">燃气费赞助</a></li><li><a href="#关于存储的赞助" class="table-of-contents__link toc-highlight">关于存储的赞助</a></li><li><a href="#whitelist" class="table-of-contents__link toc-highlight">Whitelist</a></li></ul></li><li><a href="#常见问题解答" class="table-of-contents__link toc-highlight">常见问题解答</a><ul><li><a href="#how-to-check-if-a-contract-is-sponsored" class="table-of-contents__link toc-highlight">How to check if a contract is sponsored?</a></li><li><a href="#why-did-my-transaction-fail-even-after-i-sponsored-a-contract" class="table-of-contents__link toc-highlight">Why Did My Transaction Fail Even After I Sponsored a Contract?</a></li><li><a href="#why-is-the-sponsor-balance-lower-than-the-amount-i-sponsored" class="table-of-contents__link toc-highlight">Why is the Sponsor Balance Lower than the Amount I Sponsored?</a></li><li><a href="#can-unused-cfx-sponsorship-funds-be-refunded" class="table-of-contents__link toc-highlight">Can Unused CFX Sponsorship Funds be Refunded?</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Quick Links</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/zh-CN/docs/espace/network-endpoints">eSpace RPC Endpoints</a></li><li class="footer__item"><a class="footer__link-item" href="/zh-CN/docs/core/conflux_rpcs">Core Space RPC Endpoints</a></li></ul></div><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://confluxnetwork.org" target="_blank" rel="noopener noreferrer" class="footer__link-item">Conflux Website</a></li><li class="footer__item"><a href="https://forum.conflux.fun" target="_blank" rel="noopener noreferrer" class="footer__link-item">Conflux Forum</a></li><li class="footer__item"><a href="https://github.com/Conflux-Chain" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github</a></li><li class="footer__item"><a href="https://docs.fluentwallet.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Fluent Docs</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/conflux-network" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://t.me/Conflux_English" target="_blank" rel="noopener noreferrer" class="footer__link-item">Telegram</a></li><li class="footer__item"><a href="https://app.dework.xyz/conflux" target="_blank" rel="noopener noreferrer" class="footer__link-item">DeWork</a></li></ul></div><div class="col footer__col"><div class="footer__title">Developers</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://twitter.com/ConfluxDevs" target="_blank" rel="noopener noreferrer" class="footer__link-item">ConfluxDevs Twitter</a></li><li class="footer__item"><a href="https://t.me/ConfluxDevs" target="_blank" rel="noopener noreferrer" class="footer__link-item">ConfluxDevs Telegram</a></li><li class="footer__item"><a href="https://forum.conflux.fun/t/open-technical-grants/14399" target="_blank" rel="noopener noreferrer" class="footer__link-item">Open Technical Grants<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/Conflux-Chain/conflux-documentation" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contribute (Github)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/zh-CN/img/footer_logo.svg" alt="Conflux Copyright Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="32" height="16"><img src="/zh-CN/img/footer_logo.svg" alt="Conflux Copyright Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="32" height="16"></div><div class="footer__copyright">Copyright © 2024 ConfluxNetwork, Org.</div></div></div></footer></div>
</body>
</html>